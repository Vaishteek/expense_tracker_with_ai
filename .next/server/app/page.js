(()=>{var e={};e.id=974,e.ids=[974],e.modules={222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return s}});let i=r(4e4);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:n}=(0,i.parsePath)(e);return""+r+t+s+n}},1322:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:i,blurHeight:s,blurDataURL:n,objectFit:a}=e,o=i?40*i:t,l=s?40*s:r,d=o&&l?"viewBox='0 0 "+o+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+d+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(d?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+n+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},1933:(e,t)=>{"use strict";function r(e){var t;let{config:r,src:i,width:s,quality:n}=e,a=n||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(i)+"&w="+s+"&q="+a+(i.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}}),r.__next_img_default=!0;let i=r},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4768:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Alit Technologies Internship\\\\Front-end-Development\\\\expense_tracker_with_ai\\\\components\\\\BarChart.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\components\\BarChart.tsx","default")},7462:(e,t,r)=>{"use strict";r.d(t,{db:()=>s});var i=r(96330);let s=globalThis.prisma||new i.PrismaClient},7944:(e,t,r)=>{let i={unstable_cache:r(18839).e,revalidateTag:r(51851).revalidateTag,revalidatePath:r(51851).revalidatePath,unstable_expireTag:r(51851).unstable_expireTag,unstable_expirePath:r(51851).unstable_expirePath,unstable_noStore:r(18446).M,unstable_cacheLife:r(83409).F,unstable_cacheTag:r(10421).z};e.exports=i,t.unstable_cache=i.unstable_cache,t.revalidatePath=i.revalidatePath,t.revalidateTag=i.revalidateTag,t.unstable_expireTag=i.unstable_expireTag,t.unstable_expirePath=i.unstable_expirePath,t.unstable_noStore=i.unstable_noStore,t.unstable_cacheLife=i.unstable_cacheLife,t.unstable_cacheTag=i.unstable_cacheTag},8960:(e,t,r)=>{"use strict";r.d(t,{n:()=>N});var i,s,n,a,o,l,d,c,h,u,f,p,g,m,b,x,y,_,v,w=r(29829);r(56869);var k=r(81853);r(15614),r(12618);var S=r(80444),E=r(53493),R=r(8777),A=class{constructor(){(0,R.VK)(this,n),(0,R.VK)(this,i,"clerk_telemetry_throttler"),(0,R.VK)(this,s,864e5)}isEventThrottled(e){if(!(0,R.S7)(this,n,l))return!1;let t=Date.now(),r=(0,R.jq)(this,n,a).call(this,e),d=(0,R.S7)(this,n,o)?.[r];if(!d){let e={...(0,R.S7)(this,n,o),[r]:t};localStorage.setItem((0,R.S7)(this,i),JSON.stringify(e))}if(d&&t-d>(0,R.S7)(this,s)){let e=(0,R.S7)(this,n,o);delete e[r],localStorage.setItem((0,R.S7)(this,i),JSON.stringify(e))}return!!d}};i=new WeakMap,s=new WeakMap,n=new WeakSet,a=function(e){let{sk:t,pk:r,payload:i,...s}=e,n={...i,...s};return JSON.stringify(Object.keys({...i,...s}).sort().map(e=>n[e]))},o=function(){let e=localStorage.getItem((0,R.S7)(this,i));return e?JSON.parse(e):{}},l=function(){if("undefined"==typeof window)return!1;let e=window.localStorage;if(!e)return!1;try{let t="test";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e.length>0&&e.removeItem((0,R.S7)(this,i)),!1}};var O={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},P=class{constructor(e){(0,R.VK)(this,p),(0,R.VK)(this,d),(0,R.VK)(this,c),(0,R.VK)(this,h,{}),(0,R.VK)(this,u,[]),(0,R.VK)(this,f),(0,R.OV)(this,d,{maxBufferSize:e.maxBufferSize??O.maxBufferSize,samplingRate:e.samplingRate??O.samplingRate,perEventSampling:e.perEventSampling??!0,disabled:e.disabled??!1,debug:e.debug??!1,endpoint:O.endpoint}),e.clerkVersion||"undefined"!=typeof window?(0,R.S7)(this,h).clerkVersion=e.clerkVersion??"":(0,R.S7)(this,h).clerkVersion="",(0,R.S7)(this,h).sdk=e.sdk,(0,R.S7)(this,h).sdkVersion=e.sdkVersion,(0,R.S7)(this,h).publishableKey=e.publishableKey??"";let t=(0,E.q5)(e.publishableKey);t&&((0,R.S7)(this,h).instanceType=t.instanceType),e.secretKey&&((0,R.S7)(this,h).secretKey=e.secretKey.substring(0,16)),(0,R.OV)(this,c,new A)}get isEnabled(){return!("development"!==(0,R.S7)(this,h).instanceType||(0,R.S7)(this,d).disabled||"undefined"!=typeof process&&process.env&&(0,S.zz)(process.env.CLERK_TELEMETRY_DISABLED)||"undefined"!=typeof window&&window?.navigator?.webdriver)}get isDebug(){return(0,R.S7)(this,d).debug||"undefined"!=typeof process&&process.env&&(0,S.zz)(process.env.CLERK_TELEMETRY_DEBUG)}record(e){let t=(0,R.jq)(this,p,v).call(this,e.event,e.payload);(0,R.jq)(this,p,y).call(this,t.event,t),(0,R.jq)(this,p,g).call(this,t,e.eventSamplingRate)&&((0,R.S7)(this,u).push(t),(0,R.jq)(this,p,b).call(this))}};d=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakSet,g=function(e,t){return this.isEnabled&&!this.isDebug&&(0,R.jq)(this,p,m).call(this,e,t)},m=function(e,t){let r=Math.random();return!!(r<=(0,R.S7)(this,d).samplingRate&&(!1===(0,R.S7)(this,d).perEventSampling||void 0===t||r<=t))&&!(0,R.S7)(this,c).isEventThrottled(e)},b=function(){if("undefined"==typeof window)return void(0,R.jq)(this,p,x).call(this);if((0,R.S7)(this,u).length>=(0,R.S7)(this,d).maxBufferSize){(0,R.S7)(this,f)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)((0,R.S7)(this,f)),(0,R.jq)(this,p,x).call(this);return}(0,R.S7)(this,f)||("requestIdleCallback"in window?(0,R.OV)(this,f,requestIdleCallback(()=>{(0,R.jq)(this,p,x).call(this)})):(0,R.OV)(this,f,setTimeout(()=>{(0,R.jq)(this,p,x).call(this)},0)))},x=function(){let e=[...(0,R.S7)(this,u)];(0,R.OV)(this,u,[]),(0,R.OV)(this,f,null),0!==e.length&&fetch(new URL("/v1/event",(0,R.S7)(this,d).endpoint),{method:"POST",body:JSON.stringify({events:e}),keepalive:!0,headers:{"Content-Type":"application/json"}}).catch(()=>void 0)},y=function(e,t){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))},_=function(){let e={name:(0,R.S7)(this,h).sdk,version:(0,R.S7)(this,h).sdkVersion};if("undefined"!=typeof window){let t=window;if(t.Clerk){let r=t.Clerk;if("object"==typeof r&&null!==r&&"constructor"in r&&"function"==typeof r.constructor&&r.constructor.sdkMetadata){let{name:t,version:i}=r.constructor.sdkMetadata;void 0!==t&&(e.name=t),void 0!==i&&(e.version=i)}}}return e},v=function(e,t){let r=(0,R.jq)(this,p,_).call(this);return{event:e,cv:(0,R.S7)(this,h).clerkVersion??"",it:(0,R.S7)(this,h).instanceType??"",sdk:r.name,sdkv:r.version,...(0,R.S7)(this,h).publishableKey?{pk:(0,R.S7)(this,h).publishableKey}:{},...(0,R.S7)(this,h).secretKey?{sk:(0,R.S7)(this,h).secretKey}:{},payload:t}};(0,k.C)(w.nr);var j=r(94592);let M={secretKey:j.rB,publishableKey:j.At,apiUrl:j.H$,apiVersion:j.mG,userAgent:"@clerk/nextjs@6.30.1",proxyUrl:j.Rg,domain:j.V2,isSatellite:j.fS,machineSecretKey:j.Fx,sdkMetadata:j.tm,telemetry:{disabled:j.nN,debug:j.Mh}},N=e=>(function(e){let t={...e},r=(0,w.y3)(t),i=(0,w.Bs)({options:t,apiClient:r}),s=new P({...e.telemetry,publishableKey:t.publishableKey,secretKey:t.secretKey,samplingRate:.1,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{}});return{...r,...i,telemetry:s}})({...M,...e})},9131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),r(21122);let i=r(1322),s=r(27894),n=["-moz-initial","fill","none","scale-down",void 0];function a(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t){var r,l;let d,c,h,{src:u,sizes:f,unoptimized:p=!1,priority:g=!1,loading:m,className:b,quality:x,width:y,height:_,fill:v=!1,style:w,overrideSrc:k,onLoad:S,onLoadingComplete:E,placeholder:R="empty",blurDataURL:A,fetchPriority:O,decoding:P="async",layout:j,objectFit:M,objectPosition:N,lazyBoundary:T,lazyRoot:C,...D}=e,{imgConf:I,showAltText:L,blurComplete:F,defaultLoader:$}=t,B=I||s.imageConfigDefault;if("allSizes"in B)d=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),i=null==(r=B.qualities)?void 0:r.sort((e,t)=>e-t);d={...B,allSizes:e,deviceSizes:t,qualities:i}}if(void 0===$)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let z=D.loader||$;delete D.loader,delete D.srcSet;let U="__next_img_default"in z;if(U){if("custom"===d.loader)throw Object.defineProperty(Error('Image with src "'+u+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=z;z=t=>{let{config:r,...i}=t;return e(i)}}if(j){"fill"===j&&(v=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];e&&(w={...w,...e});let t={responsive:"100vw",fill:"100vw"}[j];t&&!f&&(f=t)}let H="",W=o(y),V=o(_);if((l=u)&&"object"==typeof l&&(a(l)||void 0!==l.src)){let e=a(u)?u.default:u;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(c=e.blurWidth,h=e.blurHeight,A=A||e.blurDataURL,H=e.src,!v)if(W||V){if(W&&!V){let t=W/e.width;V=Math.round(e.height*t)}else if(!W&&V){let t=V/e.height;W=Math.round(e.width*t)}}else W=e.width,V=e.height}let q=!g&&("lazy"===m||void 0===m);(!(u="string"==typeof u?u:H)||u.startsWith("data:")||u.startsWith("blob:"))&&(p=!0,q=!1),d.unoptimized&&(p=!0),U&&!d.dangerouslyAllowSVG&&u.split("?",1)[0].endsWith(".svg")&&(p=!0);let X=o(x),K=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:M,objectPosition:N}:{},L?{}:{color:"transparent"},w),G=F||"empty"===R?null:"blur"===R?'url("data:image/svg+xml;charset=utf-8,'+(0,i.getImageBlurSvg)({widthInt:W,heightInt:V,blurWidth:c,blurHeight:h,blurDataURL:A||"",objectFit:K.objectFit})+'")':'url("'+R+'")',Y=n.includes(K.objectFit)?"fill"===K.objectFit?"100% 100%":"cover":K.objectFit,J=G?{backgroundSize:Y,backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:G}:{},Q=function(e){let{config:t,src:r,unoptimized:i,width:s,quality:n,sizes:a,loader:o}=e;if(i)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:d}=function(e,t,r){let{deviceSizes:i,allSizes:s}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let i;i=e.exec(r);)t.push(parseInt(i[2]));if(t.length){let e=.01*Math.min(...t);return{widths:s.filter(t=>t>=i[0]*e),kind:"w"}}return{widths:s,kind:"w"}}return"number"!=typeof t?{widths:i,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>s.find(t=>t>=e)||s[s.length-1]))],kind:"x"}}(t,s,a),c=l.length-1;return{sizes:a||"w"!==d?a:"100vw",srcSet:l.map((e,i)=>o({config:t,src:r,quality:n,width:e})+" "+("w"===d?e:i+1)+d).join(", "),src:o({config:t,src:r,quality:n,width:l[c]})}}({config:d,src:u,unoptimized:p,width:W,quality:X,sizes:f,loader:z});return{props:{...D,loading:q?"lazy":m,fetchPriority:O,width:W,height:V,decoding:P,className:b,style:{...K,...J},sizes:Q.sizes,srcSet:Q.srcSet,src:k||Q.src},meta:{unoptimized:p,priority:g,placeholder:R,fill:v}}}},9835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return a}});let i=r(31666),s=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,n=/\/\[[^/]+\](?=\/|$)/;function a(e,t){return(void 0===t&&(t=!0),(0,i.isInterceptionRouteAppPath)(e)&&(e=(0,i.extractInterceptionRouteInformation)(e).interceptedRoute),t)?n.test(e):s.test(e)}},10421:(e,t,r)=>{"use strict";function i(...e){throw Object.defineProperty(Error("cacheTag() is only available with the experimental.useCache config."),"__NEXT_ERROR_CODE",{value:"E628",enumerable:!1,configurable:!0})}Object.defineProperty(t,"z",{enumerable:!0,get:function(){return i}}),r(63033),r(24624)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10920:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NEXT_REQUEST_META:function(){return r},addRequestMeta:function(){return n},getRequestMeta:function(){return i},removeRequestMeta:function(){return a},setRequestMeta:function(){return s}});let r=Symbol.for("NextInternalRequestMeta");function i(e,t){let i=e[r]||{};return"string"==typeof t?i[t]:i}function s(e,t){return e[r]=t,t}function n(e,t,r){let n=i(e);return n[t]=r,s(e,n)}function a(e,t){let r=i(e);return delete r[t],s(e,r)}},12130:(e,t,r)=>{var i;(()=>{var s={226:function(s,n){!function(a,o){"use strict";var l="function",d="undefined",c="object",h="string",u="major",f="model",p="name",g="type",m="vendor",b="version",x="architecture",y="console",_="mobile",v="tablet",w="smarttv",k="wearable",S="embedded",E="Amazon",R="Apple",A="ASUS",O="BlackBerry",P="Browser",j="Chrome",M="Firefox",N="Google",T="Huawei",C="Microsoft",D="Motorola",I="Opera",L="Samsung",F="Sharp",$="Sony",B="Xiaomi",z="Zebra",U="Facebook",H="Chromium OS",W="Mac OS",V=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},q=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},X=function(e,t){return typeof e===h&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===h)return e=e.replace(/^\s\s*/,""),typeof t===d?e:e.substring(0,350)},Y=function(e,t){for(var r,i,s,n,a,d,h=0;h<t.length&&!a;){var u=t[h],f=t[h+1];for(r=i=0;r<u.length&&!a&&u[r];)if(a=u[r++].exec(e))for(s=0;s<f.length;s++)d=a[++i],typeof(n=f[s])===c&&n.length>0?2===n.length?typeof n[1]==l?this[n[0]]=n[1].call(this,d):this[n[0]]=n[1]:3===n.length?typeof n[1]!==l||n[1].exec&&n[1].test?this[n[0]]=d?d.replace(n[1],n[2]):void 0:this[n[0]]=d?n[1].call(this,d,n[2]):void 0:4===n.length&&(this[n[0]]=d?n[3].call(this,d.replace(n[1],n[2])):o):this[n]=d||o;h+=2}},J=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(X(t[r][i],e))return"?"===r?o:r}else if(X(t[r],e))return"?"===r?o:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,b],[/opios[\/ ]+([\w\.]+)/i],[b,[p,I+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[p,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[p,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+P],b],[/\bfocus\/([\w\.]+)/i],[b,[p,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[p,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[p,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[p,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[b,[p,M]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+P],b],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,U],b],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[p,j+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,j+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[p,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[b,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[p,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,b],[/(cobalt)\/([\w\.]+)/i],[p,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,K]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,L],[g,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,L],[g,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,R],[g,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,R],[g,v]],[/(macintosh);/i],[f,[m,R]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,F],[g,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,T],[g,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,T],[g,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[m,B],[g,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,B],[g,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[g,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[g,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[g,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,D],[g,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,D],[g,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,"LG"],[g,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,"LG"],[g,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[g,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[g,_]],[/(pixel c)\b/i],[f,[m,N],[g,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,N],[g,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,$],[g,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,$],[g,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[g,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,E],[g,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,E],[g,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[g,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,O],[g,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,A],[g,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,A],[g,_]],[/(nexus 9)/i],[f,[m,"HTC"],[g,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[g,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[g,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[g,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[g,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[g,v]],[/(surface duo)/i],[f,[m,C],[g,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[g,_]],[/(u304aa)/i],[f,[m,"AT&T"],[g,_]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[g,_]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[g,v]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[g,v]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[g,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[g,v]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[g,v]],[/\b(k88) b/i],[f,[m,"ZTE"],[g,v]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[g,_]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[g,_]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[g,v]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[g,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[g,v]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[g,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[g,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[g,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[g,_]],[/\b(ph-1) /i],[f,[m,"Essential"],[g,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[g,v]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[g,v]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[g,v]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[g,v]],[/(sprint) (\w+)/i],[m,f,[g,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,C],[g,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,z],[g,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,z],[g,_]],[/smart-tv.+(samsung)/i],[m,[g,w]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,L],[g,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,"LG"],[g,w]],[/(apple) ?tv/i],[m,[f,R+" TV"],[g,w]],[/crkey/i],[[f,j+"cast"],[m,N],[g,w]],[/droid.+aft(\w)( bui|\))/i],[f,[m,E],[g,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,F],[g,w]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,$],[g,w]],[/(mitv-\w{5}) bui/i],[f,[m,B],[g,w]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[g,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,G],[f,G],[g,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[g,y]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[g,y]],[/(playstation [345portablevi]+)/i],[f,[m,$],[g,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,C],[g,y]],[/((pebble))app/i],[m,f,[g,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,R],[g,k]],[/droid.+; (glass) \d/i],[f,[m,N],[g,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,z],[g,k]],[/(quest( 2| pro)?)/i],[f,[m,U],[g,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,S]],[/(aeobc)\b/i],[f,[m,E],[g,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[g,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,_]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[b,J,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[b,J,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,W],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,b],[/\(bb(10);/i],[b,[p,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[p,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[p,j+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,H],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,b],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,b]]},ee=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof a!==d&&a.navigator?a.navigator:o,i=e||(r&&r.userAgent?r.userAgent:""),s=r&&r.userAgentData?r.userAgentData:o,n=t?V(Z,t):Z,y=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[p]=o,t[b]=o,Y.call(t,i,n.browser),t[u]=typeof(e=t[b])===h?e.replace(/[^\d\.]/g,"").split(".")[0]:o,y&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[x]=o,Y.call(e,i,n.cpu),e},this.getDevice=function(){var e={};return e[m]=o,e[f]=o,e[g]=o,Y.call(e,i,n.device),y&&!e[g]&&s&&s.mobile&&(e[g]=_),y&&"Macintosh"==e[f]&&r&&typeof r.standalone!==d&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[g]=v),e},this.getEngine=function(){var e={};return e[p]=o,e[b]=o,Y.call(e,i,n.engine),e},this.getOS=function(){var e={};return e[p]=o,e[b]=o,Y.call(e,i,n.os),y&&!e[p]&&s&&"Unknown"!=s.platform&&(e[p]=s.platform.replace(/chrome os/i,H).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===h&&e.length>350?G(e,350):e,this},this.setUA(i),this};ee.VERSION="1.0.35",ee.BROWSER=q([p,b,u]),ee.CPU=q([x]),ee.DEVICE=q([f,m,g,y,_,w,v,k,S]),ee.ENGINE=ee.OS=q([p,b]),typeof n!==d?(s.exports&&(n=s.exports=ee),n.UAParser=ee):r.amdO?void 0===(i=(function(){return ee}).call(t,r,t,e))||(e.exports=i):typeof a!==d&&(a.UAParser=ee);var et=typeof a!==d&&(a.jQuery||a.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},i=!0;try{s[e].call(r.exports,r,r.exports,a),i=!1}finally{i&&delete n[e]}return r.exports}a.ab=__dirname+"/",e.exports=a(226)})()},12756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return i}});let r=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},13058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f38eca9795518ade0c2cab499b60e5fff2e0ed84a":()=>n.at,"7f896f31b6ca8fd86698da686353fd458b1a53b463":()=>i.A,"7f919b74502f731f3f7414d0f68167e2f80f99b887":()=>n.ai,"7f92d662c4e33f3de16f5fc1c840e7f87b72bb916a":()=>a.A,"7f994b3c0b8cb647ac6bc5e9c1e60f6670763d89a8":()=>n.ot,"7fdb25d194a4ebdafc8194fe1276cf64b269acb0c9":()=>s.A});var i=r(72596),s=r(22281),n=r(98749),a=r(84366)},14245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{CachedRouteKind:function(){return r},IncrementalCacheKind:function(){return i}});var r=function(e){return e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.PAGES="PAGES",e.FETCH="FETCH",e.REDIRECT="REDIRECT",e.IMAGE="IMAGE",e}({}),i=function(e){return e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.PAGES="PAGES",e.FETCH="FETCH",e.IMAGE="IMAGE",e}({})},14959:(e,t,r)=>{"use strict";e.exports=r(94041).vendored.contexts.AmpContext},16698:e=>{"use strict";e.exports=require("node:async_hooks")},17529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return i.getSortedRouteObjects},getSortedRoutes:function(){return i.getSortedRoutes},isDynamicRoute:function(){return s.isDynamicRoute}});let i=r(26343),s=r(9835)},17903:(e,t,r)=>{"use strict";e.exports=r(94041).vendored.contexts.ImageConfigContext},18446:(e,t,r)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return a}});let i=r(29294),s=r(63033),n=r(75124);function a(){let e=i.workAsyncStorage.getStore(),t=s.workUnitAsyncStorage.getStore();if(e)!e.forceStatic&&(e.isUnstableNoStore=!0,t&&"prerender"===t.type||(0,n.markCurrentScopeAsDynamic)(e,t,"unstable_noStore()"))}},18463:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},18839:(e,t,r)=>{"use strict";Object.defineProperty(t,"e",{enumerable:!0,get:function(){return c}});let i=r(36376),s=r(24624),n=r(29294),a=r(63033),o=r(75626),l=0;async function d(e,t,r,s,n,a,l){await t.set(r,{kind:o.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(e),status:200,url:""},revalidate:"number"!=typeof n?i.CACHE_ONE_YEAR:n},{fetchCache:!0,tags:s,fetchIdx:a,fetchUrl:l})}function c(e,t,r={}){if(0===r.revalidate)throw Object.defineProperty(Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${e.toString()}`),"__NEXT_ERROR_CODE",{value:"E57",enumerable:!1,configurable:!0});let i=r.tags?(0,s.validateTags)(r.tags,`unstable_cache ${e.toString()}`):[];(0,s.validateRevalidate)(r.revalidate,`unstable_cache ${e.name||e.toString()}`);let h=`${e.toString()}-${Array.isArray(t)&&t.join(",")}`;return async(...t)=>{let s=n.workAsyncStorage.getStore(),c=a.workUnitAsyncStorage.getStore(),u=(null==s?void 0:s.incrementalCache)||globalThis.__incrementalCache;if(!u)throw Object.defineProperty(Error(`Invariant: incrementalCache missing in unstable_cache ${e.toString()}`),"__NEXT_ERROR_CODE",{value:"E469",enumerable:!1,configurable:!0});let f=c&&"prerender"===c.type?c.cacheSignal:null;f&&f.beginRead();try{let n=c&&"request"===c.type?c:void 0,f=(null==n?void 0:n.url.pathname)??(null==s?void 0:s.route)??"",p=new URLSearchParams((null==n?void 0:n.url.search)??""),g=[...p.keys()].sort((e,t)=>e.localeCompare(t)).map(e=>`${e}=${p.get(e)}`).join("&"),m=`${h}-${JSON.stringify(t)}`,b=await u.generateCacheKey(m),x=`unstable_cache ${f}${g.length?"?":""}${g} ${e.name?` ${e.name}`:b}`,y=(s?s.nextFetchId:l)??1,_=null==c?void 0:c.implicitTags,v={type:"unstable-cache",phase:"render",implicitTags:_,draftMode:c&&s&&(0,a.getDraftModeProviderForCacheScope)(s,c)};if(s){if(s.nextFetchId=y+1,c&&("cache"===c.type||"prerender"===c.type||"prerender-ppr"===c.type||"prerender-legacy"===c.type)){"number"==typeof r.revalidate&&(c.revalidate<r.revalidate||(c.revalidate=r.revalidate));let e=c.tags;if(null===e)c.tags=i.slice();else for(let t of i)e.includes(t)||e.push(t)}if(!(c&&"unstable-cache"===c.type)&&"force-no-store"!==s.fetchCache&&!s.isOnDemandRevalidate&&!u.isOnDemandRevalidate&&!s.isDraftMode){let n=await u.get(b,{kind:o.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:i,softTags:null==_?void 0:_.tags,fetchIdx:y,fetchUrl:x});if(n&&n.value)if(n.value.kind!==o.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${m}`);else{let o=void 0!==n.value.data.body?JSON.parse(n.value.data.body):void 0;return n.isStale&&(s.pendingRevalidates||(s.pendingRevalidates={}),s.pendingRevalidates[m]=a.workUnitAsyncStorage.run(v,e,...t).then(e=>d(e,u,b,i,r.revalidate,y,x)).catch(e=>console.error(`revalidating cache with key: ${m}`,e))),o}}let n=await a.workUnitAsyncStorage.run(v,e,...t);return s.isDraftMode||d(n,u,b,i,r.revalidate,y,x),n}{if(l+=1,!u.isOnDemandRevalidate){let e=await u.get(b,{kind:o.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:i,fetchIdx:y,fetchUrl:x,softTags:null==_?void 0:_.tags});if(e&&e.value){if(e.value.kind!==o.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${m}`);else if(!e.isStale)return void 0!==e.value.data.body?JSON.parse(e.value.data.body):void 0}}let s=await a.workUnitAsyncStorage.run(v,e,...t);return d(s,u,b,i,r.revalidate,y,x),s}}finally{f&&f.endRead()}}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isAbortError:function(){return l},pipeToNodeResponse:function(){return d}});let i=r(75738),s=r(91563),n=r(44334),a=r(2720),o=r(37317);function l(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===i.ResponseAbortedName}async function d(e,t,r){try{let{errored:l,destroyed:d}=t;if(l||d)return;let c=(0,i.createAbortController)(t),h=function(e,t){let r=!1,i=new s.DetachedPromise;function l(){i.resolve()}e.on("drain",l),e.once("close",()=>{e.off("drain",l),i.resolve()});let d=new s.DetachedPromise;return e.once("finish",()=>{d.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=(0,o.getClientComponentLoaderMetrics)();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),(0,n.getTracer)().trace(a.NextNodeServerSpan.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await i.promise,i=new s.DetachedPromise)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),d.promise}})}(t,r);await e.pipeTo(h,{signal:c.signal})}catch(e){if(l(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}},19186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let i=r(4e4);function s(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},20464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return s}});let i=r(29294);function s(e){let t=i.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},21114:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var i=r(60687),s=r(43210),n=r(6475);let a=(0,n.createServerReference)("7f62251e09cb957e7ac9cd7c8efb25d5a7a86d8fb6",n.callServer,void 0,n.findSourceMapURL,"default"),o=(0,n.createServerReference)("401dbd97df416283b554f1b20ba88253fed7fabc30",n.callServer,void 0,n.findSourceMapURL,"suggestCategory"),l=()=>{let e=(0,s.useRef)(null),[t,r]=(0,s.useState)(50),[n,l]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[h,u]=(0,s.useState)(!1),[f,p]=(0,s.useState)(""),[g,m]=(0,s.useState)(""),[b,x]=(0,s.useState)(!1),y=async i=>{u(!0),l(null),i.set("amount",t.toString()),i.set("category",f);let{error:s}=await a(i);s?(l(`Error: ${s}`),c("error")):(l("Expense record added successfully!"),c("success"),e.current?.reset(),r(50),p(""),m("")),u(!1)},_=async()=>{if(!g.trim()){l("Please enter a description first"),c("error");return}x(!0),l(null);try{let e=await o(g);e.error?(l(`AI Suggestion: ${e.error}`),c("error")):(p(e.category),l(`AI suggested category: ${e.category}`),c("success"))}catch{l("Failed to get AI category suggestion"),c("error")}finally{x(!1)}};return(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCB3"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 leading-tight",children:"Add New Expense"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Track your spending with AI assistance"})]})]}),(0,i.jsxs)("form",{ref:e,onSubmit:t=>{t.preventDefault(),y(new FormData(e.current))},className:"space-y-6 sm:space-y-8",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 p-3 sm:p-4 bg-gradient-to-r from-emerald-50/50 to-green-50/50 dark:from-emerald-900/10 dark:to-green-900/10 rounded-xl border border-emerald-100/50 dark:border-emerald-800/50",children:[(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsxs)("label",{htmlFor:"text",className:"flex items-center gap-2 text-xs font-semibold text-gray-700 dark:text-gray-300 tracking-wide",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),"Expense Description"]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",id:"text",name:"text",value:g,onChange:e=>m(e.target.value),className:"w-full pl-3 pr-12 sm:pr-14 py-2.5 bg-white/70 dark:bg-gray-800/70 border-2 border-gray-200/80 dark:border-gray-600/80 rounded-xl focus:ring-2 focus:ring-emerald-500/30 focus:bg-white dark:focus:bg-gray-700/90 focus:border-emerald-400 dark:focus:border-emerald-400 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 text-sm shadow-sm hover:shadow-md transition-all duration-200",placeholder:"Coffee, groceries, gas...",required:!0}),(0,i.jsx)("button",{type:"button",onClick:_,disabled:b||!g.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 w-7 h-7 sm:w-8 sm:h-7 bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 disabled:from-gray-300 disabled:to-gray-300 text-white rounded-lg text-xs font-medium flex items-center justify-center shadow-lg hover:shadow-xl disabled:shadow-none transition-all duration-200",title:"AI Category Suggestion",children:b?(0,i.jsx)("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,i.jsx)("span",{className:"text-xs",children:"✨"})})]}),b&&(0,i.jsxs)("div",{className:"flex items-center gap-2 text-xs text-emerald-600 dark:text-emerald-400",children:[(0,i.jsx)("div",{className:"w-1.5 h-1.5 bg-emerald-500 dark:bg-emerald-400 rounded-full animate-pulse"}),"AI is analyzing your description..."]})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsxs)("label",{htmlFor:"date",className:"flex items-center gap-2 text-xs font-semibold text-gray-700 dark:text-gray-300 tracking-wide",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Expense Date"]}),(0,i.jsx)("input",{type:"date",name:"date",id:"date",className:"w-full px-3 py-2.5 bg-white/70 dark:bg-gray-800/70 border-2 border-gray-200/80 dark:border-gray-600/80 rounded-xl focus:ring-2 focus:ring-emerald-500/30 focus:bg-white dark:focus:bg-gray-700/90 focus:border-emerald-400 dark:focus:border-emerald-400 text-gray-900 dark:text-gray-100 text-sm shadow-sm hover:shadow-md transition-all duration-200",required:!0,onFocus:e=>e.target.showPicker()})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 p-3 sm:p-4 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10 rounded-xl border border-green-100/50 dark:border-green-800/50",children:[(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsxs)("label",{htmlFor:"category",className:"flex items-center gap-2 text-xs font-semibold text-gray-700 dark:text-gray-300 tracking-wide",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Category",(0,i.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500 ml-2 font-normal hidden sm:inline",children:"Use the ✨ button above for AI suggestions"})]}),(0,i.jsxs)("select",{id:"category",name:"category",value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2.5 bg-white/70 dark:bg-gray-800/70 border-2 border-gray-200/80 dark:border-gray-600/80 rounded-xl focus:ring-2 focus:ring-emerald-500/30 focus:bg-white dark:focus:bg-gray-700/90 focus:border-emerald-400 dark:focus:border-emerald-400 text-gray-900 dark:text-gray-100 cursor-pointer text-sm shadow-sm hover:shadow-md transition-all duration-200",required:!0,children:[(0,i.jsx)("option",{value:"",disabled:!0,className:"text-gray-400 dark:text-gray-500",children:"Select category..."}),(0,i.jsx)("option",{value:"Food",className:"text-gray-900 dark:text-gray-100",children:"\uD83C\uDF54 Food & Dining"}),(0,i.jsx)("option",{value:"Transportation",className:"text-gray-900 dark:text-gray-100",children:"\uD83D\uDE97 Transportation"}),(0,i.jsx)("option",{value:"Shopping",className:"text-gray-900 dark:text-gray-100",children:"\uD83D\uDED2 Shopping"}),(0,i.jsx)("option",{value:"Entertainment",className:"text-gray-900 dark:text-gray-100",children:"\uD83C\uDFAC Entertainment"}),(0,i.jsx)("option",{value:"Bills",className:"text-gray-900 dark:text-gray-100",children:"\uD83D\uDCA1 Bills & Utilities"}),(0,i.jsx)("option",{value:"Healthcare",className:"text-gray-900 dark:text-gray-100",children:"\uD83C\uDFE5 Healthcare"}),(0,i.jsx)("option",{value:"Other",className:"text-gray-900 dark:text-gray-100",children:"\uD83D\uDCE6 Other"})]})]}),(0,i.jsxs)("div",{className:"space-y-1.5",children:[(0,i.jsxs)("label",{htmlFor:"amount",className:"flex items-center gap-2 text-xs font-semibold text-gray-700 dark:text-gray-300 tracking-wide",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Amount",(0,i.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500 ml-2 font-normal hidden sm:inline",children:"Enter amount between $0 and $1,000"})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 font-medium text-sm",children:"$"}),(0,i.jsx)("input",{type:"number",name:"amount",id:"amount",min:"0",max:"1000",step:"0.01",value:t,onChange:e=>r(parseFloat(e.target.value)||0),className:"w-full pl-6 pr-3 py-2.5 bg-white/70 dark:bg-gray-800/70 border-2 border-gray-200/80 dark:border-gray-600/80 rounded-xl focus:ring-2 focus:ring-emerald-500/30 focus:bg-white dark:focus:bg-gray-700/90 focus:border-emerald-400 dark:focus:border-emerald-400 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 text-sm font-semibold shadow-sm hover:shadow-md transition-all duration-200",placeholder:"0.00",required:!0})]})]})]}),(0,i.jsx)("button",{type:"submit",className:"w-full relative overflow-hidden bg-gradient-to-r from-emerald-600 via-green-500 to-teal-500 hover:from-emerald-700 hover:via-green-600 hover:to-teal-600 text-white px-4 py-3 sm:px-5 sm:py-4 rounded-xl font-semibold shadow-xl hover:shadow-2xl group transition-all duration-300 border-2 border-transparent hover:border-white/20 text-sm sm:text-base",disabled:h,children:(0,i.jsx)("div",{className:"relative flex items-center justify-center gap-2",children:h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,i.jsx)("span",{children:"Processing..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"text-lg",children:"\uD83D\uDCAB"}),(0,i.jsx)("span",{children:"Add Expense"})]})})})]}),n&&(0,i.jsx)("div",{className:`mt-4 p-3 rounded-xl border-l-4 backdrop-blur-sm ${"success"===d?"bg-green-50/80 dark:bg-green-900/20 border-l-green-500 text-green-800 dark:text-green-200":"bg-red-50/80 dark:bg-red-900/20 border-l-red-500 text-red-800 dark:text-red-200"}`,children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${"success"===d?"bg-green-100 dark:bg-green-800":"bg-red-100 dark:bg-red-800"}`,children:(0,i.jsx)("span",{className:"text-sm",children:"success"===d?"✅":"⚠️"})}),(0,i.jsx)("p",{className:"font-medium text-sm",children:n})]})})]})}},21122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},22281:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(67218);r(79130);var s=r(7462),n=r(34974),a=r(17478);async function o(){let{userId:e}=await (0,n.j)();if(!e)return{error:"User not found"};try{let t=await s.db.record.findMany({where:{userId:e},select:{amount:!0}});if(0===t.length)return{bestExpense:0,worstExpense:0};let r=t.map(e=>e.amount),i=Math.max(...r),n=Math.min(...r);return{bestExpense:i,worstExpense:n}}catch(e){return console.error("Error fetching expense amounts:",e),{error:"Database error"}}}let l=o;(0,a.D)([o]),(0,i.A)(o,"7fdb25d194a4ebdafc8194fe1276cf64b269acb0c9",null)},23794:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return i.ImageResponse},NextRequest:function(){return s.NextRequest},NextResponse:function(){return n.NextResponse},URLPattern:function(){return o.URLPattern},after:function(){return l.after},connection:function(){return d.connection},unstable_rootParams:function(){return c.unstable_rootParams},userAgent:function(){return a.userAgent},userAgentFromString:function(){return a.userAgentFromString}});let i=r(91339),s=r(81661),n=r(39999),a=r(64043),o=r(70388),l=r(44234),d=r(40193),c=r(61096)},23855:(e,t,r)=>{"use strict";r.d(t,{$K:()=>eh,_l:()=>eu,Kk:()=>ep}),r(98283),r(37883),r(8777);var i=r(45951);r(32190);var s,n,a,o,l,d,c,h=r(5843),u=Object.defineProperty,f=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(null==(s="undefined"!=typeof globalThis?globalThis:void 0)?void 0:s.crypto)||(null==(n="undefined"!=typeof global?global:void 0)?void 0:n.crypto)||(null==(a="undefined"!=typeof window?window:void 0)?void 0:a.crypto)||(null==(o="undefined"!=typeof self?self:void 0)?void 0:o.crypto)||(null==(d=null==(l="undefined"!=typeof frames?frames:void 0)?void 0:l[0])?void 0:d.crypto);c=p?e=>{let t=[];for(let r=0;r<e;r+=4)t.push(p.getRandomValues(new Uint32Array(1))[0]);return new m(t,e)}:e=>{let t=[],r=e=>{let t=e,r=0x3ade68b1;return()=>{let e=((r=36969*(65535&r)+(r>>16)|0)<<16)+(t=18e3*(65535&t)+(t>>16)|0)|0;return e/=0x100000000,(e+=.5)*(Math.random()>.5?1:-1)}};for(let i=0,s;i<e;i+=4){let e=r(0x100000000*(s||Math.random()));s=0x3ade67b7*e(),t.push(0x100000000*e()|0)}return new m(t,e)};var g=class{static create(...e){return new this(...e)}mixIn(e){return Object.assign(this,e)}clone(){let e=new this.constructor;return Object.assign(e,this),e}},m=class extends g{constructor(e=[],t=4*e.length){super();let r=e;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){let e=r.byteLength,t=[];for(let i=0;i<e;i+=1)t[i>>>2]|=r[i]<<24-i%4*8;this.words=t,this.sigBytes=e}else this.words=e,this.sigBytes=t}toString(e=b){return e.stringify(this)}concat(e){let t=this.words,r=e.words,i=this.sigBytes,s=e.sigBytes;if(this.clamp(),i%4)for(let e=0;e<s;e+=1){let s=r[e>>>2]>>>24-e%4*8&255;t[i+e>>>2]|=s<<24-(i+e)%4*8}else for(let e=0;e<s;e+=4)t[i+e>>>2]=r[e>>>2];return this.sigBytes+=s,this}clamp(){let{words:e,sigBytes:t}=this;e[t>>>2]&=0xffffffff<<32-t%4*8,e.length=Math.ceil(t/4)}clone(){let e=super.clone.call(this);return e.words=this.words.slice(0),e}};((e,t,r)=>f(e,"symbol"!=typeof t?t+"":t,r))(m,"random",c);var b={stringify(e){let{words:t,sigBytes:r}=e,i=[];for(let e=0;e<r;e+=1){let r=t[e>>>2]>>>24-e%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse(e){let t=e.length,r=[];for(let i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new m(r,t/2)}},x={stringify(e){let{words:t,sigBytes:r}=e,i=[];for(let e=0;e<r;e+=1){let r=t[e>>>2]>>>24-e%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse(e){let t=e.length,r=[];for(let i=0;i<t;i+=1)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new m(r,t)}},y={stringify(e){try{return decodeURIComponent(escape(x.stringify(e)))}catch{throw Error("Malformed UTF-8 data")}},parse:e=>x.parse(unescape(encodeURIComponent(e)))},_=class extends g{constructor(){super(),this._minBufferSize=0}reset(){this._data=new m,this._nDataBytes=0}_append(e){let t=e;"string"==typeof t&&(t=y.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(e){let t,{_data:r,blockSize:i}=this,s=r.words,n=r.sigBytes,a=n/(4*i),o=(a=e?Math.ceil(a):Math.max((0|a)-this._minBufferSize,0))*i,l=Math.min(4*o,n);if(o){for(let e=0;e<o;e+=i)this._doProcessBlock(s,e);t=s.splice(0,o),r.sigBytes-=l}return new m(t,l)}clone(){let e=super.clone.call(this);return e._data=this._data.clone(),e}},v=class extends _{constructor(e){super(),this.blockSize=16,this.cfg=Object.assign(new g,e),this.reset()}static _createHelper(e){return(t,r)=>new e(r).finalize(t)}static _createHmacHelper(e){return(t,r)=>new w(e,r).finalize(t)}reset(){super.reset.call(this),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){return e&&this._append(e),this._doFinalize()}},w=class extends g{constructor(e,t){super();let r=new e;this._hasher=r;let i=t;"string"==typeof i&&(i=y.parse(i));let s=r.blockSize,n=4*s;i.sigBytes>n&&(i=r.finalize(t)),i.clamp();let a=i.clone();this._oKey=a;let o=i.clone();this._iKey=o;let l=a.words,d=o.words;for(let e=0;e<s;e+=1)l[e]^=0x5c5c5c5c,d[e]^=0x36363636;a.sigBytes=n,o.sigBytes=n,this.reset()}reset(){let e=this._hasher;e.reset(),e.update(this._iKey)}update(e){return this._hasher.update(e),this}finalize(e){let t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}},k=(e,t,r)=>{let i=[],s=0;for(let n=0;n<t;n+=1)if(n%4){let t=r[e.charCodeAt(n-1)]<<n%4*2|r[e.charCodeAt(n)]>>>6-n%4*2;i[s>>>2]|=t<<24-s%4*8,s+=1}return m.create(i,s)},S={stringify(e){let{words:t,sigBytes:r}=e,i=this._map;e.clamp();let s=[];for(let e=0;e<r;e+=3){let n=(t[e>>>2]>>>24-e%4*8&255)<<16|(t[e+1>>>2]>>>24-(e+1)%4*8&255)<<8|t[e+2>>>2]>>>24-(e+2)%4*8&255;for(let t=0;t<4&&e+.75*t<r;t+=1)s.push(i.charAt(n>>>6*(3-t)&63))}let n=i.charAt(64);if(n)for(;s.length%4;)s.push(n);return s.join("")},parse(e){let t=e.length,r=this._map,i=this._reverseMap;if(!i){this._reverseMap=[],i=this._reverseMap;for(let e=0;e<r.length;e+=1)i[r.charCodeAt(e)]=e}let s=r.charAt(64);if(s){let r=e.indexOf(s);-1!==r&&(t=r)}return k(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},E=[];for(let e=0;e<64;e+=1)E[e]=0x100000000*Math.abs(Math.sin(e+1))|0;var R=(e,t,r,i,s,n,a)=>{let o=e+(t&r|~t&i)+s+a;return(o<<n|o>>>32-n)+t},A=(e,t,r,i,s,n,a)=>{let o=e+(t&i|r&~i)+s+a;return(o<<n|o>>>32-n)+t},O=(e,t,r,i,s,n,a)=>{let o=e+(t^r^i)+s+a;return(o<<n|o>>>32-n)+t},P=(e,t,r,i,s,n,a)=>{let o=e+(r^(t|~i))+s+a;return(o<<n|o>>>32-n)+t},j=class extends v{_doReset(){this._hash=new m([0x67452301,0xefcdab89,0x98badcfe,0x10325476])}_doProcessBlock(e,t){for(let r=0;r<16;r+=1){let i=t+r,s=e[i];e[i]=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00}let r=this._hash.words,i=e[t+0],s=e[t+1],n=e[t+2],a=e[t+3],o=e[t+4],l=e[t+5],d=e[t+6],c=e[t+7],h=e[t+8],u=e[t+9],f=e[t+10],p=e[t+11],g=e[t+12],m=e[t+13],b=e[t+14],x=e[t+15],y=r[0],_=r[1],v=r[2],w=r[3];y=R(y,_,v,w,i,7,E[0]),w=R(w,y,_,v,s,12,E[1]),v=R(v,w,y,_,n,17,E[2]),_=R(_,v,w,y,a,22,E[3]),y=R(y,_,v,w,o,7,E[4]),w=R(w,y,_,v,l,12,E[5]),v=R(v,w,y,_,d,17,E[6]),_=R(_,v,w,y,c,22,E[7]),y=R(y,_,v,w,h,7,E[8]),w=R(w,y,_,v,u,12,E[9]),v=R(v,w,y,_,f,17,E[10]),_=R(_,v,w,y,p,22,E[11]),y=R(y,_,v,w,g,7,E[12]),w=R(w,y,_,v,m,12,E[13]),v=R(v,w,y,_,b,17,E[14]),_=R(_,v,w,y,x,22,E[15]),y=A(y,_,v,w,s,5,E[16]),w=A(w,y,_,v,d,9,E[17]),v=A(v,w,y,_,p,14,E[18]),_=A(_,v,w,y,i,20,E[19]),y=A(y,_,v,w,l,5,E[20]),w=A(w,y,_,v,f,9,E[21]),v=A(v,w,y,_,x,14,E[22]),_=A(_,v,w,y,o,20,E[23]),y=A(y,_,v,w,u,5,E[24]),w=A(w,y,_,v,b,9,E[25]),v=A(v,w,y,_,a,14,E[26]),_=A(_,v,w,y,h,20,E[27]),y=A(y,_,v,w,m,5,E[28]),w=A(w,y,_,v,n,9,E[29]),v=A(v,w,y,_,c,14,E[30]),_=A(_,v,w,y,g,20,E[31]),y=O(y,_,v,w,l,4,E[32]),w=O(w,y,_,v,h,11,E[33]),v=O(v,w,y,_,p,16,E[34]),_=O(_,v,w,y,b,23,E[35]),y=O(y,_,v,w,s,4,E[36]),w=O(w,y,_,v,o,11,E[37]),v=O(v,w,y,_,c,16,E[38]),_=O(_,v,w,y,f,23,E[39]),y=O(y,_,v,w,m,4,E[40]),w=O(w,y,_,v,i,11,E[41]),v=O(v,w,y,_,a,16,E[42]),_=O(_,v,w,y,d,23,E[43]),y=O(y,_,v,w,u,4,E[44]),w=O(w,y,_,v,g,11,E[45]),v=O(v,w,y,_,x,16,E[46]),_=O(_,v,w,y,n,23,E[47]),y=P(y,_,v,w,i,6,E[48]),w=P(w,y,_,v,c,10,E[49]),v=P(v,w,y,_,b,15,E[50]),_=P(_,v,w,y,l,21,E[51]),y=P(y,_,v,w,g,6,E[52]),w=P(w,y,_,v,a,10,E[53]),v=P(v,w,y,_,f,15,E[54]),_=P(_,v,w,y,s,21,E[55]),y=P(y,_,v,w,h,6,E[56]),w=P(w,y,_,v,x,10,E[57]),v=P(v,w,y,_,d,15,E[58]),_=P(_,v,w,y,m,21,E[59]),y=P(y,_,v,w,o,6,E[60]),w=P(w,y,_,v,p,10,E[61]),v=P(v,w,y,_,n,15,E[62]),_=P(_,v,w,y,u,21,E[63]),r[0]=r[0]+y|0,r[1]=r[1]+_|0,r[2]=r[2]+v|0,r[3]=r[3]+w|0}_doFinalize(){let e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;let s=Math.floor(r/0x100000000);t[(i+64>>>9<<4)+15]=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00,t[(i+64>>>9<<4)+14]=(r<<8|r>>>24)&0xff00ff|(r<<24|r>>>8)&0xff00ff00,e.sigBytes=(t.length+1)*4,this._process();let n=this._hash,a=n.words;for(let e=0;e<4;e+=1){let t=a[e];a[e]=(t<<8|t>>>24)&0xff00ff|(t<<24|t>>>8)&0xff00ff00}return n}clone(){let e=super.clone.call(this);return e._hash=this._hash.clone(),e}};v._createHelper(j),v._createHmacHelper(j);var M=class extends g{constructor(e){super(),this.cfg=Object.assign(new g,{keySize:4,hasher:j,iterations:1},e)}compute(e,t){let r,{cfg:i}=this,s=i.hasher.create(),n=m.create(),a=n.words,{keySize:o,iterations:l}=i;for(;a.length<o;){r&&s.update(r),r=s.update(e).finalize(t),s.reset();for(let e=1;e<l;e+=1)r=s.finalize(r),s.reset();n.concat(r)}return n.sigBytes=4*o,n}},N=class extends _{constructor(e,t,r){super(),this.cfg=Object.assign(new g,r),this._xformMode=e,this._key=t,this.reset()}static createEncryptor(e,t){return this.create(this._ENC_XFORM_MODE,e,t)}static createDecryptor(e,t){return this.create(this._DEC_XFORM_MODE,e,t)}static _createHelper(e){let t=e=>"string"==typeof e?B:$;return{encrypt:(r,i,s)=>t(i).encrypt(e,r,i,s),decrypt:(r,i,s)=>t(i).decrypt(e,r,i,s)}}reset(){super.reset.call(this),this._doReset()}process(e){return this._append(e),this._process()}finalize(e){return e&&this._append(e),this._doFinalize()}};N._ENC_XFORM_MODE=1,N._DEC_XFORM_MODE=2,N.keySize=4,N.ivSize=4;var T=class extends g{constructor(e,t){super(),this._cipher=e,this._iv=t}static createEncryptor(e,t){return this.Encryptor.create(e,t)}static createDecryptor(e,t){return this.Decryptor.create(e,t)}};function C(e,t,r){let i,s=this._iv;s?(i=s,this._iv=void 0):i=this._prevBlock;for(let s=0;s<r;s+=1)e[t+s]^=i[s]}var D=class extends T{};D.Encryptor=class extends D{processBlock(e,t){let r=this._cipher,{blockSize:i}=r;C.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}},D.Decryptor=class extends D{processBlock(e,t){let r=this._cipher,{blockSize:i}=r,s=e.slice(t,t+i);r.decryptBlock(e,t),C.call(this,e,t,i),this._prevBlock=s}};var I={pad(e,t){let r=4*t,i=r-e.sigBytes%r,s=i<<24|i<<16|i<<8|i,n=[];for(let e=0;e<i;e+=4)n.push(s);let a=m.create(n,i);e.concat(a)},unpad(e){let t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},L=class extends N{constructor(e,t,r){super(e,t,Object.assign({mode:D,padding:I},r)),this.blockSize=4}reset(){let e;super.reset.call(this);let{cfg:t}=this,{iv:r,mode:i}=t;this._xformMode===this.constructor._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode=e.call(i,this,r&&r.words),this._mode.__creator=e}_doProcessBlock(e,t){this._mode.processBlock(e,t)}_doFinalize(){let e,{padding:t}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e}},F=class extends g{constructor(e){super(),this.mixIn(e)}toString(e){return(e||this.formatter).stringify(this)}},$=class extends g{static encrypt(e,t,r,i){let s=Object.assign(new g,this.cfg,i),n=e.createEncryptor(r,s),a=n.finalize(t),o=n.cfg;return F.create({ciphertext:a,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:n.blockSize,formatter:s.format})}static decrypt(e,t,r,i){let s=t,n=Object.assign(new g,this.cfg,i);return s=this._parse(s,n.format),e.createDecryptor(r,n).finalize(s.ciphertext)}static _parse(e,t){return"string"==typeof e?t.parse(e,this):e}};$.cfg=Object.assign(new g,{format:{stringify(e){let t,{ciphertext:r,salt:i}=e;return(i?m.create([0x53616c74,0x65645f5f]).concat(i).concat(r):r).toString(S)},parse(e){let t,r=S.parse(e),i=r.words;return 0x53616c74===i[0]&&0x65645f5f===i[1]&&(t=m.create(i.slice(2,4)),i.splice(0,4),r.sigBytes-=16),F.create({ciphertext:r,salt:t})}}});var B=class extends ${static encrypt(e,t,r,i){let s=Object.assign(new g,this.cfg,i),n=s.kdf.execute(r,e.keySize,e.ivSize,s.salt,s.hasher);s.iv=n.iv;let a=$.encrypt.call(this,e,t,n.key,s);return a.mixIn(n),a}static decrypt(e,t,r,i){let s=t,n=Object.assign(new g,this.cfg,i);s=this._parse(s,n.format);let a=n.kdf.execute(r,e.keySize,e.ivSize,s.salt,n.hasher);return n.iv=a.iv,$.decrypt.call(this,e,s,a.key,n)}};B.cfg=Object.assign($.cfg,{kdf:{execute(e,t,r,i,s){let n,a=i;a||(a=m.random(8)),n=s?M.create({keySize:t+r,hasher:s}).compute(e,a):M.create({keySize:t+r}).compute(e,a);let o=m.create(n.words.slice(t),4*r);return n.sigBytes=4*t,F.create({key:n,iv:o,salt:a})}}});var z=[],U=[],H=[],W=[],V=[],q=[],X=[],K=[],G=[],Y=[],J=[];for(let e=0;e<256;e+=1)e<128?J[e]=e<<1:J[e]=e<<1^283;var Q=0,Z=0;for(let e=0;e<256;e+=1){let e=Z^Z<<1^Z<<2^Z<<3^Z<<4;e=e>>>8^255&e^99,z[Q]=e,U[e]=Q;let t=J[Q],r=J[t],i=J[r],s=257*J[e]^0x1010100*e;H[Q]=s<<24|s>>>8,W[Q]=s<<16|s>>>16,V[Q]=s<<8|s>>>24,q[Q]=s,s=0x1010101*i^65537*r^257*t^0x1010100*Q,X[e]=s<<24|s>>>8,K[e]=s<<16|s>>>16,G[e]=s<<8|s>>>24,Y[e]=s,Q?(Q=t^J[J[J[i^t]]],Z^=J[J[Z]]):Q=Z=1}var ee=[0,1,2,4,8,16,32,64,128,27,54],et=class extends L{_doReset(){let e;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;let t=this._keyPriorReset,r=t.words,i=t.sigBytes/4;this._nRounds=i+6;let s=(this._nRounds+1)*4;this._keySchedule=[];let n=this._keySchedule;for(let t=0;t<s;t+=1)t<i?n[t]=r[t]:(e=n[t-1],t%i?i>6&&t%i==4&&(e=z[e>>>24]<<24|z[e>>>16&255]<<16|z[e>>>8&255]<<8|z[255&e]):e=(z[(e=e<<8|e>>>24)>>>24]<<24|z[e>>>16&255]<<16|z[e>>>8&255]<<8|z[255&e])^ee[t/i|0]<<24,n[t]=n[t-i]^e);this._invKeySchedule=[];let a=this._invKeySchedule;for(let t=0;t<s;t+=1){let r=s-t;e=t%4?n[r]:n[r-4],t<4||r<=4?a[t]=e:a[t]=X[z[e>>>24]]^K[z[e>>>16&255]]^G[z[e>>>8&255]]^Y[z[255&e]]}}encryptBlock(e,t){this._doCryptBlock(e,t,this._keySchedule,H,W,V,q,z)}decryptBlock(e,t){let r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,X,K,G,Y,U),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r}_doCryptBlock(e,t,r,i,s,n,a,o){let l=this._nRounds,d=e[t]^r[0],c=e[t+1]^r[1],h=e[t+2]^r[2],u=e[t+3]^r[3],f=4;for(let e=1;e<l;e+=1){let e=i[d>>>24]^s[c>>>16&255]^n[h>>>8&255]^a[255&u]^r[f];f+=1;let t=i[c>>>24]^s[h>>>16&255]^n[u>>>8&255]^a[255&d]^r[f];f+=1;let o=i[h>>>24]^s[u>>>16&255]^n[d>>>8&255]^a[255&c]^r[f];f+=1;let l=i[u>>>24]^s[d>>>16&255]^n[c>>>8&255]^a[255&h]^r[f];f+=1,d=e,c=t,h=o,u=l}let p=(o[d>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&u])^r[f];f+=1;let g=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^r[f];f+=1;let m=(o[h>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&c])^r[f];f+=1;let b=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^r[f];f+=1,e[t]=p,e[t+1]=g,e[t+2]=m,e[t+3]=b}};et.keySize=8;var er=L._createHelper(et),ei=[],es=class extends v{_doReset(){this._hash=new m([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0])}_doProcessBlock(e,t){let r=this._hash.words,i=r[0],s=r[1],n=r[2],a=r[3],o=r[4];for(let r=0;r<80;r+=1){if(r<16)ei[r]=0|e[t+r];else{let e=ei[r-3]^ei[r-8]^ei[r-14]^ei[r-16];ei[r]=e<<1|e>>>31}let l=(i<<5|i>>>27)+o+ei[r];r<20?l+=(s&n|~s&a)+0x5a827999:r<40?l+=(s^n^a)+0x6ed9eba1:r<60?l+=(s&n|s&a|n&a)-0x70e44324:l+=(s^n^a)-0x359d3e2a,o=a,a=n,n=s<<30|s>>>2,s=i,i=l}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+n|0,r[3]=r[3]+a|0,r[4]=r[4]+o|0}_doFinalize(){let e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=Math.floor(r/0x100000000),t[(i+64>>>9<<4)+15]=r,e.sigBytes=4*t.length,this._process(),this._hash}clone(){let e=super.clone.call(this);return e._hash=this._hash.clone(),e}},en=(v._createHelper(es),v._createHmacHelper(es)),ea=r(94592),eo=r(49270),el=r(44335);let ed="x-middleware-override-headers",ec="x-middleware-request";function eh(e,t){if(!(0,el.Zd)(e))throw Error(t)}function eu(e,t,r){if(!r||en(e,t).toString()!==r)throw Error(eo._t)}let ef="clerk_keyless_dummy_key";function ep(e){if(!e)return{};let t=(0,i.Fj)()?ea.o7||ea.rB:ea.o7||ea.rB||ef;try{return em(e,t)}catch{if(h.I)try{return em(e,ef)}catch{eg()}eg()}}function eg(){if((0,i.Fj)())throw Error(eo.mJ);throw Error(eo.RC)}function em(e,t){return JSON.parse(er.decrypt(e,t).toString(y))}},24624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NEXT_PATCH_SYMBOL:function(){return u},createPatchedFetcher:function(){return m},patchFetch:function(){return b},validateRevalidate:function(){return f},validateTags:function(){return p}});let i=r(2720),s=r(44334),n=r(36376),a=r(75124),o=r(37461),l=r(98485),d=r(75626),c=r(97748),h=r(72150),u=Symbol.for("next-patch");function f(e,t){try{let r;if(!1===e)r=n.INFINITE_CACHE;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}function p(e,t){let r=[],i=[];for(let s=0;s<e.length;s++){let a=e[s];if("string"!=typeof a?i.push({tag:a,reason:"invalid type, must be a string"}):a.length>n.NEXT_CACHE_TAG_MAX_LENGTH?i.push({tag:a,reason:`exceeded max length of ${n.NEXT_CACHE_TAG_MAX_LENGTH}`}):r.push(a),r.length>n.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(s).join(", "));break}}if(i.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),i))console.log(`tag: "${e}" ${r}`);return r}function g(e,t){var r;if(e&&(null==(r=e.requestEndedState)?!void 0:!r.ended))((process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS)&&e.isStaticGeneration||0)&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}function m(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let l=async(l,u)=>{var m,b;let x;try{(x=new URL(l instanceof Request?l.url:l)).username="",x.password=""}catch{x=void 0}let y=(null==x?void 0:x.href)??"",_=(null==u||null==(m=u.method)?void 0:m.toUpperCase())||"GET",v=(null==u||null==(b=u.next)?void 0:b.internal)===!0,w="1"===process.env.NEXT_OTEL_FETCH_DISABLED,k=v?void 0:performance.timeOrigin+performance.now(),S=t.getStore(),E=r.getStore(),R=E&&"prerender"===E.type?E.cacheSignal:null;R&&R.beginRead();let A=(0,s.getTracer)().trace(v?i.NextNodeServerSpan.internalFetch:i.AppRenderSpan.fetch,{hideSpan:w,kind:s.SpanKind.CLIENT,spanName:["fetch",_,y].filter(Boolean).join(" "),attributes:{"http.url":y,"http.method":_,"net.peer.name":null==x?void 0:x.hostname,"net.peer.port":(null==x?void 0:x.port)||void 0}},async()=>{var t;let r,i,s,m;if(v||!S||S.isDraftMode)return e(l,u);let b=l&&"object"==typeof l&&"string"==typeof l.method,x=e=>(null==u?void 0:u[e])||(b?l[e]:null),_=e=>{var t,r,i;return void 0!==(null==u||null==(t=u.next)?void 0:t[e])?null==u||null==(r=u.next)?void 0:r[e]:b?null==(i=l.next)?void 0:i[e]:void 0},w=_("revalidate"),A=p(_("tags")||[],`fetch ${l.toString()}`),O=E&&("cache"===E.type||"prerender"===E.type||"prerender-ppr"===E.type||"prerender-legacy"===E.type)?E:void 0;if(O&&Array.isArray(A)){let e=O.tags??(O.tags=[]);for(let t of A)e.includes(t)||e.push(t)}let P=null==E?void 0:E.implicitTags,j=E&&"unstable-cache"===E.type?"force-no-store":S.fetchCache,M=!!S.isUnstableNoStore,N=x("cache"),T="";"string"==typeof N&&void 0!==w&&("force-cache"===N&&0===w||"no-store"===N&&(w>0||!1===w))&&(r=`Specified "cache: ${N}" and "revalidate: ${w}", only one should be specified.`,N=void 0,w=void 0);let C="no-cache"===N||"no-store"===N||"force-no-store"===j||"only-no-store"===j,D=!j&&!N&&!w&&S.forceDynamic;"force-cache"===N&&void 0===w?w=!1:(null==E?void 0:E.type)!=="cache"&&(C||D)&&(w=0),("no-cache"===N||"no-store"===N)&&(T=`cache: ${N}`),m=f(w,S.route);let I=x("headers"),L="function"==typeof(null==I?void 0:I.get)?I:new Headers(I||{}),F=L.get("authorization")||L.get("cookie"),$=!["get","head"].includes((null==(t=x("method"))?void 0:t.toLowerCase())||"get"),B=void 0==j&&(void 0==N||"default"===N)&&void 0==w,z=B&&!S.isPrerendering||(F||$)&&O&&0===O.revalidate;if(B&&void 0!==E&&"prerender"===E.type)return R&&(R.endRead(),R=null),(0,o.makeHangingPromise)(E.renderSignal,"fetch()");switch(j){case"force-no-store":T="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===N||void 0!==m&&m>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${y} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});T="fetchCache = only-no-store";break;case"only-cache":if("no-store"===N)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${y} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===w||0===w)&&(T="fetchCache = force-cache",m=n.INFINITE_CACHE)}if(void 0===m?"default-cache"!==j||M?"default-no-store"===j?(m=0,T="fetchCache = default-no-store"):M?(m=0,T="noStore call"):z?(m=0,T="auto no cache"):(T="auto cache",m=O?O.revalidate:n.INFINITE_CACHE):(m=n.INFINITE_CACHE,T="fetchCache = default-cache"):T||(T=`revalidate: ${m}`),!(S.forceStatic&&0===m)&&!z&&O&&m<O.revalidate){if(0===m)if(E&&"prerender"===E.type)return R&&(R.endRead(),R=null),(0,o.makeHangingPromise)(E.renderSignal,"fetch()");else(0,a.markCurrentScopeAsDynamic)(S,E,`revalidate: 0 fetch ${l} ${S.route}`);O&&w===m&&(O.revalidate=m)}let U="number"==typeof m&&m>0,{incrementalCache:H}=S,W=(null==E?void 0:E.type)==="request"||(null==E?void 0:E.type)==="cache"?E:void 0;if(H&&(U||(null==W?void 0:W.serverComponentsHmrCache)))try{i=await H.generateCacheKey(y,b?l:u)}catch(e){console.error("Failed to generate cache key for",l)}let V=S.nextFetchId??1;S.nextFetchId=V+1;let q=()=>Promise.resolve(),X=async(t,s)=>{let a=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(b){let e=l,t={body:e._ogBody||e.body};for(let r of a)t[r]=e[r];l=new Request(e.url,t)}else if(u){let{_ogBody:e,body:r,signal:i,...s}=u;u={...s,body:e||r,signal:t?void 0:i}}let o={...u,next:{...null==u?void 0:u.next,fetchType:"origin",fetchIdx:V}};return e(l,o).then(async e=>{if(!t&&k&&g(S,{start:k,url:y,cacheReason:s||T,cacheStatus:0===m||s?"skip":"miss",cacheWarning:r,status:e.status,method:o.method||"GET"}),200===e.status&&H&&i&&(U||(null==W?void 0:W.serverComponentsHmrCache))){let t=m>=n.INFINITE_CACHE?n.CACHE_ONE_YEAR:m;if(E&&"prerender"===E.type){let r=await e.arrayBuffer(),s={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(r).toString("base64"),status:e.status,url:e.url};return await H.set(i,{kind:d.CachedRouteKind.FETCH,data:s,revalidate:t},{fetchCache:!0,fetchUrl:y,fetchIdx:V,tags:A}),await q(),new Response(r,{headers:e.headers,status:e.status,statusText:e.statusText})}{let[r,s]=(0,h.cloneResponse)(e);return r.arrayBuffer().then(async e=>{var s;let n=Buffer.from(e),a={headers:Object.fromEntries(r.headers.entries()),body:n.toString("base64"),status:r.status,url:r.url};null==W||null==(s=W.serverComponentsHmrCache)||s.set(i,a),U&&await H.set(i,{kind:d.CachedRouteKind.FETCH,data:a,revalidate:t},{fetchCache:!0,fetchUrl:y,fetchIdx:V,tags:A})}).catch(e=>console.warn("Failed to set fetch cache",l,e)).finally(q),s}}return await q(),e}).catch(e=>{throw q(),e})},K=!1,G=!1;if(i&&H){let e;if((null==W?void 0:W.isHmrRefresh)&&W.serverComponentsHmrCache&&(e=W.serverComponentsHmrCache.get(i),G=!0),U&&!e){q=await H.lock(i);let t=S.isOnDemandRevalidate?null:await H.get(i,{kind:d.IncrementalCacheKind.FETCH,revalidate:m,fetchUrl:y,fetchIdx:V,tags:A,softTags:null==P?void 0:P.tags});if(B&&E&&"prerender"===E.type&&await (0,c.waitAtLeastOneReactRenderTask)(),t?await q():s="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===d.CachedRouteKind.FETCH)if(S.isRevalidate&&t.isStale)K=!0;else{if(t.isStale&&(S.pendingRevalidates??={},!S.pendingRevalidates[i])){let e=X(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{S.pendingRevalidates??={},delete S.pendingRevalidates[i||""]});e.catch(console.error),S.pendingRevalidates[i]=e}e=t.value.data}}if(e){k&&g(S,{start:k,url:y,cacheReason:T,cacheStatus:G?"hmr":"hit",cacheWarning:r,status:e.status||200,method:(null==u?void 0:u.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(S.isStaticGeneration&&u&&"object"==typeof u){let{cache:e}=u;if("no-store"===e)if(E&&"prerender"===E.type)return R&&(R.endRead(),R=null),(0,o.makeHangingPromise)(E.renderSignal,"fetch()");else(0,a.markCurrentScopeAsDynamic)(S,E,`no-store fetch ${l} ${S.route}`);let t="next"in u,{next:r={}}=u;if("number"==typeof r.revalidate&&O&&r.revalidate<O.revalidate){if(0===r.revalidate)if(E&&"prerender"===E.type)return(0,o.makeHangingPromise)(E.renderSignal,"fetch()");else(0,a.markCurrentScopeAsDynamic)(S,E,`revalidate: 0 fetch ${l} ${S.route}`);S.forceStatic&&0===r.revalidate||(O.revalidate=r.revalidate)}t&&delete u.next}if(!i||!K)return X(!1,s);{let e=i;S.pendingRevalidates??={};let t=S.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=X(!0,s).then(h.cloneResponse);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=S.pendingRevalidates)?void 0:t[e])&&delete S.pendingRevalidates[e]})).catch(()=>{}),S.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(R)try{return await A}finally{R&&R.endRead()}return A};return l.__nextPatched=!0,l.__nextGetStaticStore=()=>t,l._nextOriginalFetch=e,globalThis[u]=!0,l}function b(e){if(!0===globalThis[u])return;let t=(0,l.createDedupeFetch)(globalThis.fetch);globalThis.fetch=m(t,e)}},25104:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},25220:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return s}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},26343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRouteObjects:function(){return s},getSortedRoutes:function(){return i}});class r{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").'),"__NEXT_ERROR_CODE",{value:"E458",enumerable:!1,configurable:!0});r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,i){if(0===e.length){this.placeholder=!1;return}if(i)throw Object.defineProperty(Error("Catch-all must be the last part of the URL."),"__NEXT_ERROR_CODE",{value:"E392",enumerable:!1,configurable:!0});let s=e[0];if(s.startsWith("[")&&s.endsWith("]")){let r=s.slice(1,-1),a=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),a=!0),r.startsWith("…"))throw Object.defineProperty(Error("Detected a three-dot character ('…') at ('"+r+"'). Did you mean ('...')?"),"__NEXT_ERROR_CODE",{value:"E147",enumerable:!1,configurable:!0});if(r.startsWith("...")&&(r=r.substring(3),i=!0),r.startsWith("[")||r.endsWith("]"))throw Object.defineProperty(Error("Segment names may not start or end with extra brackets ('"+r+"')."),"__NEXT_ERROR_CODE",{value:"E421",enumerable:!1,configurable:!0});if(r.startsWith("."))throw Object.defineProperty(Error("Segment names may not start with erroneous periods ('"+r+"')."),"__NEXT_ERROR_CODE",{value:"E288",enumerable:!1,configurable:!0});function n(e,r){if(null!==e&&e!==r)throw Object.defineProperty(Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"')."),"__NEXT_ERROR_CODE",{value:"E337",enumerable:!1,configurable:!0});t.forEach(e=>{if(e===r)throw Object.defineProperty(Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path'),"__NEXT_ERROR_CODE",{value:"E247",enumerable:!1,configurable:!0});if(e.replace(/\W/g,"")===s.replace(/\W/g,""))throw Object.defineProperty(Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path'),"__NEXT_ERROR_CODE",{value:"E499",enumerable:!1,configurable:!0})}),t.push(r)}if(i)if(a){if(null!=this.restSlugName)throw Object.defineProperty(Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).'),"__NEXT_ERROR_CODE",{value:"E299",enumerable:!1,configurable:!0});n(this.optionalRestSlugName,r),this.optionalRestSlugName=r,s="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").'),"__NEXT_ERROR_CODE",{value:"E300",enumerable:!1,configurable:!0});n(this.restSlugName,r),this.restSlugName=r,s="[...]"}else{if(a)throw Object.defineProperty(Error('Optional route parameters are not yet supported ("'+e[0]+'").'),"__NEXT_ERROR_CODE",{value:"E435",enumerable:!1,configurable:!0});n(this.slugName,r),this.slugName=r,s="[]"}}this.children.has(s)||this.children.set(s,new r),this.children.get(s)._insert(e.slice(1),t,i)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function i(e){let t=new r;return e.forEach(e=>t.insert(e)),t.smoosh()}function s(e,t){let r={},s=[];for(let i=0;i<e.length;i++){let n=t(e[i]);r[n]=i,s[i]=n}return i(s).map(t=>e[r[t]])}},27894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return i}});let r=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},27910:e=>{"use strict";e.exports=require("stream")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return g},defaultHead:function(){return h}});let i=r(14985),s=r(40740),n=r(60687),a=s._(r(43210)),o=i._(r(47755)),l=r(14959),d=r(89513),c=r(34604);function h(e){void 0===e&&(e=!1);let t=[(0,n.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function u(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(50148);let f=["name","httpEquiv","charSet","itemProp"];function p(e,t){let{inAmpMode:r}=t;return e.reduce(u,[]).reverse().concat(h(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,i={};return s=>{let n=!0,a=!1;if(s.key&&"number"!=typeof s.key&&s.key.indexOf("$")>0){a=!0;let t=s.key.slice(s.key.indexOf("$")+1);e.has(t)?n=!1:e.add(t)}switch(s.type){case"title":case"base":t.has(s.type)?n=!1:t.add(s.type);break;case"meta":for(let e=0,t=f.length;e<t;e++){let t=f[e];if(s.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?n=!1:r.add(t);else{let e=s.props[t],r=i[t]||new Set;("name"!==t||!a)&&r.has(e)?n=!1:(r.add(e),i[t]=r)}}}return n}}()).reverse().map((e,t)=>{let i=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,a.default.cloneElement(e,t)}return a.default.cloneElement(e,{key:i})})}let g=function(e){let{children:t}=e,r=(0,a.useContext)(l.AmpStateContext),i=(0,a.useContext)(d.HeadManagerContext);return(0,n.jsx)(o.default,{reduceComponentsToState:p,headManager:i,inAmpMode:(0,c.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},31666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return s},extractInterceptionRouteInformation:function(){return a},isInterceptionRouteAppPath:function(){return n}});let i=r(79535),s=["(..)(..)","(.)","(..)","(...)"];function n(e){return void 0!==e.split("/").find(e=>s.find(t=>e.startsWith(t)))}function a(e){let t,r,n;for(let i of e.split("/"))if(r=s.find(e=>i.startsWith(e))){[t,n]=e.split(r,2);break}if(!t||!r||!n)throw Object.defineProperty(Error("Invalid interception route: "+e+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(t=(0,i.normalizeAppPath)(t),r){case"(.)":n="/"===t?"/"+n:t+"/"+n;break;case"(..)":if("/"===t)throw Object.defineProperty(Error("Invalid interception route: "+e+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let a=t.split("/");if(a.length<=2)throw Object.defineProperty(Error("Invalid interception route: "+e+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});n=a.slice(0,-2).concat(n).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:t,interceptedRoute:n}}},32091:(e,t)=>{"use strict";function r(e){var t;let{config:r,src:i,width:s,quality:n}=e,a=n||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(i)+"&w="+s+"&q="+a+(i.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}}),r.__next_img_default=!0;let i=r},33873:e=>{"use strict";e.exports=require("path")},34604:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:i=!1}=void 0===e?{}:e;return t||r&&i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},34974:(e,t,r)=>{"use strict";r.d(t,{j:()=>U});var i=r(98283),s=r(39916),n=r(94592),a=r(8219),o=r(65607);let l=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch{return""}},d=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?l(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,l(t)])),null,2)).join(", "),c=(e,t)=>()=>{let r=[],i=!1;return{enable:()=>{i=!0},debug:(...e)=>{i&&r.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(i){var s,n;for(let i of(console.log((s=e,`[clerk debug start: ${s}]`)),r)){let e=t(i);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let r=new TextEncoder,i=new TextDecoder("utf-8"),s=r.encode(e).slice(0,4096);return i.decode(s).replace(/\uFFFD/g,"")}(e,4096)),console.log(e)}console.log((n=e,`[clerk debug end: ${n}] (@clerk/nextjs=6.30.1,next=${o.rE},timestamp=${Math.round(new Date().getTime()/1e3)})`))}}}},h=(e,t)=>(...r)=>{let i=("string"==typeof e?c(e,d):e)(),s=t(i);try{let e=s(...r);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(i.commit(),e)).catch(e=>{throw i.commit(),e});return i.commit(),e}catch(e){throw i.commit(),e}};var u=r(48933),f=r(81853),p=r(15614),g=r(12618);function m(e){let t=JSON.stringify(e),r=new TextEncoder().encode(t);return p.r0.stringify(r,{pad:!1})}async function b(e,t,r){if(!r.algorithm)throw Error("No algorithm specified");let i=new TextEncoder,s=(0,p.hJ)(r.algorithm);if(!s)return{errors:[new g.xy(`Unsupported algorithm ${r.algorithm}`)]};let n=await (0,p.Fh)(t,s,"sign"),a=r.header||{typ:"JWT"};a.alg=r.algorithm,e.iat=Math.floor(Date.now()/1e3);let o=m(a),l=m(e),d=`${o}.${l}`;try{let e=await p.fA.crypto.subtle.sign(s,n,i.encode(d));return{data:`${d}.${p.r0.stringify(new Uint8Array(e),{pad:!1})}`}}catch(e){return{errors:[new g.xy(e?.message)]}}}(0,f.C)(p.J0);var x=(0,f.R)(p.iU);(0,f.C)(b),(0,f.C)(p.nk);var y=r(44335),_=r(23855);let v=e=>({authStatus:(0,y.NE)(e,"AuthStatus"),authToken:(0,y.NE)(e,"AuthToken"),authMessage:(0,y.NE)(e,"AuthMessage"),authReason:(0,y.NE)(e,"AuthReason"),authSignature:(0,y.NE)(e,"AuthSignature")}),w=(e,t,r=!0)=>{let s=(0,y._b)(e,i.AA.Headers.ClerkRequestData),a=(0,_.Kk)(s);return{secretKey:(null==t?void 0:t.secretKey)||a.secretKey||n.rB,publishableKey:a.publishableKey||n.At,apiUrl:n.H$,apiVersion:n.mG,authStatus:(0,y.NE)(e,"AuthStatus"),authMessage:(0,y.NE)(e,"AuthMessage"),authReason:(0,y.NE)(e,"AuthReason"),treatPendingAsSignedOut:r}},k=(e,{treatPendingAsSignedOut:t=!0,...r}={})=>{var s,n;let{authStatus:a,authMessage:o,authReason:l,authToken:d,authSignature:c}=v(e);null==(s=r.logger)||s.debug("headers",{authStatus:a,authMessage:o,authReason:l});let h=w(e,r,t);if(!(0,i.lv)(i.ks.SessionToken,r.acceptsToken||i.ks.SessionToken))return(0,i.wI)(h);if(a&&a===i.TD.SignedIn){(0,_._l)(d,h.secretKey,c);let e=x(d);return null==(n=r.logger)||n.debug("jwt",e.raw),(0,i.Rn)(e,h)}return(0,i.wI)(h)},S=(e,t={})=>{var r,s;let{authStatus:n,authMessage:a,authReason:o}=v(e);null==(r=t.logger)||r.debug("headers",{authStatus:n,authMessage:a,authReason:o});let l=(0,y._b)(e,i.AA.Headers.ClerkRequestData),d=(0,_.Kk)(l),c=null==(s=(0,y._b)(e,i.AA.Headers.Authorization))?void 0:s.replace("Bearer ",""),h=t.acceptsToken||i.ks.SessionToken,u=w(e,t),f=E(c,d.machineAuthObject,h,u);return f||(c&&Array.isArray(h)&&!h.includes(i.ks.SessionToken)?(0,i._)():k(e,t))},E=(e,t,r,s)=>{let n=e&&(0,i.KV)(e),a=r===i.ks.SessionToken||Array.isArray(r)&&1===r.length&&r[0]===i.ks.SessionToken;if(n&&t&&!a){let n=(0,i.X9)({authObject:{...t,debug:()=>s},acceptsToken:r});return{...n,getToken:()=>n.isAuthenticated?Promise.resolve(e):Promise.resolve(null),has:()=>!1}}return null};var R=r(49270);let A=({debugLoggerName:e,noAuthStatusMessage:t})=>h(e,e=>async(s,n)=>{if((0,a.zz)((0,y._b)(s,i.AA.Headers.EnableDebug))&&e.enable(),!(0,y.Zd)(s)){u.M&&(0,_.$K)(s,t);let e=await r.e(553).then(r.bind(r,14553)).then(e=>e.suggestMiddlewareLocation()).catch(()=>void 0);if(e)throw Error(e);(0,_.$K)(s,t)}return((t,r={})=>S(t,{...r,logger:e,acceptsToken:null==r?void 0:r.acceptsToken}))(s,{...n,logger:e,acceptsToken:null==n?void 0:n.acceptsToken})});(({debugLoggerName:e,noAuthStatusMessage:t})=>h(e,e=>(r,s)=>((0,a.zz)((0,y._b)(r,i.AA.Headers.EnableDebug))&&e.enable(),(0,_.$K)(r,t),((t,r={})=>k(t,{...r,logger:e,acceptsToken:null==r?void 0:r.acceptsToken}))(r,{...s,logger:e,acceptsToken:null==s?void 0:s.acceptsToken}))))({debugLoggerName:"getAuth()",noAuthStatusMessage:(0,R.AG)()});let O={REDIRECT_TO_URL:"CLERK_PROTECT_REDIRECT_TO_URL"},P={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},j=new Set(Object.values(P)),M="NEXT_HTTP_ERROR_FALLBACK",N="NEXT_REDIRECT";function T(){let e=Error(M);throw e.digest=`${M};${P.UNAUTHORIZED}`,e}let C={Headers:{NextRewrite:"x-middleware-rewrite",NextResume:"x-middleware-next",NextRedirect:"Location",NextUrl:"next-url",NextAction:"next-action",NextjsData:"x-nextjs-data"}},D=e=>{if(e&&!e.unauthenticatedUrl&&!e.unauthorizedUrl&&!e.token&&(1!==Object.keys(e).length||!("token"in e)))return e},I=e=>{var t,r;return!!e.headers.get(C.Headers.NextUrl)&&((null==(t=e.headers.get(i.AA.Headers.Accept))?void 0:t.includes("text/x-component"))||(null==(r=e.headers.get(i.AA.Headers.ContentType))?void 0:r.includes("multipart/form-data"))||!!e.headers.get(C.Headers.NextAction))},L=e=>{var t;return"document"===e.headers.get(i.AA.Headers.SecFetchDest)||"iframe"===e.headers.get(i.AA.Headers.SecFetchDest)||(null==(t=e.headers.get(i.AA.Headers.Accept))?void 0:t.includes("text/html"))||F(e)||B(e)},F=e=>!!e.headers.get(C.Headers.NextUrl)&&!I(e)||$(),$=()=>{let e=globalThis.fetch;if(!function(e){return"__nextPatched"in e&&!0===e.__nextPatched}(e))return!1;let{page:t,pagePath:r}=e.__nextGetStaticStore().getStore()||{};return!!(r||t)},B=e=>!!e.headers.get(C.Headers.NextjsData);var z=r(93800);let U=async e=>{var t;r(34822);let a=await (0,z.TG)(),o=async()=>{if(u.M)return[];try{let e=await r.e(553).then(r.bind(r,14553)).then(e=>e.hasSrcAppDir());return[`Your Middleware exists at ./${e?"src/":""}middleware.(ts|js)`]}catch{return[]}},l=await A({debugLoggerName:"auth()",noAuthStatusMessage:(0,R.sd)("auth",await o())})(a,{treatPendingAsSignedOut:null==e?void 0:e.treatPendingAsSignedOut,acceptsToken:null!=(t=null==e?void 0:e.acceptsToken)?t:i.ks.SessionToken}),d=(0,y.NE)(a,"ClerkUrl"),c=(...e)=>{let{returnBackUrl:t}=e[0]||{},r=(0,i.tl)(a),o=r.clerkUrl.searchParams.get(i.AA.QueryParameters.DevBrowser)||r.cookies.get(i.AA.Cookies.DevBrowser),c=(0,y._b)(a,i.AA.Headers.ClerkRequestData),h=(0,_.Kk)(c);return[(0,i.vH)({redirectAdapter:s.redirect,devBrowserToken:o,baseUrl:r.clerkUrl.toString(),publishableKey:h.publishableKey||n.At,signInUrl:h.signInUrl||n.qW,signUpUrl:h.signUpUrl||n.sE,sessionStatus:l.tokenType===i.ks.SessionToken?l.sessionStatus:null}),null===t?"":t||(null==d?void 0:d.toString())]};return l.tokenType===i.ks.SessionToken?Object.assign(l,{redirectToSignIn:(e={})=>{let[t,r]=c(e);return t.redirectToSignIn({returnBackUrl:r})},redirectToSignUp:(e={})=>{let[t,r]=c(e);return t.redirectToSignUp({returnBackUrl:r})}}):l};U.protect=async(...e)=>{var t,n;r(34822);let a=await (0,z.TG)(),o=(null==(t=null==e?void 0:e[0])?void 0:t.token)||(null==(n=null==e?void 0:e[1])?void 0:n.token)||i.ks.SessionToken,l=await U({acceptsToken:o});return(function(e){let{redirectToSignIn:t,authObject:r,redirect:s,notFound:n,request:a,unauthorized:o}=e;return async(...e)=>{var l,d,c,h,u,f;let p=D(e[0]),g=(null==(l=e[0])?void 0:l.unauthenticatedUrl)||(null==(d=e[1])?void 0:d.unauthenticatedUrl),m=(null==(c=e[0])?void 0:c.unauthorizedUrl)||(null==(h=e[1])?void 0:h.unauthorizedUrl),b=(null==(u=e[0])?void 0:u.token)||(null==(f=e[1])?void 0:f.token)||i.ks.SessionToken,x=()=>r.tokenType!==i.ks.SessionToken?o():m?s(m):n();return(0,i.lv)(r.tokenType,b)?r.tokenType!==i.ks.SessionToken?r.isAuthenticated?r:x():"pending"!==r.sessionStatus&&r.userId?p?"function"==typeof p?p(r.has)?r:x():r.has(p)?r:x():r:g?s(g):L(a)?t():n():x()}})({request:a,authObject:l,redirectToSignIn:l.redirectToSignIn,notFound:s.notFound,redirect:s.redirect,unauthorized:T})(...e)}},35333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return s}});let i=r(4e4);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:n}=(0,i.parsePath)(e);return""+t+r+s+n}},36376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return h},APP_DIR_ALIAS:function(){return M},CACHE_ONE_YEAR:function(){return k},DOT_NEXT_ALIAS:function(){return P},ESLINT_DEFAULT_DIRS:function(){return Y},GSP_NO_RETURNED_VALUE:function(){return W},GSSP_COMPONENT_MEMBER_ERROR:function(){return X},GSSP_NO_RETURNED_VALUE:function(){return V},INFINITE_CACHE:function(){return S},INSTRUMENTATION_HOOK_FILENAME:function(){return A},MATCHED_PATH_HEADER:function(){return s},MIDDLEWARE_FILENAME:function(){return E},MIDDLEWARE_LOCATION_REGEXP:function(){return R},NEXT_BODY_SUFFIX:function(){return p},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return w},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return m},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return b},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return v},NEXT_CACHE_TAGS_HEADER:function(){return g},NEXT_CACHE_TAG_MAX_ITEMS:function(){return y},NEXT_CACHE_TAG_MAX_LENGTH:function(){return _},NEXT_DATA_SUFFIX:function(){return u},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return i},NEXT_META_SUFFIX:function(){return f},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return x},NON_STANDARD_NODE_ENV:function(){return K},PAGES_DIR_ALIAS:function(){return O},PRERENDER_REVALIDATE_HEADER:function(){return n},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return a},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return F},ROOT_DIR_ALIAS:function(){return j},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return L},RSC_ACTION_ENCRYPTION_ALIAS:function(){return I},RSC_ACTION_PROXY_ALIAS:function(){return C},RSC_ACTION_VALIDATE_ALIAS:function(){return T},RSC_CACHE_WRAPPER_ALIAS:function(){return D},RSC_MOD_REF_PROXY_ALIAS:function(){return N},RSC_PREFETCH_SUFFIX:function(){return o},RSC_SEGMENTS_DIR_SUFFIX:function(){return l},RSC_SEGMENT_SUFFIX:function(){return d},RSC_SUFFIX:function(){return c},SERVER_PROPS_EXPORT_ERROR:function(){return H},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return B},SERVER_PROPS_SSG_CONFLICT:function(){return z},SERVER_RUNTIME:function(){return J},SSG_FALLBACK_EXPORT_ERROR:function(){return G},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return $},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return U},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return q},WEBPACK_LAYERS:function(){return Z},WEBPACK_RESOURCE_QUERIES:function(){return ee}});let r="nxtP",i="nxtI",s="x-matched-path",n="x-prerender-revalidate",a="x-prerender-revalidate-if-generated",o=".prefetch.rsc",l=".segments",d=".segment.rsc",c=".rsc",h=".action",u=".json",f=".meta",p=".body",g="x-next-cache-tags",m="x-next-revalidated-tags",b="x-next-revalidate-tag-token",x="next-resume",y=128,_=256,v=1024,w="_N_T_",k=31536e3,S=0xfffffffe,E="middleware",R=`(?:src/)?${E}`,A="instrumentation",O="private-next-pages",P="private-dot-next",j="private-next-root-dir",M="private-next-app-dir",N="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",T="private-next-rsc-action-validate",C="private-next-rsc-server-reference",D="private-next-rsc-cache-wrapper",I="private-next-rsc-action-encryption",L="private-next-rsc-action-client-wrapper",F="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",$="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",B="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",z="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",U="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",H="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",W="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",V="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",q="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",X="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",K='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',G="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",Y=["app","pages","components","lib","src"],J={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},Q={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},Z={...Q,GROUP:{builtinReact:[Q.reactServerComponents,Q.actionBrowser],serverOnly:[Q.reactServerComponents,Q.actionBrowser,Q.instrument,Q.middleware],neutralTarget:[Q.apiNode,Q.apiEdge],clientOnly:[Q.serverSideRendering,Q.appPagesBrowser],bundled:[Q.reactServerComponents,Q.actionBrowser,Q.serverSideRendering,Q.appPagesBrowser,Q.shared,Q.instrument,Q.middleware],appPages:[Q.reactServerComponents,Q.serverSideRendering,Q.appPagesBrowser,Q.actionBrowser]}},ee={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},36574:(e,t,r)=>{Promise.resolve().then(r.bind(r,21114)),Promise.resolve().then(r.bind(r,47316)),Promise.resolve().then(r.bind(r,95825)),Promise.resolve().then(r.bind(r,94488)),Promise.resolve().then(r.bind(r,93596)),Promise.resolve().then(r.bind(r,85850)),Promise.resolve().then(r.bind(r,93821)),Promise.resolve().then(r.bind(r,58758)),Promise.resolve().then(r.bind(r,41330)),Promise.resolve().then(r.bind(r,21313)),Promise.resolve().then(r.t.bind(r,46533,23))},37317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getClientComponentLoaderMetrics:function(){return a},wrapClientComponentLoader:function(){return n}});let r=0,i=0,s=0;function n(e){return"performance"in globalThis?{require:(...t)=>{let n=performance.now();0===r&&(r=n);try{return s+=1,e.__next_app__.require(...t)}finally{i+=performance.now()-n}},loadChunk:(...t)=>{let r=performance.now(),s=e.__next_app__.loadChunk(...t);return s.finally(()=>{i+=performance.now()-r}),s}}:e.__next_app__}function a(e={}){let t=0===r?void 0:{clientComponentLoadStart:r,clientComponentLoadTimes:i,clientComponentLoadCount:s};return e.reset&&(r=0,i=0,s=0),t}},39999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return h}});let i=r(14659),s=r(49761),n=r(40857),a=r(10492),o=r(14659),l=Symbol("internal response"),d=new Set([301,302,303,307,308]);function c(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[i,s]of e.request.headers)t.set("x-middleware-request-"+i,s),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class h extends Response{constructor(e,t={}){super(e,t);let r=this.headers,d=new Proxy(new o.ResponseCookies(r),{get(e,s,n){switch(s){case"delete":case"set":return(...n)=>{let a=Reflect.apply(e[s],e,n),l=new Headers(r);return a instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,i.stringifyCookie)(e)).join(",")),c(t,l),a};default:return a.ReflectAdapter.get(e,s,n)}}});this[l]={cookies:d,url:t.url?new s.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new h(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!d.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let i="object"==typeof t?t:{},s=new Headers(null==i?void 0:i.headers);return s.set("Location",(0,n.validateURL)(e)),new h(null,{...i,headers:s,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,n.validateURL)(e)),c(t,r),new h(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),c(e,t),new h(null,{...e,headers:t})}}},4e4:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},40193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return d}});let i=r(29294),s=r(63033),n=r(75124),a=r(66224),o=r(37461),l=r(16296);function d(){let e=i.workAsyncStorage.getStore(),t=s.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E111",enumerable:!1,configurable:!0});else if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(t)if("prerender"===t.type)return(0,o.makeHangingPromise)(t.renderSignal,"`connection()`");else"prerender-ppr"===t.type?(0,n.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,n.throwToInterruptStaticGeneration)("connection",e,t);(0,n.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},40857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return s},normalizeNextQueryParam:function(){return l},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return a},validateURL:function(){return o}});let i=r(36376);function s(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function n(e){var t,r,i,s,n,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),s=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=s,a.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!n||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function a(e){let t={},r=[];if(e)for(let[i,s]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...n(s)),t[i]=1===r.length?r[0]:r):t[i]=s;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function l(e){for(let t of[i.NEXT_QUERY_PARAM_PREFIX,i.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},41302:(e,t,r)=>{Promise.resolve().then(r.bind(r,47903)),Promise.resolve().then(r.bind(r,77784)),Promise.resolve().then(r.bind(r,4768)),Promise.resolve().then(r.bind(r,96947)),Promise.resolve().then(r.bind(r,63441)),Promise.resolve().then(r.bind(r,62808)),Promise.resolve().then(r.bind(r,7791)),Promise.resolve().then(r.bind(r,12918)),Promise.resolve().then(r.bind(r,13920)),Promise.resolve().then(r.bind(r,62278)),Promise.resolve().then(r.t.bind(r,49603,23))},41480:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:i,blurHeight:s,blurDataURL:n,objectFit:a}=e,o=i?40*i:t,l=s?40*s:r,d=o&&l?"viewBox='0 0 "+o+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+d+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(d?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+n+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},42383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let i=r(62736),s=r(68002),n=r(19186);function a(e,t){var r,a;let{basePath:o,i18n:l,trailingSlash:d}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):d};o&&(0,n.pathHasPrefix)(c.pathname,o)&&(c.pathname=(0,s.removePathPrefix)(c.pathname,o),c.basePath=o);let h=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");c.buildId=e[0],h="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=h)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,i.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(a=e.pathname)?a:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(h):(0,i.normalizeLocalePath)(h,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},44234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(20464),t)},44927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNodeNextRequest:function(){return s},isNodeNextResponse:function(){return n},isWebNextRequest:function(){return r},isWebNextResponse:function(){return i}});let r=e=>!1,i=e=>!1,s=e=>!0,n=e=>!0},44953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),r(50148);let i=r(41480),s=r(12756),n=["-moz-initial","fill","none","scale-down",void 0];function a(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t){var r,l;let d,c,h,{src:u,sizes:f,unoptimized:p=!1,priority:g=!1,loading:m,className:b,quality:x,width:y,height:_,fill:v=!1,style:w,overrideSrc:k,onLoad:S,onLoadingComplete:E,placeholder:R="empty",blurDataURL:A,fetchPriority:O,decoding:P="async",layout:j,objectFit:M,objectPosition:N,lazyBoundary:T,lazyRoot:C,...D}=e,{imgConf:I,showAltText:L,blurComplete:F,defaultLoader:$}=t,B=I||s.imageConfigDefault;if("allSizes"in B)d=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),i=null==(r=B.qualities)?void 0:r.sort((e,t)=>e-t);d={...B,allSizes:e,deviceSizes:t,qualities:i}}if(void 0===$)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let z=D.loader||$;delete D.loader,delete D.srcSet;let U="__next_img_default"in z;if(U){if("custom"===d.loader)throw Object.defineProperty(Error('Image with src "'+u+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=z;z=t=>{let{config:r,...i}=t;return e(i)}}if(j){"fill"===j&&(v=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];e&&(w={...w,...e});let t={responsive:"100vw",fill:"100vw"}[j];t&&!f&&(f=t)}let H="",W=o(y),V=o(_);if((l=u)&&"object"==typeof l&&(a(l)||void 0!==l.src)){let e=a(u)?u.default:u;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(c=e.blurWidth,h=e.blurHeight,A=A||e.blurDataURL,H=e.src,!v)if(W||V){if(W&&!V){let t=W/e.width;V=Math.round(e.height*t)}else if(!W&&V){let t=V/e.height;W=Math.round(e.width*t)}}else W=e.width,V=e.height}let q=!g&&("lazy"===m||void 0===m);(!(u="string"==typeof u?u:H)||u.startsWith("data:")||u.startsWith("blob:"))&&(p=!0,q=!1),d.unoptimized&&(p=!0),U&&!d.dangerouslyAllowSVG&&u.split("?",1)[0].endsWith(".svg")&&(p=!0);let X=o(x),K=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:M,objectPosition:N}:{},L?{}:{color:"transparent"},w),G=F||"empty"===R?null:"blur"===R?'url("data:image/svg+xml;charset=utf-8,'+(0,i.getImageBlurSvg)({widthInt:W,heightInt:V,blurWidth:c,blurHeight:h,blurDataURL:A||"",objectFit:K.objectFit})+'")':'url("'+R+'")',Y=n.includes(K.objectFit)?"fill"===K.objectFit?"100% 100%":"cover":K.objectFit,J=G?{backgroundSize:Y,backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:G}:{},Q=function(e){let{config:t,src:r,unoptimized:i,width:s,quality:n,sizes:a,loader:o}=e;if(i)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:d}=function(e,t,r){let{deviceSizes:i,allSizes:s}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let i;i=e.exec(r);)t.push(parseInt(i[2]));if(t.length){let e=.01*Math.min(...t);return{widths:s.filter(t=>t>=i[0]*e),kind:"w"}}return{widths:s,kind:"w"}}return"number"!=typeof t?{widths:i,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>s.find(t=>t>=e)||s[s.length-1]))],kind:"x"}}(t,s,a),c=l.length-1;return{sizes:a||"w"!==d?a:"100vw",srcSet:l.map((e,i)=>o({config:t,src:r,quality:n,width:e})+" "+("w"===d?e:i+1)+d).join(", "),src:o({config:t,src:r,quality:n,width:l[c]})}}({config:d,src:u,unoptimized:p,width:W,quality:X,sizes:f,loader:z});return{props:{...D,loading:q?"lazy":m,fetchPriority:O,width:W,height:V,decoding:P,className:b,style:{...K,...J},sizes:Q.sizes,srcSet:Q.srcSet,src:k||Q.src},meta:{unoptimized:p,priority:g,placeholder:R,fill:v}}}},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,i.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},46533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return _}});let i=r(14985),s=r(40740),n=r(60687),a=s._(r(43210)),o=i._(r(51215)),l=i._(r(30512)),d=r(44953),c=r(12756),h=r(17903);r(50148);let u=r(69148),f=i._(r(1933)),p=r(53038),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e,t,r,i,s,n,a){let o=null==e?void 0:e.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&s(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let i=!1,s=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>i,isPropagationStopped:()=>s,persist:()=>{},preventDefault:()=>{i=!0,t.preventDefault()},stopPropagation:()=>{s=!0,t.stopPropagation()}})}(null==i?void 0:i.current)&&i.current(e)}}))}function b(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let x=(0,a.forwardRef)((e,t)=>{let{src:r,srcSet:i,sizes:s,height:o,width:l,decoding:d,className:c,style:h,fetchPriority:u,placeholder:f,loading:g,unoptimized:x,fill:y,onLoadRef:_,onLoadingCompleteRef:v,setBlurComplete:w,setShowAltText:k,sizesInput:S,onLoad:E,onError:R,...A}=e,O=(0,a.useCallback)(e=>{e&&(R&&(e.src=e.src),e.complete&&m(e,f,_,v,w,x,S))},[r,f,_,v,w,R,x,S]),P=(0,p.useMergedRef)(t,O);return(0,n.jsx)("img",{...A,...b(u),loading:g,width:l,height:o,decoding:d,"data-nimg":y?"fill":"1",className:c,style:h,sizes:s,srcSet:i,src:r,ref:P,onLoad:e=>{m(e.currentTarget,f,_,v,w,x,S)},onError:e=>{k(!0),"empty"!==f&&w(!0),R&&R(e)}})});function y(e){let{isAppRouter:t,imgAttributes:r}=e,i={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...b(r.fetchPriority)};return t&&o.default.preload?(o.default.preload(r.src,i),null):(0,n.jsx)(l.default,{children:(0,n.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...i},"__nimg-"+r.src+r.srcSet+r.sizes)})}let _=(0,a.forwardRef)((e,t)=>{let r=(0,a.useContext)(u.RouterContext),i=(0,a.useContext)(h.ImageConfigContext),s=(0,a.useMemo)(()=>{var e;let t=g||i||c.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),s=t.deviceSizes.sort((e,t)=>e-t),n=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:s,qualities:n}},[i]),{onLoad:o,onLoadingComplete:l}=e,p=(0,a.useRef)(o);(0,a.useEffect)(()=>{p.current=o},[o]);let m=(0,a.useRef)(l);(0,a.useEffect)(()=>{m.current=l},[l]);let[b,_]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),{props:k,meta:S}=(0,d.getImgProps)(e,{defaultLoader:f.default,imgConf:s,blurComplete:b,showAltText:v});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{...k,unoptimized:S.unoptimized,placeholder:S.placeholder,fill:S.fill,onLoadRef:p,onLoadingCompleteRef:m,setBlurComplete:_,setShowAltText:w,sizesInput:e.sizes,ref:t}),S.priority?(0,n.jsx)(y,{isAppRouter:!r,imgAttributes:k}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},46729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouteKind",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},47316:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var i=r(60687),s=r(43210),n=r(6475);let a=(0,n.createServerReference)("00cee5191d287a2a59166852fb2874d00031c899b9",n.callServer,void 0,n.findSourceMapURL,"getAIInsights"),o=(0,n.createServerReference)("40f5d97f0f3508a3e640e8b7b2cd69e5d5564caa38",n.callServer,void 0,n.findSourceMapURL,"generateInsightAnswer"),l=()=>{let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[l,d]=(0,s.useState)(null),[c,h]=(0,s.useState)([]),u=async()=>{n(!0);try{let e=await a();t(e),d(new Date)}catch(e){console.error("❌ AIInsights: Failed to load AI insights:",e),t([{id:"fallback-1",type:"info",title:"AI Temporarily Unavailable",message:"We're working to restore AI insights. Please check back soon.",action:"Try again later"}])}finally{n(!1)}},f=async e=>{if(e.action){if(c.find(t=>t.insightId===e.id))return void h(t=>t.filter(t=>t.insightId!==e.id));h(t=>[...t,{insightId:e.id,answer:"",isLoading:!0}]);try{let t=`${e.title}: ${e.action}`,r=await o(t);h(t=>t.map(t=>t.insightId===e.id?{...t,answer:r,isLoading:!1}:t))}catch(t){console.error("❌ Failed to generate AI answer:",t),h(t=>t.map(t=>t.insightId===e.id?{...t,answer:"Sorry, I was unable to generate a detailed answer. Please try again.",isLoading:!1}:t))}}};(0,s.useEffect)(()=>{u()},[]);let p=e=>{switch(e){case"warning":return"⚠️";case"success":return"✅";case"tip":return"\uD83D\uDCA1";case"info":return"ℹ️";default:return"\uD83E\uDD16"}},g=e=>{switch(e){case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/20";case"tip":case"info":return"border-l-emerald-500 bg-emerald-50 dark:bg-emerald-900/20";default:return"border-l-gray-500 bg-gray-50 dark:bg-gray-800/50"}},m=e=>{switch(e){case"warning":return"text-yellow-700 dark:text-yellow-300 hover:text-yellow-800 dark:hover:text-yellow-200";case"success":return"text-green-700 dark:text-green-300 hover:text-green-800 dark:hover:text-green-200";case"tip":case"info":return"text-emerald-700 dark:text-emerald-300 hover:text-emerald-800 dark:hover:text-emerald-200";default:return"text-gray-700 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-200"}},b=()=>{if(!l)return"Loading...";let e=Math.floor((new Date().getTime()-l.getTime())/6e4);if(e<1)return"Just now";if(e<60)return`${e}m ago`;let t=Math.floor(e/60);return t<24?`${t}h ago`:l.toLocaleDateString()};return r?(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83E\uDD16"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:"AI Insights"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Analyzing your spending patterns"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,i.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 border-2 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin"}),(0,i.jsx)("span",{className:"text-xs sm:text-sm text-emerald-600 dark:text-emerald-400 font-medium hidden sm:block",children:"Analyzing..."})]})]}),(0,i.jsx)("div",{className:"space-y-3 sm:space-y-4",children:[1,2,3].map(e=>(0,i.jsx)("div",{className:"animate-pulse bg-gradient-to-r from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800 p-3 sm:p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:(0,i.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,i.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-200 dark:bg-gray-600 rounded-lg"}),(0,i.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,i.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded-lg w-3/4"}),(0,i.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded-lg w-full"}),(0,i.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded-lg w-2/3"})]})]})},e))}),(0,i.jsx)("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-100 dark:border-gray-700 text-center",children:(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,i.jsx)("div",{className:"w-1.5 h-1.5 bg-emerald-500 dark:bg-emerald-400 rounded-full animate-pulse"}),(0,i.jsx)("span",{className:"text-xs sm:text-sm",children:"AI is analyzing your financial patterns..."})]})})]}):(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83E\uDD16"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:"AI Insights"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"AI financial analysis"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-1 rounded-full text-xs font-medium",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-emerald-500 dark:bg-emerald-400 rounded-full"}),(0,i.jsx)("span",{className:"hidden sm:inline",children:b()}),(0,i.jsx)("span",{className:"sm:hidden",children:b().includes("ago")?b().replace(" ago",""):b()})]}),(0,i.jsx)("button",{onClick:u,className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-emerald-600 via-green-500 to-teal-500 hover:from-emerald-700 hover:via-green-600 hover:to-teal-600 text-white rounded-xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200",disabled:r,children:(0,i.jsx)("span",{className:"text-sm",children:"\uD83D\uDD04"})})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:e.map(e=>{let t=c.find(t=>t.insightId===e.id);return(0,i.jsx)("div",{className:`relative overflow-hidden rounded-xl p-3 sm:p-4 border-l-4 hover:shadow-lg transition-all duration-200 ${g(e.type)}`,children:(0,i.jsx)("div",{className:"flex items-start justify-between",children:(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[(0,i.jsx)("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center ${"warning"===e.type?"bg-yellow-100 dark:bg-yellow-900/50":"success"===e.type?"bg-green-100 dark:bg-green-900/50":(e.type,"bg-emerald-100 dark:bg-emerald-900/50")}`,children:(0,i.jsx)("span",{className:"text-sm sm:text-lg",children:p(e.type)})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm mb-0.5",children:e.title}),e.confidence&&e.confidence<.8&&(0,i.jsx)("span",{className:"inline-block px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 rounded-full text-xs font-medium",children:"Preliminary"})]})]}),(0,i.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-xs leading-relaxed mb-3",children:e.message}),e.action&&(0,i.jsx)("div",{className:"text-left",children:(0,i.jsxs)("span",{onClick:()=>f(e),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg font-medium text-xs cursor-pointer transition-all duration-200 ${m(e.type)} hover:bg-white/50 dark:hover:bg-gray-700/50 ${t?"bg-white/50 dark:bg-gray-700/50":""}`,children:[(0,i.jsx)("span",{children:e.action}),t?.isLoading?(0,i.jsx)("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}):(0,i.jsx)("span",{className:"text-xs",children:t?"↑":"→"})]})}),t&&(0,i.jsx)("div",{className:"mt-3 p-3 bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-lg border border-gray-200 dark:border-gray-600",children:(0,i.jsxs)("div",{className:"flex items-start gap-2",children:[(0,i.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-white text-xs",children:"\uD83E\uDD16"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h5",{className:"font-semibold text-gray-900 dark:text-gray-100 text-xs mb-1",children:"AI Answer:"}),t.isLoading?(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-600 h-2 rounded-lg w-full"}),(0,i.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-600 h-2 rounded-lg w-3/4"}),(0,i.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-600 h-2 rounded-lg w-1/2"})]}):(0,i.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-xs leading-relaxed",children:t.answer})]})]})})]})})},e.id)})}),(0,i.jsx)("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-100 dark:border-gray-700",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-0",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,i.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-sm",children:"\uD83E\uDDE0"})}),(0,i.jsx)("span",{className:"font-medium text-xs",children:"Powered by AI analysis"})]}),(0,i.jsxs)("button",{onClick:u,className:"px-3 py-1.5 bg-gradient-to-r from-emerald-600 via-green-500 to-teal-500 hover:from-emerald-700 hover:via-green-600 hover:to-teal-600 text-white rounded-lg font-medium text-xs shadow-lg hover:shadow-xl transition-all duration-200",children:[(0,i.jsx)("span",{className:"sm:hidden",children:"Refresh"}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"Refresh Insights →"})]})]})})]})}},47755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let i=r(43210),s=()=>{},n=()=>{};function a(e){var t;let{headManager:r,reduceComponentsToState:a}=e;function o(){if(r&&r.mountedInstances){let t=i.Children.toArray(Array.from(r.mountedInstances).filter(Boolean));r.updateHead(a(t,e))}}return null==r||null==(t=r.mountedInstances)||t.add(e.children),o(),s(()=>{var t;return null==r||null==(t=r.mountedInstances)||t.add(e.children),()=>{var t;null==r||null==(t=r.mountedInstances)||t.delete(e.children)}}),s(()=>(r&&(r._pendingUpdate=o),()=>{r&&(r._pendingUpdate=o)})),n(()=>(r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null),()=>{r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null)})),null}},47903:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Alit Technologies Internship\\\\Front-end-Development\\\\expense_tracker_with_ai\\\\components\\\\AddNewRecord.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\components\\AddNewRecord.tsx","default")},48556:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d});var i=r(65239),s=r(48088),n=r(88170),a=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,93412)),"D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32007)),"D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\app\\page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49270:(e,t,r)=>{"use strict";r.d(t,{AG:()=>i,RC:()=>o,_t:()=>n,mJ:()=>a,sd:()=>s});let i=()=>s("getAuth"),s=(e="auth",t)=>`Clerk: ${e}() was called but Clerk can't detect usage of clerkMiddleware(). Please ensure the following:
- ${t?[...t,""].join("\n- "):" "}clerkMiddleware() is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/err/auth-middleware
`,n="Clerk: Unable to verify request, this usually means the Clerk middleware did not run. Ensure Clerk's middleware is properly integrated and matches the current route. For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware. (code=auth_signature_invalid)",a="Clerk: Unable to decrypt request data, this usually means the encryption key is invalid. Ensure the encryption key is properly set. For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#dynamic-keys. (code=encryption_key_invalid)",o=`Clerk: Unable to decrypt request data.

Refresh the page if your .env file was just updated. If the issue persists, ensure the encryption key is valid and properly set.

For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#dynamic-keys. (code=encryption_key_invalid)`},49603:(e,t,r)=>{let{createProxy:i}=r(39844);e.exports=i("D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\node_modules\\next\\dist\\client\\image-component.js")},49761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return c}});let i=r(96197),s=r(71490),n=r(18463),a=r(42383),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let d=Symbol("NextURLInternal");class c{constructor(e,t,r){let i,s;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,s=r||{}):s=r||t||{},this[d]={url:l(e,i??s.base),options:s,basePath:""},this.analyze()}analyze(){var e,t,r,s,o;let l=(0,a.getNextPathnameInfo)(this[d].url.pathname,{nextConfig:this[d].options.nextConfig,parseData:!0,i18nProvider:this[d].options.i18nProvider}),c=(0,n.getHostname)(this[d].url,this[d].options.headers);this[d].domainLocale=this[d].options.i18nProvider?this[d].options.i18nProvider.detectDomainLocale(c):(0,i.detectDomainLocale)(null==(t=this[d].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,c);let h=(null==(r=this[d].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[d].options.nextConfig)||null==(s=o.i18n)?void 0:s.defaultLocale);this[d].url.pathname=l.pathname,this[d].defaultLocale=h,this[d].basePath=l.basePath??"",this[d].buildId=l.buildId,this[d].locale=l.locale??h,this[d].trailingSlash=l.trailingSlash}formatPathname(){return(0,s.formatNextPathnameInfo)({basePath:this[d].basePath,buildId:this[d].buildId,defaultLocale:this[d].options.forceLocale?void 0:this[d].defaultLocale,locale:this[d].locale,pathname:this[d].url.pathname,trailingSlash:this[d].trailingSlash})}formatSearch(){return this[d].url.search}get buildId(){return this[d].buildId}set buildId(e){this[d].buildId=e}get locale(){return this[d].locale??""}set locale(e){var t,r;if(!this[d].locale||!(null==(r=this[d].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[d].locale=e}get defaultLocale(){return this[d].defaultLocale}get domainLocale(){return this[d].domainLocale}get searchParams(){return this[d].url.searchParams}get host(){return this[d].url.host}set host(e){this[d].url.host=e}get hostname(){return this[d].url.hostname}set hostname(e){this[d].url.hostname=e}get port(){return this[d].url.port}set port(e){this[d].url.port=e}get protocol(){return this[d].url.protocol}set protocol(e){this[d].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[d].url=l(e),this.analyze()}get origin(){return this[d].url.origin}get pathname(){return this[d].url.pathname}set pathname(e){this[d].url.pathname=e}get hash(){return this[d].url.hash}set hash(e){this[d].url.hash=e}get search(){return this[d].url.search}set search(e){this[d].url.search=e}get password(){return this[d].url.password}set password(e){this[d].url.password=e}get username(){return this[d].url.username}set username(e){this[d].url.username=e}get basePath(){return this[d].basePath}set basePath(e){this[d].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[d].options)}}},51078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return s},describeStringPropertyAccess:function(){return i},wellKnownProperties:function(){return n}});let r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function i(e,t){return r.test(t)?"`"+e+"."+t+"`":"`"+e+"["+JSON.stringify(t)+"]`"}function s(e,t){let r=JSON.stringify(t);return"`Reflect.has("+e+", "+r+")`, `"+r+" in "+e+"`, or similar"}let n=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},51851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{revalidatePath:function(){return u},revalidateTag:function(){return d},unstable_expirePath:function(){return c},unstable_expireTag:function(){return h}});let i=r(75124),s=r(17529),n=r(36376),a=r(29294),o=r(63033),l=r(38248);function d(e){return f([e],`revalidateTag ${e}`)}function c(e,t){if(e.length>n.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: expirePath received "${e}" which exceeded max length of ${n.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`);let r=`${n.NEXT_CACHE_IMPLICIT_TAG_ID}${e}`;return t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,s.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "expirePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`),f([r],`unstable_expirePath ${e}`)}function h(...e){return f(e,`unstable_expireTag ${e.join(", ")}`)}function u(e,t){if(e.length>n.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: revalidatePath received "${e}" which exceeded max length of ${n.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);let r=`${n.NEXT_CACHE_IMPLICIT_TAG_ID}${e}`;return t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,s.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`),f([r],`revalidatePath ${e}`)}function f(e,t){let r=a.workAsyncStorage.getStore();if(!r||!r.incrementalCache)throw Object.defineProperty(Error(`Invariant: static generation store missing in ${t}`),"__NEXT_ERROR_CODE",{value:"E263",enumerable:!1,configurable:!0});let s=o.workUnitAsyncStorage.getStore();if(s){if("cache"===s.type)throw Object.defineProperty(Error(`Route ${r.route} used "${t}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E181",enumerable:!1,configurable:!0});if("unstable-cache"===s.type)throw Object.defineProperty(Error(`Route ${r.route} used "${t}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E306",enumerable:!1,configurable:!0});if("render"===s.phase)throw Object.defineProperty(Error(`Route ${r.route} used "${t}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E7",enumerable:!1,configurable:!0});if("prerender"===s.type){let e=Object.defineProperty(Error(`Route ${r.route} used ${t} without first calling \`await connection()\`.`),"__NEXT_ERROR_CODE",{value:"E406",enumerable:!1,configurable:!0});(0,i.abortAndThrowOnSynchronousRequestDataAccess)(r.route,t,e,s)}else if("prerender-ppr"===s.type)(0,i.postponeWithTracking)(r.route,t,s.dynamicTracking);else if("prerender-legacy"===s.type){s.revalidate=0;let e=Object.defineProperty(new l.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.dynamicUsageDescription=t,r.dynamicUsageStack=e.stack,e}}for(let t of(r.pendingRevalidatedTags||(r.pendingRevalidatedTags=[]),e))r.pendingRevalidatedTags.includes(t)||r.pendingRevalidatedTags.push(t);r.pathWasRevalidated=!0}},61096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rootParams",{enumerable:!0,get:function(){return c}});let i=r(23302),s=r(75124),n=r(29294),a=r(63033),o=r(37461),l=r(51078),d=new WeakMap;async function c(){let e=n.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new i.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let t=a.workUnitAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(t.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-ppr":case"prerender-legacy":return function(e,t,r){let i=t.fallbackRouteParams;if(i){let u=!1;for(let t in e)if(i.has(t)){u=!0;break}if(u){if("prerender"===r.type){let t=d.get(e);if(t)return t;let i=(0,o.makeHangingPromise)(r.renderSignal,"`unstable_rootParams`");return d.set(e,i),i}var n=e,a=i,c=t,h=r;let u=d.get(n);if(u)return u;let f={...n},p=Promise.resolve(f);return d.set(n,p),Object.keys(n).forEach(e=>{l.wellKnownProperties.has(e)||(a.has(e)?Object.defineProperty(f,e,{get(){let t=(0,l.describeStringPropertyAccess)("unstable_rootParams",e);"prerender-ppr"===h.type?(0,s.postponeWithTracking)(c.route,t,h.dynamicTracking):(0,s.throwToInterruptStaticGeneration)(t,c,h)},enumerable:!0}):p[e]=n[e])}),p}}return Promise.resolve(e)}(t.rootParams,e,t);default:return Promise.resolve(t.rootParams)}}},62736:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return i}});let r=new WeakMap;function i(e,t){let i;if(!t)return{pathname:e};let s=r.get(t);s||(s=t.map(e=>e.toLowerCase()),r.set(t,s));let n=e.split("/",2);if(!n[1])return{pathname:e};let a=n[1].toLowerCase(),o=s.indexOf(a);return o<0?{pathname:e}:(i=t[o],{pathname:e=e.slice(i.length+1)||"/",detectedLocale:i})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return s},userAgent:function(){return a},userAgentFromString:function(){return n}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(12130));function s(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function n(e){return{...(0,i.default)(e),isBot:void 0!==e&&s(e)}}function a({headers:e}){return n(e.get("user-agent")||void 0)}},65538:(e,t,r)=>{"use strict";function i(e){return async(...t)=>{let{data:r,errors:i}=await e(...t);if(i)throw i[0];return r}}function s(e){return(...t)=>{let{data:r,errors:i}=e(...t);if(i)throw i[0];return r}}r.d(t,{C:()=>i,R:()=>s})},66455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}});let i=r(35333),s=r(19186);function n(e,t,r,n){if(!t||t===r)return e;let a=e.toLowerCase();return!n&&((0,s.pathHasPrefix)(a,"/api")||(0,s.pathHasPrefix)(a,"/"+t.toLowerCase()))?e:(0,i.addPathPrefix)(e,"/"+t)}},67517:(e,t,r)=>{"use strict";r.d(t,{n:()=>N});var i,s,n,a,o,l,d,c,h,u,f,p,g,m,b,x,y,_,v,w=r(56614);r(77823);var k=r(65538);r(33781),r(58743);var S=r(32749),E=r(62828),R=r(56270),A=class{constructor(){(0,R.VK)(this,n),(0,R.VK)(this,i,"clerk_telemetry_throttler"),(0,R.VK)(this,s,864e5)}isEventThrottled(e){if(!(0,R.S7)(this,n,l))return!1;let t=Date.now(),r=(0,R.jq)(this,n,a).call(this,e),d=(0,R.S7)(this,n,o)?.[r];if(!d){let e={...(0,R.S7)(this,n,o),[r]:t};localStorage.setItem((0,R.S7)(this,i),JSON.stringify(e))}if(d&&t-d>(0,R.S7)(this,s)){let e=(0,R.S7)(this,n,o);delete e[r],localStorage.setItem((0,R.S7)(this,i),JSON.stringify(e))}return!!d}};i=new WeakMap,s=new WeakMap,n=new WeakSet,a=function(e){let{sk:t,pk:r,payload:i,...s}=e,n={...i,...s};return JSON.stringify(Object.keys({...i,...s}).sort().map(e=>n[e]))},o=function(){let e=localStorage.getItem((0,R.S7)(this,i));return e?JSON.parse(e):{}},l=function(){if("undefined"==typeof window)return!1;let e=window.localStorage;if(!e)return!1;try{let t="test";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e.length>0&&e.removeItem((0,R.S7)(this,i)),!1}};var O={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},P=class{constructor(e){(0,R.VK)(this,p),(0,R.VK)(this,d),(0,R.VK)(this,c),(0,R.VK)(this,h,{}),(0,R.VK)(this,u,[]),(0,R.VK)(this,f),(0,R.OV)(this,d,{maxBufferSize:e.maxBufferSize??O.maxBufferSize,samplingRate:e.samplingRate??O.samplingRate,perEventSampling:e.perEventSampling??!0,disabled:e.disabled??!1,debug:e.debug??!1,endpoint:O.endpoint}),e.clerkVersion||"undefined"!=typeof window?(0,R.S7)(this,h).clerkVersion=e.clerkVersion??"":(0,R.S7)(this,h).clerkVersion="",(0,R.S7)(this,h).sdk=e.sdk,(0,R.S7)(this,h).sdkVersion=e.sdkVersion,(0,R.S7)(this,h).publishableKey=e.publishableKey??"";let t=(0,E.q5)(e.publishableKey);t&&((0,R.S7)(this,h).instanceType=t.instanceType),e.secretKey&&((0,R.S7)(this,h).secretKey=e.secretKey.substring(0,16)),(0,R.OV)(this,c,new A)}get isEnabled(){return!("development"!==(0,R.S7)(this,h).instanceType||(0,R.S7)(this,d).disabled||"undefined"!=typeof process&&process.env&&(0,S.zz)(process.env.CLERK_TELEMETRY_DISABLED)||"undefined"!=typeof window&&window?.navigator?.webdriver)}get isDebug(){return(0,R.S7)(this,d).debug||"undefined"!=typeof process&&process.env&&(0,S.zz)(process.env.CLERK_TELEMETRY_DEBUG)}record(e){let t=(0,R.jq)(this,p,v).call(this,e.event,e.payload);(0,R.jq)(this,p,y).call(this,t.event,t),(0,R.jq)(this,p,g).call(this,t,e.eventSamplingRate)&&((0,R.S7)(this,u).push(t),(0,R.jq)(this,p,b).call(this))}};d=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakSet,g=function(e,t){return this.isEnabled&&!this.isDebug&&(0,R.jq)(this,p,m).call(this,e,t)},m=function(e,t){let r=Math.random();return!!(r<=(0,R.S7)(this,d).samplingRate&&(!1===(0,R.S7)(this,d).perEventSampling||void 0===t||r<=t))&&!(0,R.S7)(this,c).isEventThrottled(e)},b=function(){if("undefined"==typeof window)return void(0,R.jq)(this,p,x).call(this);if((0,R.S7)(this,u).length>=(0,R.S7)(this,d).maxBufferSize){(0,R.S7)(this,f)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)((0,R.S7)(this,f)),(0,R.jq)(this,p,x).call(this);return}(0,R.S7)(this,f)||("requestIdleCallback"in window?(0,R.OV)(this,f,requestIdleCallback(()=>{(0,R.jq)(this,p,x).call(this)})):(0,R.OV)(this,f,setTimeout(()=>{(0,R.jq)(this,p,x).call(this)},0)))},x=function(){let e=[...(0,R.S7)(this,u)];(0,R.OV)(this,u,[]),(0,R.OV)(this,f,null),0!==e.length&&fetch(new URL("/v1/event",(0,R.S7)(this,d).endpoint),{method:"POST",body:JSON.stringify({events:e}),keepalive:!0,headers:{"Content-Type":"application/json"}}).catch(()=>void 0)},y=function(e,t){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))},_=function(){let e={name:(0,R.S7)(this,h).sdk,version:(0,R.S7)(this,h).sdkVersion};if("undefined"!=typeof window){let t=window;if(t.Clerk){let r=t.Clerk;if("object"==typeof r&&null!==r&&"constructor"in r&&"function"==typeof r.constructor&&r.constructor.sdkMetadata){let{name:t,version:i}=r.constructor.sdkMetadata;void 0!==t&&(e.name=t),void 0!==i&&(e.version=i)}}}return e},v=function(e,t){let r=(0,R.jq)(this,p,_).call(this);return{event:e,cv:(0,R.S7)(this,h).clerkVersion??"",it:(0,R.S7)(this,h).instanceType??"",sdk:r.name,sdkv:r.version,...(0,R.S7)(this,h).publishableKey?{pk:(0,R.S7)(this,h).publishableKey}:{},...(0,R.S7)(this,h).secretKey?{sk:(0,R.S7)(this,h).secretKey}:{},payload:t}};(0,k.C)(w.nr);var j=r(61828);let M={secretKey:j.rB,publishableKey:j.At,apiUrl:j.H$,apiVersion:j.mG,userAgent:"@clerk/nextjs@6.30.1",proxyUrl:j.Rg,domain:j.V2,isSatellite:j.fS,machineSecretKey:j.Fx,sdkMetadata:j.tm,telemetry:{disabled:j.nN,debug:j.Mh}},N=e=>(function(e){let t={...e},r=(0,w.y3)(t),i=(0,w.Bs)({options:t,apiClient:r}),s=new P({...e.telemetry,publishableKey:t.publishableKey,secretKey:t.secretKey,samplingRate:.1,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{}});return{...r,...i,telemetry:s}})({...M,...e})},68002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return s}});let i=r(19186);function s(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},70099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let i=r(72639),s=r(9131),n=r(49603),a=i._(r(32091));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=n.Image},70388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},71490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let i=r(25104),s=r(35333),n=r(222),a=r(66455);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,n.addPathSuffix)((0,s.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,s.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,n.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},72150:(e,t)=>{"use strict";function r(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),i=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(i,"url",{value:e.url});let s=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(s,"url",{value:e.url}),[i,s]}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneResponse",{enumerable:!0,get:function(){return r}})},72596:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(67218);r(79130);var s=r(7462),n=r(34974),a=r(17478);async function o(){let{userId:e}=await (0,n.j)();if(!e)return{error:"User not found"};try{let t=await s.db.record.findMany({where:{userId:e}}),r=t.reduce((e,t)=>e+t.amount,0),i=t.filter(e=>e.amount>0).length;return{record:r,daysWithRecords:i}}catch(e){return console.error("Error fetching user record:",e),{error:"Database error"}}}let l=o;(0,a.D)([o]),(0,i.A)(o,"7f896f31b6ca8fd86698da686353fd458b1a53b463",null)},73024:e=>{"use strict";e.exports=require("node:fs")},74075:e=>{"use strict";e.exports=require("zlib")},75626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let i=r(88870),s=r(97748),n=r(77777);!function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(14245),t);class a{constructor(e){this.batcher=i.Batcher.create({cacheKeyFn:({key:e,isOnDemandRevalidate:t})=>`${e}-${t?"1":"0"}`,schedulerFn:s.scheduleOnNextTick}),this.minimalMode=e}async get(e,t,r){if(!e)return t({hasResolved:!1,previousCacheEntry:null});let{incrementalCache:i,isOnDemandRevalidate:s=!1,isFallback:a=!1,isRoutePPREnabled:o=!1}=r,l=await this.batcher.batch({key:e,isOnDemandRevalidate:s},async(l,d)=>{var c;if(this.minimalMode&&(null==(c=this.previousCacheItem)?void 0:c.key)===l&&this.previousCacheItem.expiresAt>Date.now())return this.previousCacheItem.entry;let h=(0,n.routeKindToIncrementalCacheKind)(r.routeKind),u=!1,f=null;try{if((f=this.minimalMode?null:await i.get(e,{kind:h,isRoutePPREnabled:r.isRoutePPREnabled,isFallback:a}))&&!s&&(d(f),u=!0,!f.isStale||r.isPrefetch))return null;let c=await t({hasResolved:u,previousCacheEntry:f,isRevalidating:!0});if(!c)return this.minimalMode&&(this.previousCacheItem=void 0),null;let p=await (0,n.fromResponseCacheEntry)({...c,isMiss:!f});if(!p)return this.minimalMode&&(this.previousCacheItem=void 0),null;return s||u||(d(p),u=!0),p.cacheControl&&(this.minimalMode?this.previousCacheItem={key:l,entry:p,expiresAt:Date.now()+1e3}:await i.set(e,p.value,{cacheControl:p.cacheControl,isRoutePPREnabled:o,isFallback:a})),p}catch(t){if(null==f?void 0:f.cacheControl){let t=Math.min(Math.max(f.cacheControl.revalidate||3,3),30),r=void 0===f.cacheControl.expire?void 0:Math.max(t+3,f.cacheControl.expire);await i.set(e,f.value,{cacheControl:{revalidate:t,expire:r},isRoutePPREnabled:o,isFallback:a})}if(u)return console.error(t),null;throw t}});return(0,n.toResponseCacheEntry)(l)}}},75738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NextRequestAdapter:function(){return h},ResponseAborted:function(){return l},ResponseAbortedName:function(){return o},createAbortController:function(){return d},signalFromNodeResponse:function(){return c}});let i=r(10920),s=r(40857),n=r(81661),a=r(44927),o="ResponseAborted";class l extends Error{constructor(...e){super(...e),this.name=o}}function d(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new l)}),t}function c(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new l);let{signal:i}=d(e);return i}class h{static fromBaseNextRequest(e,t){if((0,a.isNodeNextRequest)(e))return h.fromNodeNextRequest(e,t);throw Object.defineProperty(Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:!1,configurable:!0})}static fromNodeNextRequest(e,t){let r,a=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(a=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=(0,i.getRequestMeta)(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new n.NextRequest(r,{method:e.method,headers:(0,s.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:a}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new n.NextRequest(e.url,{method:e.method,headers:(0,s.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},77777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromResponseCacheEntry:function(){return a},routeKindToIncrementalCacheKind:function(){return l},toResponseCacheEntry:function(){return o}});let i=r(14245),s=function(e){return e&&e.__esModule?e:{default:e}}(r(95247)),n=r(46729);async function a(e){var t,r;return{...e,value:(null==(t=e.value)?void 0:t.kind)===i.CachedRouteKind.PAGES?{kind:i.CachedRouteKind.PAGES,html:await e.value.html.toUnchunkedString(!0),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(r=e.value)?void 0:r.kind)===i.CachedRouteKind.APP_PAGE?{kind:i.CachedRouteKind.APP_PAGE,html:await e.value.html.toUnchunkedString(!0),postponed:e.value.postponed,rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,segmentData:e.value.segmentData}:e.value}}async function o(e){var t,r;return e?{isMiss:e.isMiss,isStale:e.isStale,cacheControl:e.cacheControl,isFallback:e.isFallback,value:(null==(t=e.value)?void 0:t.kind)===i.CachedRouteKind.PAGES?{kind:i.CachedRouteKind.PAGES,html:s.default.fromStatic(e.value.html),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(r=e.value)?void 0:r.kind)===i.CachedRouteKind.APP_PAGE?{kind:i.CachedRouteKind.APP_PAGE,html:s.default.fromStatic(e.value.html),rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,postponed:e.value.postponed,segmentData:e.value.segmentData}:e.value}:null}function l(e){switch(e){case n.RouteKind.PAGES:return i.IncrementalCacheKind.PAGES;case n.RouteKind.APP_PAGE:return i.IncrementalCacheKind.APP_PAGE;case n.RouteKind.IMAGE:return i.IncrementalCacheKind.IMAGE;case n.RouteKind.APP_ROUTE:return i.IncrementalCacheKind.APP_ROUTE;default:throw Object.defineProperty(Error(`Unexpected route kind ${e}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0})}}},77784:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Alit Technologies Internship\\\\Front-end-Development\\\\expense_tracker_with_ai\\\\components\\\\AIInsights.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\components\\AIInsights.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},81661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let i=r(49761),s=r(40857),n=r(25220),a=r(14659),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,s.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);let n=new i.NextURL(r,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new a.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get nextUrl(){return this[o].nextUrl}get page(){throw new n.RemovedPageError}get ua(){throw new n.RemovedUAError}get url(){return this[o].url}}},81853:(e,t,r)=>{"use strict";function i(e){return async(...t)=>{let{data:r,errors:i}=await e(...t);if(i)throw i[0];return r}}function s(e){return(...t)=>{let{data:r,errors:i}=e(...t);if(i)throw i[0];return r}}r.d(t,{C:()=>i,R:()=>s})},83409:(e,t,r)=>{"use strict";function i(e){throw Object.defineProperty(Error("cacheLife() is only available with the experimental.useCache config."),"__NEXT_ERROR_CODE",{value:"E627",enumerable:!1,configurable:!0})}Object.defineProperty(t,"F",{enumerable:!0,get:function(){return i}}),r(29294),r(63033)},84366:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(67218);r(79130);var s=r(7462),n=r(34974),a=r(17478);async function o(){let{userId:e}=await (0,n.j)();if(!e)return{error:"User not found"};try{return{records:await s.db.record.findMany({where:{userId:e},orderBy:{date:"desc"},take:10})}}catch(e){return console.error("Error fetching records:",e),{error:"Database error"}}}let l=o;(0,a.D)([o]),(0,i.A)(o,"7f92d662c4e33f3de16f5fc1c840e7f87b72bb916a",null)},88870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Batcher",{enumerable:!0,get:function(){return s}});let i=r(91563);class s{constructor(e,t=e=>e()){this.cacheKeyFn=e,this.schedulerFn=t,this.pending=new Map}static create(e){return new s(null==e?void 0:e.cacheKeyFn,null==e?void 0:e.schedulerFn)}async batch(e,t){let r=this.cacheKeyFn?await this.cacheKeyFn(e):e;if(null===r)return t(r,Promise.resolve);let s=this.pending.get(r);if(s)return s;let{promise:n,resolve:a,reject:o}=new i.DetachedPromise;return this.pending.set(r,n),this.schedulerFn(async()=>{try{let e=await t(r,a);a(e)}catch(e){o(e)}finally{this.pending.delete(r)}}),n}}},91339:(e,t)=>{"use strict";function r(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},93412:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var i=r(37413),s=r(47903),n=r(77784);r(61120);var a=r(72596),o=r(22281);let l=async()=>{try{let[e,t]=await Promise.all([(0,a.A)(),(0,o.A)()]),{record:r,daysWithRecords:s}=e,{bestExpense:n,worstExpense:l}=t,d=s&&s>0?s:1,c=(r||0)/d;return(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCCA"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:"Expense Statistics"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Your spending insights and ranges"})]})]}),(0,i.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,i.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl p-3 sm:p-4 border border-gray-200/50 dark:border-gray-600/50",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 mb-2 tracking-wide uppercase",children:"Average Daily Spending"}),(0,i.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:["$",c.toFixed(2)]}),(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-1 rounded-full text-xs font-medium",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-emerald-500 dark:bg-emerald-400 rounded-full"}),"Based on ",d," days with expenses"]})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[(0,i.jsx)("div",{className:"bg-red-50/80 dark:bg-red-900/20 backdrop-blur-sm p-3 sm:p-4 rounded-xl border-l-4 border-l-red-500 hover:bg-red-50 dark:hover:bg-red-900/30",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-red-100 dark:bg-red-800 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-sm leading-none text-red-600 dark:text-red-300 font-bold",children:"↑"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"font-bold text-gray-900 dark:text-gray-100 text-xs mb-0.5",children:"Highest"}),(0,i.jsx)("p",{className:"text-lg font-bold text-red-600 dark:text-red-300",children:void 0!==n?`$${n}`:"No data"})]})]})}),(0,i.jsx)("div",{className:"bg-green-50/80 dark:bg-green-900/20 backdrop-blur-sm p-3 sm:p-4 rounded-xl border-l-4 border-l-green-500 hover:bg-green-50 dark:hover:bg-green-900/30",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-800 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-sm leading-none text-green-600 dark:text-green-300 font-bold",children:"↓"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"font-bold text-gray-900 dark:text-gray-100 text-xs mb-0.5",children:"Lowest"}),(0,i.jsx)("p",{className:"text-lg font-bold text-green-600 dark:text-green-300",children:void 0!==l?`$${l}`:"No data"})]})]})})]})]})]})}catch(e){return console.error("Error fetching expense statistics:",e),(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDCCA"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Expense Statistics"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Your spending insights and ranges"})]})]}),(0,i.jsxs)("div",{className:"bg-red-50/80 dark:bg-red-900/20 backdrop-blur-sm p-6 rounded-xl border-l-4 border-l-red-500",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-lg",children:"⚠️"})}),(0,i.jsx)("p",{className:"text-red-800 dark:text-red-300 font-semibold",children:"Unable to load expense statistics"})]}),(0,i.jsx)("p",{className:"text-red-700 dark:text-red-400 text-sm ml-11",children:"Please try again later"})]})]})}};var d=r(62278);let c=()=>(0,i.jsxs)("div",{className:"font-sans bg-gradient-to-br from-gray-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-emerald-900/20 text-gray-800 dark:text-gray-200 transition-all duration-300 min-h-screen",children:[(0,i.jsxs)("section",{className:"relative overflow-hidden flex flex-col items-center justify-center text-center py-16 sm:py-20 md:py-24 px-4 sm:px-6 md:px-8 bg-gradient-to-br from-emerald-500/10 via-green-500/5 to-teal-500/10 dark:from-emerald-900/30 dark:via-green-900/20 dark:to-teal-900/30",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-grid-pattern opacity-5 dark:opacity-10"}),(0,i.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto w-full",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium mb-4 sm:mb-6 shadow-lg",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-emerald-500 dark:bg-emerald-400 rounded-full animate-pulse"}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"AI-Powered Financial Management"}),(0,i.jsx)("span",{className:"sm:hidden",children:"AI Financial Management"})]}),(0,i.jsxs)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold mb-4 sm:mb-6 text-gray-900 dark:text-gray-100 leading-tight",children:["Welcome to"," ",(0,i.jsx)("span",{className:"bg-gradient-to-r from-emerald-600 via-green-500 to-teal-500 bg-clip-text text-transparent",children:"ExpenseTracker AI"})]}),(0,i.jsx)("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl mb-6 sm:mb-8 text-gray-600 dark:text-gray-400 leading-relaxed max-w-3xl mx-auto px-2 sm:px-0",children:"Track your expenses, manage your budget, and get AI-powered insights to take control of your finances with intelligent automation."}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-8 sm:mb-12 px-2 sm:px-0",children:[(0,i.jsx)(d.SignInButton,{children:(0,i.jsxs)("button",{className:"group relative overflow-hidden bg-gradient-to-r from-emerald-600 via-green-500 to-teal-500 hover:from-emerald-700 hover:via-green-600 hover:to-teal-600 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl font-bold shadow-2xl hover:shadow-3xl transition-all duration-200 transform hover:-translate-y-0.5",children:[(0,i.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Get Started Free",(0,i.jsx)("span",{className:"text-lg",children:"→"})]}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})}),(0,i.jsx)("button",{className:"group border-2 border-emerald-500/20 dark:border-emerald-400/20 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 px-6 sm:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl font-semibold transition-all duration-200 backdrop-blur-sm",children:"Learn More"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto px-2 sm:px-0",children:[(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-lg border border-gray-100/50 dark:border-gray-700/50",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg mb-3 sm:mb-4 mx-auto",children:(0,i.jsx)("span",{className:"text-white text-base sm:text-lg",children:"\uD83E\uDD16"})}),(0,i.jsx)("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100 mb-2 text-center",children:"AI Insights"}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 text-center",children:"Smart analysis of your spending patterns"})]}),(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-lg border border-gray-100/50 dark:border-gray-700/50",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 via-teal-500 to-emerald-500 rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg mb-3 sm:mb-4 mx-auto",children:(0,i.jsx)("span",{className:"text-white text-base sm:text-lg",children:"✨"})}),(0,i.jsx)("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100 mb-2 text-center",children:"Auto Categories"}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 text-center",children:"Intelligent expense categorization"})]}),(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-lg border border-gray-100/50 dark:border-gray-700/50 sm:col-span-2 md:col-span-1",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-teal-500 via-emerald-500 to-green-500 rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg mb-3 sm:mb-4 mx-auto",children:(0,i.jsx)("span",{className:"text-white text-base sm:text-lg",children:"\uD83D\uDCCA"})}),(0,i.jsx)("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100 mb-2 text-center",children:"Smart Dashboard"}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 text-center",children:"Beautiful, intuitive financial overview"})]})]})]})]}),(0,i.jsxs)("section",{className:"py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500"}),(0,i.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,i.jsxs)("div",{className:"text-center mb-10 sm:mb-12 md:mb-16",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-4 sm:mb-6",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-emerald-500 dark:bg-emerald-400 rounded-full"}),"FAQ"]}),(0,i.jsxs)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 text-gray-900 dark:text-gray-100 px-2 sm:px-0",children:["Frequently Asked"," ",(0,i.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400",children:"Questions"})]}),(0,i.jsx)("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto px-2 sm:px-0",children:"Everything you need to know about ExpenseTracker AI and how it can transform your financial management."})]}),(0,i.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,i.jsx)("div",{className:"group bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-lg border border-gray-100/50 dark:border-gray-700/50 hover:shadow-xl transition-all duration-200",children:(0,i.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,i.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-md sm:rounded-lg flex items-center justify-center shadow-lg flex-shrink-0",children:(0,i.jsx)("span",{className:"text-white text-xs sm:text-sm",children:"?"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2 sm:mb-3",children:"What is ExpenseTracker AI?"}),(0,i.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:"ExpenseTracker AI is an intelligent financial management tool that uses artificial intelligence to help you monitor your spending patterns, get smart category suggestions, and receive personalized insights to improve your financial health."})]})]})}),(0,i.jsx)("div",{className:"group bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-lg border border-gray-100/50 dark:border-gray-700/50 hover:shadow-xl transition-all duration-200",children:(0,i.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,i.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-green-500 via-teal-500 to-emerald-500 rounded-md sm:rounded-lg flex items-center justify-center shadow-lg flex-shrink-0",children:(0,i.jsx)("span",{className:"text-white text-xs sm:text-sm",children:"\uD83E\uDD16"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2 sm:mb-3",children:"How does the AI work?"}),(0,i.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:"Our AI analyzes your spending data to automatically categorize expenses, detect patterns, and provide personalized recommendations. You can also ask the AI questions about your spending habits and get instant, intelligent responses."})]})]})}),(0,i.jsx)("div",{className:"group bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-lg border border-gray-100/50 dark:border-gray-700/50 hover:shadow-xl transition-all duration-200",children:(0,i.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,i.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-teal-500 via-emerald-500 to-green-500 rounded-md sm:rounded-lg flex items-center justify-center shadow-lg flex-shrink-0",children:(0,i.jsx)("span",{className:"text-white text-xs sm:text-sm",children:"\uD83D\uDC8E"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2 sm:mb-3",children:"Is ExpenseTracker AI free?"}),(0,i.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:"Yes, ExpenseTracker AI offers a free plan with basic AI features including smart categorization and insights. Premium plans are available for advanced AI analytics and unlimited AI interactions."})]})]})})]})]})]}),(0,i.jsx)("section",{className:"py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 bg-gradient-to-br from-gray-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-emerald-900/20",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,i.jsxs)("div",{className:"text-center mb-10 sm:mb-12 md:mb-16",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-4 sm:mb-6",children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 bg-emerald-500 dark:bg-emerald-400 rounded-full"}),"Testimonials"]}),(0,i.jsxs)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 text-gray-900 dark:text-gray-100 px-2 sm:px-0",children:["What Our Users"," ",(0,i.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400",children:"Say"})]}),(0,i.jsx)("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto px-2 sm:px-0",children:"Join thousands of satisfied users who have transformed their financial habits with ExpenseTracker AI."})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[(0,i.jsxs)("div",{className:"group relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl transition-all duration-200 hover:-translate-y-1",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-green-500/5 rounded-xl sm:rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,i.jsxs)("div",{className:"relative z-10",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-full flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-xs sm:text-sm font-bold",children:"S"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm sm:text-base",children:"Sarah L."}),(0,i.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Verified User"})]})]}),(0,i.jsx)("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:"“ExpenseTracker AI has completely transformed my budgeting. The AI insights are incredibly helpful and I now have full control over my finances!”"}),(0,i.jsx)("div",{className:"flex text-emerald-500 text-xs sm:text-sm",children:"⭐⭐⭐⭐⭐"})]})]}),(0,i.jsxs)("div",{className:"group relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl transition-all duration-200 hover:-translate-y-1",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-teal-500/5 rounded-xl sm:rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,i.jsxs)("div",{className:"relative z-10",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 via-teal-500 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-xs sm:text-sm font-bold",children:"J"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm sm:text-base",children:"John D."}),(0,i.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Verified User"})]})]}),(0,i.jsx)("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:"“The AI-powered insights from ExpenseTracker have helped me identify and reduce unnecessary spending. The smart categorization is amazing!”"}),(0,i.jsx)("div",{className:"flex text-emerald-500 text-xs sm:text-sm",children:"⭐⭐⭐⭐⭐"})]})]}),(0,i.jsxs)("div",{className:"group relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl transition-all duration-200 hover:-translate-y-1 sm:col-span-2 lg:col-span-1",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/5 to-emerald-500/5 rounded-xl sm:rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,i.jsxs)("div",{className:"relative z-10",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-teal-500 via-emerald-500 to-green-500 rounded-full flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-xs sm:text-sm font-bold",children:"E"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm sm:text-base",children:"Emily R."}),(0,i.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Verified User"})]})]}),(0,i.jsx)("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:"“ExpenseTracker AI is so intelligent and easy to use. The AI recommendations are spot-on and have genuinely improved my financial habits!”"}),(0,i.jsx)("div",{className:"flex text-emerald-500 text-xs sm:text-sm",children:"⭐⭐⭐⭐⭐"})]})]})]})]})})]});var h=r(84366),u=r(4768);let f=async()=>{let{records:e,error:t}=await (0,h.A)();return t?(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCCA"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:"Expense Chart"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Visual representation of your spending"})]})]}),(0,i.jsxs)("div",{className:"bg-red-50/80 dark:bg-red-900/20 backdrop-blur-sm p-3 sm:p-4 rounded-xl border-l-4 border-l-red-500",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-sm",children:"⚠️"})}),(0,i.jsx)("p",{className:"text-red-800 dark:text-red-300 font-semibold text-sm",children:"Error loading chart data"})]}),(0,i.jsx)("p",{className:"text-red-700 dark:text-red-400 text-xs ml-8",children:t})]})]}):e&&0!==e.length?(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCCA"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:"Expense Chart"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Visual representation of your spending"})]})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsx)(u.default,{records:e.map(e=>({...e,date:String(e.date)}))})})]}):(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCCA"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:"Expense Chart"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Visual representation of your spending"})]})]}),(0,i.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,i.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,i.jsx)("span",{className:"text-2xl sm:text-3xl",children:"\uD83D\uDCC8"})}),(0,i.jsx)("h4",{className:"text-base sm:text-lg font-bold text-gray-800 dark:text-gray-200 mb-2",children:"No Data to Display"}),(0,i.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed text-sm",children:"Start tracking your expenses to see your spending patterns visualized in this chart."})]})]})};var p=r(96947);let g=async()=>{let{records:e,error:t}=await (0,h.A)();return t?(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-red-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCDD"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Expense History"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Your spending timeline"})]})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border-l-4 border-l-red-500 p-3 sm:p-4 rounded-xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-red-100 dark:bg-red-800 rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-base sm:text-lg",children:"⚠️"})}),(0,i.jsx)("h4",{className:"font-bold text-red-800 dark:text-red-300 text-sm",children:"Error loading expense history"})]}),(0,i.jsx)("p",{className:"text-red-700 dark:text-red-400 ml-8 sm:ml-10 text-xs",children:t})]})]}):e&&0!==e.length?(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCDD"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Expense History"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Your spending timeline"})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:e.map(e=>(0,i.jsx)(p.default,{record:e},e.id))})]}):(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDCDD"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:"Expense History"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Your spending timeline"})]})]}),(0,i.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,i.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-emerald-100 to-green-100 dark:from-emerald-900/50 dark:to-green-900/50 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,i.jsx)("span",{className:"text-2xl sm:text-3xl",children:"\uD83D\uDCCA"})}),(0,i.jsx)("h4",{className:"text-base sm:text-lg font-bold text-gray-800 dark:text-gray-200 mb-2",children:"No Expense Records Found"}),(0,i.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto text-sm",children:"Start tracking your expenses to see your spending history and patterns here."})]})]})};var m=r(98283),b=r(93800),x=r(8960),y=r(44335);let _=new(r(16698)).AsyncLocalStorage;var v=r(23855);let w=async()=>{var e,t;let r;try{let e=await (0,b.TG)(),t=(0,y._b)(e,m.AA.Headers.ClerkRequestData);r=(0,v.Kk)(t)}catch(e){if(e&&(0,b.Sz)(e))throw e}let i=null!=(t=null==(e=_.getStore())?void 0:e.get("requestData"))?t:r;return(null==i?void 0:i.secretKey)||(null==i?void 0:i.publishableKey)?(0,x.n)(i):(0,x.n)({})};var k=r(34974);async function S(){r(34822);let{userId:e}=await (0,k.j)();return e?(await w()).users.getUser(e):null}var E=r(70099),R=r.n(E);async function A(){let e=await S();return e?(0,i.jsx)("main",{className:"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans min-h-screen transition-colors duration-300",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 sm:p-6 lg:p-8 rounded-2xl shadow-xl border border-gray-100/50 dark:border-gray-700/50 hover:shadow-2xl flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6",children:[(0,i.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,i.jsx)(R(),{src:e.imageUrl,alt:`${e.firstName}&#39;s profile`,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl border-2 border-white dark:border-gray-600 shadow-lg"}),(0,i.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-r from-green-400 to-green-500 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-white text-xs",children:"✓"})})]}),(0,i.jsxs)("div",{className:"flex-1 text-center sm:text-left",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start justify-center sm:justify-start gap-2 sm:gap-3 mb-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,i.jsx)("span",{className:"text-white text-sm sm:text-lg",children:"\uD83D\uDC4B"})}),(0,i.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100",children:["Welcome Back, ",e.firstName,"!"]})]}),(0,i.jsx)("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-4 sm:mb-6 max-w-md mx-auto sm:mx-0",children:"Here's a quick overview of your recent expense activity. Track your spending, analyze patterns, and manage your budget efficiently!"}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center sm:justify-start",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/30 border border-emerald-100 dark:border-emerald-800 px-3 py-2 rounded-xl flex items-center gap-2 justify-center sm:justify-start",children:[(0,i.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-r from-emerald-500 to-green-500 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-white text-xs",children:"\uD83D\uDCC5"})}),(0,i.jsxs)("div",{className:"text-center sm:text-left",children:[(0,i.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 block",children:"Joined"}),(0,i.jsx)("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 border border-green-100 dark:border-green-800 px-3 py-2 rounded-xl flex items-center gap-2 justify-center sm:justify-start",children:[(0,i.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-white text-xs",children:"⚡"})}),(0,i.jsxs)("div",{className:"text-center sm:text-left",children:[(0,i.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 block",children:"Last Active"}),(0,i.jsx)("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:e.lastActiveAt?new Date(e.lastActiveAt).toLocaleDateString():"Today"})]})]})]})]})]}),(0,i.jsx)(s.default,{})]}),(0,i.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,i.jsx)(f,{}),(0,i.jsx)(l,{})]})]}),(0,i.jsxs)("div",{className:"mt-6 sm:mt-8 space-y-4 sm:space-y-6",children:[(0,i.jsx)(n.default,{}),(0,i.jsx)(g,{})]})]})}):(0,i.jsx)(c,{})}},93800:(e,t,r)=>{"use strict";r.d(t,{Sz:()=>s,TG:()=>n});var i=r(32190);let s=e=>{if(!(e instanceof Error)||!("message"in e))return!1;let{message:t}=e,r=t.toLowerCase(),i=r.includes("dynamic server usage"),s=r.includes("this page needs to bail out of prerendering");return/Route .*? needs to bail out of prerendering at this point because it used .*?./.test(t)||i||s};async function n(){try{let{headers:e}=await Promise.resolve().then(r.bind(r,44999)),t=await e();return new i.NextRequest("https://placeholder.com",{headers:t})}catch(e){if(e&&s(e))throw e;throw Error(`Clerk: auth(), currentUser() and clerkClient(), are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}}},94488:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var i=r(60687),s=r(43210),n=r(6475);let a=(0,n.createServerReference)("7fdc9da79e3845f8a1dc55d972899000c2936e5c5f",n.callServer,void 0,n.findSourceMapURL,"default"),o=e=>{switch(e){case"Food":return"\uD83C\uDF54";case"Transportation":return"\uD83D\uDE97";case"Shopping":return"\uD83D\uDED2";case"Entertainment":return"\uD83C\uDFAC";case"Bills":return"\uD83D\uDCA1";case"Healthcare":return"\uD83C\uDFE5";default:return"\uD83D\uDCE6"}},l=({record:e})=>{let[t,r]=(0,s.useState)(!1),n=async e=>{r(!0),await a(e),r(!1)};return(0,i.jsxs)("li",{className:`bg-white/60 dark:bg-gray-700/60 backdrop-blur-sm p-4 sm:p-6 rounded-xl shadow-lg border border-gray-100/50 dark:border-gray-600/50 border-l-4 ${(e=>e>100?"border-red-500":e>50?"border-yellow-500":"border-green-500")(e?.amount)} hover:bg-white/80 dark:hover:bg-gray-700/80 relative min-h-[120px] sm:min-h-[140px] flex flex-col justify-between overflow-visible group`,children:[(0,i.jsx)("button",{onClick:()=>n(e.id),className:`absolute -top-2 -right-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-full w-6 h-6 sm:w-7 sm:h-7 flex items-center justify-center shadow-lg hover:shadow-xl border-2 border-white dark:border-gray-700 backdrop-blur-sm transform hover:scale-110 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-all duration-200 ${t?"cursor-not-allowed scale-100":""}`,"aria-label":"Delete record",disabled:t,title:"Delete expense record",children:t?(0,i.jsx)("div",{className:"w-3 h-3 border border-white/30 border-t-white rounded-full animate-spin"}):(0,i.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,i.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 tracking-wide uppercase",children:new Date(e?.date).toLocaleDateString()}),(0,i.jsxs)("span",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:["$",e?.amount.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-base sm:text-lg",children:o(e?.category)}),(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e?.category})]})]}),(0,i.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-2",children:(0,i.jsx)("p",{className:"truncate break-words line-clamp-2",children:e?.text})})]})]})}},95247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let i=r(34360),s=r(19136);class n{static fromStatic(e){return new n(e,{metadata:{}})}constructor(e,{contentType:t,waitUntil:r,metadata:i}){this.response=e,this.contentType=t,this.metadata=i,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedBuffer(e=!1){if(null===this.response)throw Object.defineProperty(Error("Invariant: null responses cannot be unchunked"),"__NEXT_ERROR_CODE",{value:"E274",enumerable:!1,configurable:!0});if("string"!=typeof this.response){if(!e)throw Object.defineProperty(Error("Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E81",enumerable:!1,configurable:!0});return(0,i.streamToBuffer)(this.readable)}return Buffer.from(this.response)}toUnchunkedString(e=!1){if(null===this.response)throw Object.defineProperty(Error("Invariant: null responses cannot be unchunked"),"__NEXT_ERROR_CODE",{value:"E274",enumerable:!1,configurable:!0});if("string"!=typeof this.response){if(!e)throw Object.defineProperty(Error("Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E81",enumerable:!1,configurable:!0});return(0,i.streamToString)(this.readable)}return this.response}get readable(){if(null===this.response)throw Object.defineProperty(Error("Invariant: null responses cannot be streamed"),"__NEXT_ERROR_CODE",{value:"E14",enumerable:!1,configurable:!0});if("string"==typeof this.response)throw Object.defineProperty(Error("Invariant: static responses cannot be streamed"),"__NEXT_ERROR_CODE",{value:"E151",enumerable:!1,configurable:!0});return Buffer.isBuffer(this.response)?(0,i.streamFromBuffer)(this.response):Array.isArray(this.response)?(0,i.chainStreams)(...this.response):this.response}chain(e){let t;if(null===this.response)throw Object.defineProperty(Error("Invariant: response is null. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E258",enumerable:!1,configurable:!0});(t="string"==typeof this.response?[(0,i.streamFromString)(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[(0,i.streamFromBuffer)(this.response)]:[this.response]).push(e),this.response=t}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if((0,s.isAbortError)(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await (0,s.pipeToNodeResponse)(this.readable,e,this.waitUntil)}}},95825:(e,t,r)=>{"use strict";let i;r.d(t,{default:()=>sY});var s=r(60687),n=r(43210);function a(e){return e+.5|0}let o=(e,t,r)=>Math.max(Math.min(e,r),t);function l(e){return o(a(2.55*e),0,255)}function d(e){return o(a(255*e),0,255)}function c(e){return o(a(e/2.55)/100,0,1)}function h(e){return o(a(100*e),0,100)}let u={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},f=[..."0123456789ABCDEF"],p=e=>f[15&e],g=e=>f[(240&e)>>4]+f[15&e],m=e=>(240&e)>>4==(15&e),b=e=>m(e.r)&&m(e.g)&&m(e.b)&&m(e.a),x=(e,t)=>e<255?t(e):"",y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _(e,t,r){let i=t*Math.min(r,1-r),s=(t,s=(t+e/30)%12)=>r-i*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function v(e,t,r){let i=(i,s=(i+e/60)%6)=>r-r*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function w(e,t,r){let i,s=_(e,1,.5);for(t+r>1&&(i=1/(t+r),t*=i,r*=i),i=0;i<3;i++)s[i]*=1-t-r,s[i]+=t;return s}function k(e){let t,r,i,s=e.r/255,n=e.g/255,a=e.b/255,o=Math.max(s,n,a),l=Math.min(s,n,a),d=(o+l)/2;o!==l&&(i=o-l,r=d>.5?i/(2-o-l):i/(o+l),t=60*(t=s===o?(n-a)/i+6*(n<a):n===o?(a-s)/i+2:(s-n)/i+4)+.5);return[0|t,r||0,d]}function S(e,t,r,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,i)).map(d)}function E(e){return(e%360+360)%360}let R={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},A={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},O=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,P=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,j=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function M(e,t,r){if(e){let i=k(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*r,0===t?360:1)),e.r=(i=S(_,i,void 0,void 0))[0],e.g=i[1],e.b=i[2]}}function N(e,t){return e?Object.assign(t||{},e):e}function T(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=d(e[3]))):(t=N(e,{r:0,g:0,b:0,a:1})).a=d(t.a),t}class C{constructor(e){let t;if(e instanceof C)return e;let r=typeof e;"object"===r?t=T(e):"string"===r&&(t=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*u[e[1]],g:255&17*u[e[2]],b:255&17*u[e[3]],a:5===r?17*u[e[4]]:255}:(7===r||9===r)&&(t={r:u[e[1]]<<4|u[e[2]],g:u[e[3]]<<4|u[e[4]],b:u[e[5]]<<4|u[e[6]],a:9===r?u[e[7]]<<4|u[e[8]]:255})),t}(e)||function(e){i||((i=function(){let e,t,r,i,s,n={},a=Object.keys(A),o=Object.keys(R);for(e=0;e<a.length;e++){for(t=0,i=s=a[e];t<o.length;t++)r=o[t],s=s.replace(r,R[r]);r=parseInt(A[i],16),n[s]=[r>>16&255,r>>8&255,255&r]}return n}()).transparent=[0,0,0,0]);let t=i[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||function(e){return"r"===e.charAt(0)?function(e){let t,r,i,s=O.exec(e),n=255;if(s){if(s[7]!==t){let e=+s[7];n=s[8]?l(e):o(255*e,0,255)}return t=+s[1],r=+s[3],i=+s[5],t=255&(s[2]?l(t):o(t,0,255)),{r:t,g:r=255&(s[4]?l(r):o(r,0,255)),b:i=255&(s[6]?l(i):o(i,0,255)),a:n}}}(e):function(e){let t,r=y.exec(e),i=255;if(!r)return;r[5]!==t&&(i=r[6]?l(+r[5]):d(+r[5]));let s=E(+r[2]),n=r[3]/100,a=r[4]/100;return{r:(t="hwb"===r[1]?S(w,s,n,a):"hsv"===r[1]?S(v,s,n,a):S(_,s,n,a))[0],g:t[1],b:t[2],a:i}}(e)}(e)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var e=N(this._rgb);return e&&(e.a=c(e.a)),e}set rgb(e){this._rgb=T(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${c(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,t;return this._valid?(t=b(e=this._rgb)?p:g,e?"#"+t(e.r)+t(e.g)+t(e.b)+x(e.a,t):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let t=k(e),r=t[0],i=h(t[1]),s=h(t[2]);return e.a<255?`hsla(${r}, ${i}%, ${s}%, ${c(e.a)})`:`hsl(${r}, ${i}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){let r,i=this.rgb,s=e.rgb,n=t===r?.5:t,a=2*n-1,o=i.a-s.a,l=((a*o==-1?a:(a+o)/(1+a*o))+1)/2;r=1-l,i.r=255&l*i.r+r*s.r+.5,i.g=255&l*i.g+r*s.g+.5,i.b=255&l*i.b+r*s.b+.5,i.a=n*i.a+(1-n)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){let i=j(c(e.r)),s=j(c(e.g)),n=j(c(e.b));return{r:d(P(i+r*(j(c(t.r))-i))),g:d(P(s+r*(j(c(t.g))-s))),b:d(P(n+r*(j(c(t.b))-n))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new C(this.rgb)}alpha(e){return this._rgb.a=d(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=a(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return M(this._rgb,2,e),this}darken(e){return M(this._rgb,2,-e),this}saturate(e){return M(this._rgb,1,e),this}desaturate(e){return M(this._rgb,1,-e),this}rotate(e){var t,r;return t=this._rgb,(r=k(t))[0]=E(r[0]+e),t.r=(r=S(_,r,void 0,void 0))[0],t.g=r[1],t.b=r[2],this}}function D(){}let I=(()=>{let e=0;return()=>e++})();function L(e){return null==e}function F(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function $(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function B(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function z(e,t){return B(e)?e:t}function U(e,t){return void 0===e?t:e}let H=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t,W=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function V(e,t,r){if(e&&"function"==typeof e.call)return e.apply(r,t)}function q(e,t,r,i){let s,n,a;if(F(e))if(n=e.length,i)for(s=n-1;s>=0;s--)t.call(r,e[s],s);else for(s=0;s<n;s++)t.call(r,e[s],s);else if($(e))for(s=0,n=(a=Object.keys(e)).length;s<n;s++)t.call(r,e[a[s]],a[s])}function X(e,t){let r,i,s,n;if(!e||!t||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;++r)if(s=e[r],n=t[r],s.datasetIndex!==n.datasetIndex||s.index!==n.index)return!1;return!0}function K(e){if(F(e))return e.map(K);if($(e)){let t=Object.create(null),r=Object.keys(e),i=r.length,s=0;for(;s<i;++s)t[r[s]]=K(e[r[s]]);return t}return e}function G(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function Y(e,t,r,i){if(!G(e))return;let s=t[e],n=r[e];$(s)&&$(n)?J(s,n,i):t[e]=K(n)}function J(e,t,r){let i,s=F(t)?t:[t],n=s.length;if(!$(e))return e;let a=(r=r||{}).merger||Y;for(let t=0;t<n;++t){if(!$(i=s[t]))continue;let n=Object.keys(i);for(let t=0,s=n.length;t<s;++t)a(n[t],e,i,r)}return e}function Q(e,t){return J(e,t,{merger:Z})}function Z(e,t,r){if(!G(e))return;let i=t[e],s=r[e];$(i)&&$(s)?Q(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=K(s))}let ee={"":e=>e,x:e=>e.x,y:e=>e.y};function et(e,t){return(ee[t]||(ee[t]=function(e){let t=function(e){let t=e.split("."),r=[],i="";for(let e of t)(i+=e).endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}(e);return e=>{for(let r of t){if(""===r)break;e=e&&e[r]}return e}}(t)))(e)}function er(e){return e.charAt(0).toUpperCase()+e.slice(1)}let ei=e=>void 0!==e,es=e=>"function"==typeof e,en=(e,t)=>{if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0},ea=Math.PI,eo=2*ea,el=eo+ea,ed=Number.POSITIVE_INFINITY,ec=ea/180,eh=ea/2,eu=ea/4,ef=2*ea/3,ep=Math.log10,eg=Math.sign;function em(e,t,r){return Math.abs(e-t)<r}function eb(e){let t=Math.round(e),r=Math.pow(10,Math.floor(ep(e=em(e,t,e/1e3)?t:e))),i=e/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function ex(e){return"symbol"!=typeof e&&("object"!=typeof e||null===e||!!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e))&&!isNaN(parseFloat(e))&&isFinite(e)}function ey(e,t,r){let i,s,n;for(i=0,s=e.length;i<s;i++)isNaN(n=e[i][r])||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function e_(e){return ea/180*e}function ev(e){if(!B(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function ew(e,t){let r=t.x-e.x,i=t.y-e.y,s=Math.sqrt(r*r+i*i),n=Math.atan2(i,r);return n<-.5*ea&&(n+=eo),{angle:n,distance:s}}function ek(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function eS(e,t){return(e-t+el)%eo-ea}function eE(e){return(e%eo+eo)%eo}function eR(e,t,r,i){let s=eE(e),n=eE(t),a=eE(r),o=eE(n-s),l=eE(a-s),d=eE(s-n),c=eE(s-a);return s===n||s===a||i&&n===a||o>l&&d<c}function eA(e,t,r){return Math.max(t,Math.min(r,e))}function eO(e,t,r,i=1e-6){return e>=Math.min(t,r)-i&&e<=Math.max(t,r)+i}function eP(e,t,r){let i;r=r||(r=>e[r]<t);let s=e.length-1,n=0;for(;s-n>1;)r(i=n+s>>1)?n=i:s=i;return{lo:n,hi:s}}let ej=(e,t,r,i)=>eP(e,r,i?i=>{let s=e[i][t];return s<r||s===r&&e[i+1][t]===r}:i=>e[i][t]<r),eM=(e,t,r)=>eP(e,r,i=>e[i][t]>=r),eN=["push","pop","shift","splice","unshift"];function eT(e,t){let r=e._chartjs;if(!r)return;let i=r.listeners,s=i.indexOf(t);-1!==s&&i.splice(s,1),i.length>0||(eN.forEach(t=>{delete e[t]}),delete e._chartjs)}function eC(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}let eD="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function eI(e,t){let r=[],i=!1;return function(...s){r=s,i||(i=!0,eD.call(window,()=>{i=!1,e.apply(t,r)}))}}let eL=e=>"start"===e?"left":"end"===e?"right":"center",eF=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2,e$=(e,t,r,i)=>e===(i?"left":"right")?r:"center"===e?(t+r)/2:t;function eB(e,t,r){let i=t.length,s=0,n=i;if(e._sorted){let{iScale:a,vScale:o,_parsed:l}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=a.axis,{min:h,max:u,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(s=Math.min(ej(l,c,h).lo,r?i:ej(t,c,a.getPixelForValue(h)).lo),d){let e=l.slice(0,s+1).reverse().findIndex(e=>!L(e[o.axis]));s-=Math.max(0,e)}s=eA(s,0,i-1)}if(p){let e=Math.max(ej(l,a.axis,u,!0).hi+1,r?0:ej(t,c,a.getPixelForValue(u),!0).hi+1);if(d){let t=l.slice(e-1).findIndex(e=>!L(e[o.axis]));e+=Math.max(0,t)}n=eA(e,s,i)-s}else n=i-s}return{start:s,count:n}}function ez(e){let{xScale:t,yScale:r,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!i)return e._scaleRanges=s,!0;let n=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,s),n}let eU=e=>0===e||1===e,eH=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*eo/r)),eW=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*eo/r)+1,eV={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*eh)+1,easeOutSine:e=>Math.sin(e*eh),easeInOutSine:e=>-.5*(Math.cos(ea*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>eU(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>eU(e)?e:eH(e,.075,.3),easeOutElastic:e=>eU(e)?e:eW(e,.075,.3),easeInOutElastic:e=>eU(e)?e:e<.5?.5*eH(2*e,.1125,.45):.5+.5*eW(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-eV.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*eV.easeInBounce(2*e):.5*eV.easeOutBounce(2*e-1)+.5};function eq(e){if(e&&"object"==typeof e){let t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function eX(e){return eq(e)?e:new C(e)}function eK(e){return eq(e)?e:new C(e).saturate(.5).darken(.1).hexString()}let eG=["x","y","borderWidth","radius","tension"],eY=["color","borderColor","backgroundColor"],eJ=new Map;function eQ(e,t,r){return(function(e,t){let r=e+JSON.stringify(t=t||{}),i=eJ.get(r);return i||(i=new Intl.NumberFormat(e,t),eJ.set(r,i)),i})(t,r).format(e)}let eZ={values:e=>F(e)?e:""+e,numeric(e,t,r){let i;if(0===e)return"0";let s=this.chart.options.locale,n=e;if(r.length>1){var a,o;let t,s=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(s<1e-4||s>1e15)&&(i="scientific"),a=e,Math.abs(t=(o=r).length>3?o[2].value-o[1].value:o[1].value-o[0].value)>=1&&a!==Math.floor(a)&&(t=a-Math.floor(a)),n=t}let l=ep(Math.abs(n)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(c,this.options.ticks.format),eQ(e,s,c)},logarithmic(e,t,r){return 0===e?"0":[1,2,3,5,10,15].includes(r[t].significand||e/Math.pow(10,Math.floor(ep(e))))||t>.8*r.length?eZ.numeric.call(this,e,t,r):""}};var e0={formatters:eZ};let e1=Object.create(null),e2=Object.create(null);function e5(e,t){if(!t)return e;let r=t.split(".");for(let t=0,i=r.length;t<i;++t){let i=r[t];e=e[i]||(e[i]=Object.create(null))}return e}function e4(e,t,r){return"string"==typeof t?J(e5(e,t),r):J(e5(e,""),t)}class e3{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>eK(t.backgroundColor),this.hoverBorderColor=(e,t)=>eK(t.borderColor),this.hoverColor=(e,t)=>eK(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return e4(this,e,t)}get(e){return e5(this,e)}describe(e,t){return e4(e2,e,t)}override(e,t){return e4(e1,e,t)}route(e,t,r,i){let s=e5(this,e),n=e5(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let e=this[a],t=n[i];return $(e)?Object.assign({},t,e):U(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach(e=>e(this))}}var e8=new e3({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:eY},numbers:{type:"number",properties:eG}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:e0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function e6(e,t,r,i,s){let n=t[s];return n||(n=t[s]=e.measureText(s).width,r.push(s)),n>i&&(i=n),i}function e7(e,t,r){let i=e.currentDevicePixelRatio,s=0!==r?Math.max(r/2,.5):0;return Math.round((t-s)*i)/i+s}function e9(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function te(e,t,r,i){tt(e,t,r,i,null)}function tt(e,t,r,i,s){let n,a,o,l,d,c,h,u,f=t.pointStyle,p=t.rotation,g=t.radius,m=(p||0)*ec;if(f&&"object"==typeof f&&("[object HTMLImageElement]"===(n=f.toString())||"[object HTMLCanvasElement]"===n)){e.save(),e.translate(r,i),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!isNaN(g)&&!(g<=0)){switch(e.beginPath(),f){default:s?e.ellipse(r,i,s/2,g,0,0,eo):e.arc(r,i,g,0,eo),e.closePath();break;case"triangle":c=s?s/2:g,e.moveTo(r+Math.sin(m)*c,i-Math.cos(m)*g),m+=ef,e.lineTo(r+Math.sin(m)*c,i-Math.cos(m)*g),m+=ef,e.lineTo(r+Math.sin(m)*c,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":d=.516*g,a=Math.cos(m+eu)*(l=g-d),h=Math.cos(m+eu)*(s?s/2-d:l),o=Math.sin(m+eu)*l,u=Math.sin(m+eu)*(s?s/2-d:l),e.arc(r-h,i-o,d,m-ea,m-eh),e.arc(r+u,i-a,d,m-eh,m),e.arc(r+h,i+o,d,m,m+eh),e.arc(r-u,i+a,d,m+eh,m+ea),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,c=s?s/2:l,e.rect(r-c,i-l,2*c,2*l);break}m+=eu;case"rectRot":h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(r-h,i-o),e.lineTo(r+u,i-a),e.lineTo(r+h,i+o),e.lineTo(r-u,i+a),e.closePath();break;case"crossRot":m+=eu;case"cross":h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(r-h,i-o),e.lineTo(r+h,i+o),e.moveTo(r+u,i-a),e.lineTo(r-u,i+a);break;case"star":h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(r-h,i-o),e.lineTo(r+h,i+o),e.moveTo(r+u,i-a),e.lineTo(r-u,i+a),m+=eu,h=Math.cos(m)*(s?s/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(r-h,i-o),e.lineTo(r+h,i+o),e.moveTo(r+u,i-a),e.lineTo(r-u,i+a);break;case"line":a=s?s/2:Math.cos(m)*g,o=Math.sin(m)*g,e.moveTo(r-a,i-o),e.lineTo(r+a,i+o);break;case"dash":e.moveTo(r,i),e.lineTo(r+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function tr(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function ti(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ts(e){e.restore()}function tn(e,t,r,i,s){if(!t)return e.lineTo(r.x,r.y);if("middle"===s){let i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else"after"===s!=!!i?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function ta(e,t,r,i){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function to(e,t,r,i,s,n={}){let a,o,l=F(t)?t:[t],d=n.strokeWidth>0&&""!==n.strokeColor;for(e.save(),e.font=s.string,n.translation&&e.translate(n.translation[0],n.translation[1]),L(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline),a=0;a<l.length;++a)o=l[a],n.backdrop&&function(e,t){let r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}(e,n.backdrop),d&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),L(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(o,r,i,n.maxWidth)),e.fillText(o,r,i,n.maxWidth),function(e,t,r,i,s){if(s.strikethrough||s.underline){let n=e.measureText(i),a=t-n.actualBoundingBoxLeft,o=t+n.actualBoundingBoxRight,l=r-n.actualBoundingBoxAscent,d=r+n.actualBoundingBoxDescent,c=s.strikethrough?(l+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,c),e.lineTo(o,c),e.stroke()}}(e,r,i,o,n),i+=Number(s.lineHeight);e.restore()}function tl(e,t){let{x:r,y:i,w:s,h:n,radius:a}=t;e.arc(r+a.topLeft,i+a.topLeft,a.topLeft,1.5*ea,ea,!0),e.lineTo(r,i+n-a.bottomLeft),e.arc(r+a.bottomLeft,i+n-a.bottomLeft,a.bottomLeft,ea,eh,!0),e.lineTo(r+s-a.bottomRight,i+n),e.arc(r+s-a.bottomRight,i+n-a.bottomRight,a.bottomRight,eh,0,!0),e.lineTo(r+s,i+a.topRight),e.arc(r+s-a.topRight,i+a.topRight,a.topRight,0,-eh,!0),e.lineTo(r+a.topLeft,i)}let td=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tc=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,th=e=>+e||0;function tu(e,t){let r={},i=$(t),s=i?Object.keys(t):t,n=$(e)?i?r=>U(e[r],e[t[r]]):t=>e[t]:()=>e;for(let e of s)r[e]=th(n(e));return r}function tf(e){return tu(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tp(e){return tu(e,["topLeft","topRight","bottomLeft","bottomRight"])}function tg(e){let t=tf(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function tm(e,t){e=e||{},t=t||e8.font;let r=U(e.size,t.size);"string"==typeof r&&(r=parseInt(r,10));let i=U(e.style,t.style);i&&!(""+i).match(tc)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let s={family:U(e.family,t.family),lineHeight:function(e,t){let r=(""+e).match(td);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}(U(e.lineHeight,t.lineHeight),r),size:r,style:i,weight:U(e.weight,t.weight),string:""};return s.string=!s||L(s.size)||L(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family,s}function tb(e,t,r,i){let s,n,a,o=!0;for(s=0,n=e.length;s<n;++s)if(void 0!==(a=e[s])&&(void 0!==t&&"function"==typeof a&&(a=a(t),o=!1),void 0!==r&&F(a)&&(a=a[r%a.length],o=!1),void 0!==a))return i&&!o&&(i.cacheable=!1),a}function tx(e,t){return Object.assign(Object.create(e),t)}function ty(e,t=[""],r,i,s=()=>e[0]){let n=r||e;return void 0===i&&(i=tO("_fallback",e)),new Proxy({[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:s,override:r=>ty([r,...e],t,n,i)},{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,i)=>tS(r,i,()=>(function(e,t,r,i){let s;for(let n of t)if(void 0!==(s=tO(tw(n,e),r)))return tk(e,s)?tR(r,i,e,s):s})(i,t,e,r)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>tP(e).includes(t),ownKeys:e=>tP(e),set(e,t,r){let i=e._storage||(e._storage=s());return e[t]=i[t]=r,delete e._keys,!0}})}function t_(e,t,r,i){return new Proxy({_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:tv(e,i),setContext:t=>t_(e,t,r,i),override:s=>t_(e.override(s),t,r,i)},{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>tS(e,t,()=>(function(e,t,r){let{_proxy:i,_context:s,_subProxy:n,_descriptors:a}=e,o=i[t];return es(o)&&a.isScriptable(t)&&(o=function(e,t,r,i){let{_proxy:s,_context:n,_subProxy:a,_stack:o}=r;if(o.has(e))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(n,a||i);return o.delete(e),tk(e,l)&&(l=tR(s._scopes,s,e,l)),l}(t,o,e,r)),F(o)&&o.length&&(o=function(e,t,r,i){let{_proxy:s,_context:n,_subProxy:a,_descriptors:o}=r;if(void 0!==n.index&&i(e))return t[n.index%t.length];if($(t[0])){let r=t,i=s._scopes.filter(e=>e!==r);for(let l of(t=[],r)){let r=tR(i,s,e,l);t.push(t_(r,n,a&&a[e],o))}}return t}(t,o,e,a.isIndexable)),tk(t,o)&&(o=t_(o,s,n&&n[t],a)),o})(e,t,r)),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,i)=>(e[r]=i,delete t[r],!0)})}function tv(e,t={scriptable:!0,indexable:!0}){let{_scriptable:r=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:r,indexable:i,isScriptable:es(r)?r:()=>r,isIndexable:es(i)?i:()=>i}}let tw=(e,t)=>e?e+er(t):t,tk=(e,t)=>$(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function tS(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];let i=r();return e[t]=i,i}let tE=(e,t)=>!0===e?t:"string"==typeof e?et(t,e):void 0;function tR(e,t,r,i){var s;let n=t._rootScopes,a=(s=t._fallback,es(s)?s(r,i):s),o=[...e,...n],l=new Set;l.add(i);let d=tA(l,o,r,a||r,i);return null!==d&&(void 0===a||a===r||null!==(d=tA(l,o,a,d,i)))&&ty(Array.from(l),[""],n,a,()=>(function(e,t,r){let i=e._getTarget();t in i||(i[t]={});let s=i[t];return F(s)&&$(r)?r:s||{}})(t,r,i))}function tA(e,t,r,i,s){for(;r;)r=function(e,t,r,i,s){for(let a of t){let t=tE(r,a);if(t){var n;e.add(t);let a=(n=t._fallback,es(n)?n(r,s):n);if(void 0!==a&&a!==r&&a!==i)return a}else if(!1===t&&void 0!==i&&r!==i)return null}return!1}(e,t,r,i,s);return r}function tO(e,t){for(let r of t){if(!r)continue;let t=r[e];if(void 0!==t)return t}}function tP(e){let t=e._keys;return t||(t=e._keys=function(e){let t=new Set;for(let r of e)for(let e of Object.keys(r).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function tj(e,t,r,i){let s,n,a,{iScale:o}=e,{key:l="r"}=this._parsing,d=Array(i);for(s=0;s<i;++s)a=t[n=s+r],d[s]={r:o.parse(et(a,l),n)};return d}let tM=Number.EPSILON||1e-14,tN=(e,t)=>t<e.length&&!e[t].skip&&e[t],tT=e=>"x"===e?"y":"x";function tC(e,t,r){return Math.max(Math.min(e,r),t)}function tD(){return"undefined"!=typeof window&&"undefined"!=typeof document}function tI(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function tL(e,t,r){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[r])):i=e,i}let tF=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),t$=["top","right","bottom","left"];function tB(e,t,r){let i={};r=r?"-"+r:"";for(let s=0;s<4;s++){let n=t$[s];i[n]=parseFloat(e[t+"-"+n+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}let tz=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function tU(e,t){if("native"in e)return e;let{canvas:r,currentDevicePixelRatio:i}=t,s=tF(r),n="border-box"===s.boxSizing,a=tB(s,"padding"),o=tB(s,"border","width"),{x:l,y:d,box:c}=function(e,t){let r,i,s=e.touches,n=s&&s.length?s[0]:e,{offsetX:a,offsetY:o}=n,l=!1;if(tz(a,o,e.target))r=a,i=o;else{let e=t.getBoundingClientRect();r=n.clientX-e.left,i=n.clientY-e.top,l=!0}return{x:r,y:i,box:l}}(e,r),h=a.left+(c&&o.left),u=a.top+(c&&o.top),{width:f,height:p}=t;return n&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-h)/f*r.width/i),y:Math.round((d-u)/p*r.height/i)}}let tH=e=>Math.round(10*e)/10;function tW(e,t,r){let i=t||1,s=Math.floor(e.height*i),n=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let a=e.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||a.height!==s||a.width!==n)&&(e.currentDevicePixelRatio=i,a.height=s,a.width=n,e.ctx.setTransform(i,0,0,i,0,0),!0)}let tV=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};tD()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function tq(e,t){let r=tF(e).getPropertyValue(t),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function tX(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function tK(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:"middle"===i?r<.5?e.y:t.y:"after"===i?r<1?e.y:t.y:r>0?t.y:e.y}}function tG(e,t,r,i){let s={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},a=tX(e,s,r),o=tX(s,n,r),l=tX(n,t,r),d=tX(a,o,r),c=tX(o,l,r);return tX(d,c,r)}function tY(e,t,r){var i;return e?(i=r,{x:e=>t+t+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function tJ(e,t){let r,i;("ltr"===t||"rtl"===t)&&(i=[(r=e.canvas.style).getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=i)}function tQ(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function tZ(e){return"angle"===e?{between:eR,compare:eS,normalize:eE}:{between:eO,compare:(e,t)=>e-t,normalize:e=>e}}function t0({start:e,end:t,count:r,loop:i,style:s}){return{start:e%r,end:t%r,loop:i&&(t-e+1)%r==0,style:s}}function t1(e,t,r){let i,s,n;if(!r)return[e];let{property:a,start:o,end:l}=r,d=t.length,{compare:c,between:h,normalize:u}=tZ(a),{start:f,end:p,loop:g,style:m}=function(e,t,r){let i,{property:s,start:n,end:a}=r,{between:o,normalize:l}=tZ(s),d=t.length,{start:c,end:h,loop:u}=e;if(u){for(c+=d,h+=d,i=0;i<d&&o(l(t[c%d][s]),n,a);++i)c--,h--;c%=d,h%=d}return h<c&&(h+=d),{start:c,end:h,loop:u,style:e.style}}(e,t,r),b=[],x=!1,y=null,_=()=>h(o,n,i)&&0!==c(o,n),v=()=>0===c(l,i)||h(l,n,i),w=()=>x||_(),k=()=>!x||v();for(let e=f,r=f;e<=p;++e)(s=t[e%d]).skip||(i=u(s[a]))!==n&&(x=h(i,o,l),null===y&&w()&&(y=0===c(i,o)?e:r),null!==y&&k()&&(b.push(t0({start:y,end:e,loop:g,count:d,style:m})),y=null),r=e,n=i);return null!==y&&b.push(t0({start:y,end:p,loop:g,count:d,style:m})),b}function t2(e,t){let r=[],i=e.segments;for(let s=0;s<i.length;s++){let n=t1(i[s],e.points,t);n.length&&r.push(...n)}return r}function t5(e,t,r,i){return i&&i.setContext&&r?function(e,t,r,i){let s=e._chart.getContext(),n=t4(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=r.length,d=[],c=n,h=t[0].start,u=h;function f(e,t,i,s){let n=o?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=n;for(;r[t%l].skip;)t+=n;e%l!=t%l&&(d.push({start:e%l,end:t%l,loop:i,style:s}),c=s,h=t%l)}}for(let e of t){let t,n=r[(h=o?h:e.start)%l];for(u=h+1;u<=e.end;u++){let o=r[u%l];(function(e,t){if(!t)return!1;let r=[],i=function(e,t){return eq(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)})(t=t4(i.setContext(tx(s,{type:"segment",p0:n,p1:o,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a}))),c)&&f(h,u-1,e.loop,c),n=o,c=t}h<u-1&&f(h,u-1,e.loop,c)}return d}(e,t,r,i):t}function t4(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function t3(e,t,r){return e.options.clip?e[r]:t[r]}function t8(e,t){let r=t._clip;if(r.disabled)return!1;let i=function(e,t){let{xScale:r,yScale:i}=e;return r&&i?{left:t3(r,t,"left"),right:t3(r,t,"right"),top:t3(i,t,"top"),bottom:t3(i,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:i.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:i.right+(!0===r.right?0:r.right),top:!1===r.top?0:i.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:i.bottom+(!0===r.bottom?0:r.bottom)}}class t6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let s=t.listeners[i],n=t.duration;s.forEach(i=>i({chart:e,initial:t.initial,numSteps:n,currentStep:Math.min(r-t.start,n)}))}_refresh(){this._request||(this._running=!0,this._request=eD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{let s;if(!r.running||!r.items.length)return;let n=r.items,a=n.length-1,o=!1;for(;a>=0;--a)(s=n[a])._active?(s._total>r.duration&&(r.duration=s._total),s.tick(e),o=!0):(n[a]=n[n.length-1],n.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),n.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=n.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!!t&&!!t.running&&!!t.items.length}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var t7=new t6;let t9="transparent",re={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){let i=eX(e||t9),s=i.valid&&eX(t||t9);return s&&s.valid?s.mix(i,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class rt{constructor(e,t,r,i){let s=t[r];i=tb([e.to,i,s,e.from]);let n=tb([e.from,s,i]);this._active=!0,this._fn=e.fn||re[e.type||typeof n],this._easing=eV[e.easing]||eV.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=n,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],s=r-this._start,n=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(n,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=tb([e.to,t,i,e.from]),this._from=tb([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t,r=e-this._start,i=this._duration,s=this._prop,n=this._from,a=this._loop,o=this._to;if(this._active=n!==o&&(a||r<i),!this._active){this._target[s]=o,this._notify(!0);return}if(r<0){this._target[s]=n;return}t=r/i%2,t=a&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[s]=this._fn(n,o,t)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let e=0;e<r.length;e++)r[e][t]()}}class rr{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!$(e))return;let t=Object.keys(e8.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let s=e[i];if(!$(s))return;let n={};for(let e of t)n[e]=s[e];(F(s.properties)&&s.properties||[i]).forEach(e=>{e!==i&&r.has(e)||r.set(e,n)})})}_animateOptions(e,t){let r=t.options,i=function(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}(e,r);if(!i)return[];let s=this._createAnimations(i,r);return r.$shared&&(function(e,t){let r=[],i=Object.keys(t);for(let t=0;t<i.length;t++){let s=e[i[t]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)})(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){let r,i=this._properties,s=[],n=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();for(r=a.length-1;r>=0;--r){let l=a[r];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(e,t));continue}let d=t[l],c=n[l],h=i.get(l);if(c)if(h&&c.active()){c.update(h,d,o);continue}else c.cancel();if(!h||!h.duration){e[l]=d;continue}n[l]=c=new rt(h,e,l,d),s.push(c)}return s}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);let r=this._createAnimations(e,t);if(r.length)return t7.add(this._chart,r),!0}}function ri(e,t){let r=e&&e.options||{},i=r.reverse,s=void 0===r.min?t:0,n=void 0===r.max?t:0;return{start:i?n:s,end:i?s:n}}function rs(e,t){let r,i,s=[],n=e._getSortedDatasetMetas(t);for(r=0,i=n.length;r<i;++r)s.push(n[r].index);return s}function rn(e,t,r,i={}){let s,n,a,o,l=e.keys,d="single"===i.mode;if(null===t)return;let c=!1;for(s=0,n=l.length;s<n;++s){if((a=+l[s])===r){if(c=!0,i.all)continue;break}B(o=e.values[a])&&(d||0===t||eg(t)===eg(o))&&(t+=o)}return c||i.all?t:0}function ra(e,t){let r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function ro(e,t,r,i){for(let s of t.getMatchingVisibleMetas(i).reverse()){let t=e[s.index];if(r&&t>0||!r&&t<0)return s.index}return null}function rl(e,t){let r,{chart:i,_cachedMeta:s}=e,n=i._stacks||(i._stacks={}),{iScale:a,vScale:o,index:l}=s,d=a.axis,c=o.axis,h=`${a.id}.${o.id}.${s.stack||s.type}`,u=t.length;for(let e=0;e<u;++e){let i=t[e],{[d]:a,[c]:u}=i;(r=(i._stacks||(i._stacks={}))[c]=function(e,t,r){let i=e[t]||(e[t]={});return i[r]||(i[r]={})}(n,h,a))[l]=u,r._top=ro(r,o,!0,s.type),r._bottom=ro(r,o,!1,s.type),(r._visualValues||(r._visualValues={}))[l]=u}}function rd(e,t){let r=e.scales;return Object.keys(r).filter(e=>r[e].axis===t).shift()}function rc(e,t){let r=e.controller.index,i=e.vScale&&e.vScale.axis;if(i)for(let s of t=t||e._parsed){let e=s._stacks;if(!e||void 0===e[i]||void 0===e[i][r])return;delete e[i][r],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[r]&&delete e[i]._visualValues[r]}}let rh=e=>"reset"===e||"none"===e,ru=(e,t)=>t?e:Object.assign({},e),rf=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:rs(r,!0),values:null};class rp{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ra(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&rc(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(e,t,r,i)=>"x"===e?t:"r"===e?i:r,s=t.xAxisID=U(r.xAxisID,rd(e,"x")),n=t.yAxisID=U(r.yAxisID,rd(e,"y")),a=t.rAxisID=U(r.rAxisID,rd(e,"r")),o=t.indexAxis,l=t.iAxisID=i(o,s,n,a),d=t.vAxisID=i(o,n,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(n),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&eT(this._data,this),e._stacked&&rc(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if($(t)){let e=this._cachedMeta;this._data=function(e,t){let r,i,s,{iScale:n,vScale:a}=t,o="x"===n.axis?"x":"y",l="x"===a.axis?"x":"y",d=Object.keys(e),c=Array(d.length);for(r=0,i=d.length;r<i;++r)s=d[r],c[r]={[o]:s,[l]:e[s]};return c}(t,e)}else if(r!==t){if(r){eT(r,this);let e=this._cachedMeta;rc(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){if(e._chartjs)return e._chartjs.listeners.push(t);Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),eN.forEach(t=>{let r="_onData"+er(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){let s=i.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[r]&&e[r](...t)}),s}})})}(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,r=this.getDataset(),i=!1;this._dataCheck();let s=t._stacked;t._stacked=ra(t.vScale,t),t.stack!==r.stack&&(i=!0,rc(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(rl(this,t._parsed),t._stacked=ra(t.vScale,t))}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let r,i,s,{_cachedMeta:n,_data:a}=this,{iScale:o,_stacked:l}=n,d=o.axis,c=0===e&&t===a.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,s=a;else{s=F(a[e])?this.parseArrayData(n,a,e,t):$(a[e])?this.parseObjectData(n,a,e,t):this.parsePrimitiveData(n,a,e,t);let o=()=>null===i[d]||h&&i[d]<h[d];for(r=0;r<t;++r)n._parsed[r+e]=i=s[r],c&&(o()&&(c=!1),h=i);n._sorted=c}l&&rl(this,s)}parsePrimitiveData(e,t,r,i){let s,n,{iScale:a,vScale:o}=e,l=a.axis,d=o.axis,c=a.getLabels(),h=a===o,u=Array(i);for(s=0;s<i;++s)n=s+r,u[s]={[l]:h||a.parse(c[n],n),[d]:o.parse(t[n],n)};return u}parseArrayData(e,t,r,i){let s,n,a,{xScale:o,yScale:l}=e,d=Array(i);for(s=0;s<i;++s)a=t[n=s+r],d[s]={x:o.parse(a[0],n),y:l.parse(a[1],n)};return d}parseObjectData(e,t,r,i){let s,n,a,{xScale:o,yScale:l}=e,{xAxisKey:d="x",yAxisKey:c="y"}=this._parsing,h=Array(i);for(s=0;s<i;++s)a=t[n=s+r],h[s]={x:o.parse(et(a,d),n),y:l.parse(et(a,c),n)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){let i=this.chart,s=this._cachedMeta,n=t[e.axis];return rn({keys:rs(i,!0),values:t._stacks[e.axis]._visualValues},n,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){let s=r[t.axis],n=null===s?NaN:s,a=i&&r._stacks[t.axis];i&&a&&(i.values=a,n=rn(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,n),e.max=Math.max(e.max,n)}getMinMax(e,t){let r,i,s=this._cachedMeta,n=s._parsed,a=s._sorted&&e===s.iScale,o=n.length,l=this._getOtherScale(e),d=rf(t,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=function(e){let{min:t,max:r,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}(l);function f(){let t=(i=n[r])[l.axis];return!B(i[e.axis])||h>t||u<t}for(r=0;r<o&&(f()||(this.updateRangeFromParsed(c,e,i,d),!a));++r);if(a){for(r=o-1;r>=0;--r)if(!f()){this.updateRangeFromParsed(c,e,i,d);break}}return c}getAllParsedValues(e){let t,r,i,s=this._cachedMeta._parsed,n=[];for(t=0,r=s.length;t<r;++t)B(i=s[t][e.axis])&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){var t;let r,i,s,n,a=this._cachedMeta;this.update(e||"default"),$(t=U(this.options.clip,function(e,t,r){if(!1===r)return!1;let i=ri(e,r),s=ri(t,r);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(a.xScale,a.yScale,this.getMaxOverflow())))?(r=t.top,i=t.right,s=t.bottom,n=t.left):r=i=s=n=t,a._clip={top:r,right:i,bottom:s,left:n,disabled:!1===t}}update(e){}draw(){let e,t=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],n=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,d=this.options.drawActiveElementsOnTop;for(i.dataset&&i.dataset.draw(t,n,o,l),e=o;e<o+l;++e){let r=s[e];r.hidden||(r.active&&d?a.push(r):r.draw(t,n))}for(e=0;e<a.length;++e)a[e].draw(t,n)}getStyle(e,t){let r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){var i,s;let n,a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(n=t.$context||(i=this.getContext(),t.$context=tx(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),n.raw=a.data[e],n.index=n.dataIndex=e}else(n=this.$context||(this.$context=tx(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:s=this.index,index:s,mode:"default",type:"dataset"}))).dataset=a,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=r,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){let i="active"===t,s=this._cachedDataOpts,n=e+"-"+t,a=s[n],o=this.enableOptionSharing&&ei(r);if(a)return ru(a,o);let l=this.chart.config,d=l.datasetElementScopeKeys(this._type,e),c=i?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),d),u=Object.keys(e8.elements[e]),f=l.resolveNamedOptions(h,u,()=>this.getContext(r,i,t),c);return f.$shared&&(f.$shared=o,s[n]=Object.freeze(ru(f,o))),f}_resolveAnimations(e,t,r){let i,s=this.chart,n=this._cachedDataOpts,a=`animation-${t}`,o=n[a];if(o)return o;if(!1!==s.options.animation){let s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,t),a=s.getOptionScopes(this.getDataset(),n);i=s.createResolver(a,this.getContext(e,r,t))}let l=new rr(s,i&&i.animations);return i&&i._cacheable&&(n[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||rh(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),n=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:n}}updateElement(e,t,r,i){rh(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!rh(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;let s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,r=this._cachedMeta.data;for(let[e,t,r]of this._syncList)this[e](t,r);this._syncList=[];let i=r.length,s=t.length,n=Math.min(s,i);n&&this.parse(0,n),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){let i,s=this._cachedMeta,n=s.data,a=e+t,o=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(o(n),i=e;i<a;++i)n[i]=new this.dataElementType;this._parsing&&o(s._parsed),this.parse(e,t),r&&this.updateElements(n,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){let r=this._cachedMeta;if(this._parsing){let i=r._parsed.splice(e,t);r._stacked&&rc(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function rg(e,t,r,i){return F(e)?!function(e,t,r,i){let s=r.parse(e[0],i),n=r.parse(e[1],i),a=Math.min(s,n),o=Math.max(s,n),l=a,d=o;Math.abs(a)>Math.abs(o)&&(l=o,d=a),t[r.axis]=d,t._custom={barStart:l,barEnd:d,start:s,end:n,min:a,max:o}}(e,t,r,i):t[r.axis]=r.parse(e,i),t}function rm(e,t,r,i){let s,n,a,o,l=e.iScale,d=e.vScale,c=l.getLabels(),h=l===d,u=[];for(s=r,n=r+i;s<n;++s)o=t[s],(a={})[l.axis]=h||l.parse(c[s],s),u.push(rg(o,a,d,s));return u}function rb(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function rx(e,t,r,i){var s,n,a;return e=i?ry((s=e,n=t,a=r,e=s===n?a:s===a?n:s),r,t):ry(e,t,r)}function ry(e,t,r){return"start"===e?t:"end"===e?r:e}class r_ extends rp{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,i){return rm(e,t,r,i)}parseArrayData(e,t,r,i){return rm(e,t,r,i)}parseObjectData(e,t,r,i){let s,n,a,o,{iScale:l,vScale:d}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,u="x"===l.axis?c:h,f="x"===d.axis?c:h,p=[];for(s=r,n=r+i;s<n;++s)o=t[s],(a={})[l.axis]=l.parse(et(o,u),s),p.push(rg(et(o,f),a,d,s));return p}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);let s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let{iScale:t,vScale:r}=this._cachedMeta,i=this.getParsed(e),s=i._custom,n=rb(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+t.getLabelForValue(i[t.axis]),value:n}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){let s="reset"===i,{index:n,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),d=this._getRuler(),{sharedOptions:c,includeOptions:h}=this._getSharedOptions(t,i);for(let u=t;u<t+r;u++){let t=this.getParsed(u),r=s||L(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(u),f=this._calculateBarIndexPixels(u,d),p=(t._stacks||{})[a.axis],g={horizontal:l,base:r.base,enableBorderRadius:!p||rb(t._custom)||n===p._top||n===p._bottom,x:l?r.head:f.center,y:l?f.center:r.head,height:l?f.size:Math.abs(r.size),width:l?Math.abs(r.size):f.size};h&&(g.options=c||this.resolveDataElementOptions(u,e[u].active?"active":i));let m=g.options||e[u].options;!function(e,t,r,i){let s,n,a,o,l,d=t.borderSkipped,c={};if(!d){e.borderSkipped=c;return}if(!0===d){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:h,end:u,reverse:f,top:p,bottom:g}=(e.horizontal?(s=e.base>e.x,n="left",a="right"):(s=e.base<e.y,n="bottom",a="top"),s?(o="end",l="start"):(o="start",l="end"),{start:n,end:a,reverse:s,top:o,bottom:l});"middle"===d&&r&&(e.enableBorderRadius=!0,(r._top||0)===i?d=p:(r._bottom||0)===i?d=g:(c[rx(g,h,u,f)]=!0,d=p)),c[rx(d,h,u,f)]=!0,e.borderSkipped=c}(g,m,p,n),function(e,{inflateAmount:t},r){e.inflateAmount="auto"===t?.33*(1===r):t}(g,m,d.ratio),this.updateElement(e[u],u,g,i)}}_getStacks(e,t){let{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=r.options.stacked,n=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[r.axis],l=e=>{let t=e._parsed.find(e=>e[r.axis]===o),i=t&&t[e.vScale.axis];if(L(i)||isNaN(i))return!0};for(let r of i)if(!(void 0!==t&&l(r))&&((!1===s||-1===n.indexOf(r.stack)||void 0===s&&void 0===r.stack)&&n.push(r.stack),r.index===e))break;return n.length||n.push(void 0),n}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){let e={},t=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)e[U("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){let i=this._getStacks(e,r),s=void 0!==t?i.indexOf(t):-1;return -1===s?i.length-1:s}_getRuler(){let e,t,r=this.options,i=this._cachedMeta,s=i.iScale,n=[];for(e=0,t=i.data.length;e<t;++e)n.push(s.getPixelForValue(this.getParsed(e)[s.axis],e));let a=r.barThickness;return{min:a||function(e){let t,r,i,s,n=e.iScale,a=function(e,t){if(!e._cache.$bar){let r=e.getMatchingVisibleMetas(t),i=[];for(let t=0,s=r.length;t<s;t++)i=i.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=eC(i.sort((e,t)=>e-t))}return e._cache.$bar}(n,e.type),o=n._length,l=()=>{32767!==i&&-32768!==i&&(ei(s)&&(o=Math.min(o,Math.abs(i-s)||o)),s=i)};for(t=0,r=a.length;t<r;++t)i=n.getPixelForValue(a[t]),l();for(t=0,s=void 0,r=n.ticks.length;t<r;++t)i=n.getPixelForTick(t),l();return o}(i),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:r.grouped,ratio:a?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(e){let t,r,{_cachedMeta:{vScale:i,_stacked:s,index:n},options:{base:a,minBarLength:o}}=this,l=a||0,d=this.getParsed(e),c=d._custom,h=rb(c),u=d[i.axis],f=0,p=s?this.applyStack(i,d,s):u;p!==u&&(f=p-u,p=u),h&&(u=c.barStart,p=c.barEnd-c.barStart,0!==u&&eg(u)!==eg(c.barEnd)&&(f=0),f+=u);let g=L(a)||h?f:a,m=i.getPixelForValue(g);if(Math.abs(r=(t=this.chart.getDataVisibility(e)?i.getPixelForValue(f+p):m)-m)<o){var b;r=(0!==(b=r)?eg(b):(i.isHorizontal()?1:-1)*(i.min>=l?1:-1))*o,u===l&&(m-=r/2);let e=i.getPixelForDecimal(0),a=i.getPixelForDecimal(1),c=Math.min(e,a);t=(m=Math.max(Math.min(m,Math.max(e,a)),c))+r,s&&!h&&(d._stacks[i.axis]._visualValues[n]=i.getValueForPixel(t)-i.getValueForPixel(m))}if(m===i.getPixelForValue(l)){let e=eg(r)*i.getLineWidthForValue(l)/2;m+=e,r-=e}return{size:r,base:m,head:t,center:t+r/2}}_calculateBarIndexPixels(e,t){let r,i,s=t.scale,n=this.options,a=n.skipNull,o=U(n.maxBarThickness,1/0),l=this._getAxisCount();if(t.grouped){let s=a?this._getStackCount(e):t.stackCount,d="flex"===n.barThickness?function(e,t,r,i){let s=t.pixels,n=s[e],a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null,l=r.categoryPercentage;null===a&&(a=n-(null===o?t.end-t.start:o-n)),null===o&&(o=n+n-a);let d=n-(n-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/i,ratio:r.barPercentage,start:d}}(e,t,n,s*l):function(e,t,r,i){let s,n,a=r.barThickness;return L(a)?(s=t.min*r.categoryPercentage,n=r.barPercentage):(s=a*i,n=1),{chunk:s/i,ratio:n,start:t.pixels[e]-s/2}}(e,t,n,s*l),c="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(U(c,this.getFirstScaleIdForIndexAxis())),u=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+h;r=d.start+d.chunk*u+d.chunk/2,i=Math.min(o,d.chunk*d.ratio)}else r=s.getPixelForValue(this.getParsed(e)[s.axis],e),i=Math.min(o,t.min*t.ratio);return{base:r-i/2,head:r+i/2,center:r,size:i}}draw(){let e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length,s=0;for(;s<i;++s)null===this.getParsed(s)[t.axis]||r[s].hidden||r[s].draw(this._ctx)}}class rv extends rp{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){let s=super.parsePrimitiveData(e,t,r,i);for(let e=0;e<s.length;e++)s[e]._custom=this.resolveDataElementOptions(e+r).radius;return s}parseArrayData(e,t,r,i){let s=super.parseArrayData(e,t,r,i);for(let e=0;e<s.length;e++){let i=t[r+e];s[e]._custom=U(i[2],this.resolveDataElementOptions(e+r).radius)}return s}parseObjectData(e,t,r,i){let s=super.parseObjectData(e,t,r,i);for(let e=0;e<s.length;e++){let i=t[r+e];s[e]._custom=U(i&&i.r&&+i.r,this.resolveDataElementOptions(e+r).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,n=this.getParsed(e),a=i.getLabelForValue(n.x),o=s.getLabelForValue(n.y),l=n._custom;return{label:r[e]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){let s="reset"===i,{iScale:n,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,i),d=n.axis,c=a.axis;for(let h=t;h<t+r;h++){let t=e[h],r=!s&&this.getParsed(h),u={},f=u[d]=s?n.getPixelForDecimal(.5):n.getPixelForValue(r[d]),p=u[c]=s?a.getBasePixel():a.getPixelForValue(r[c]);u.skip=isNaN(f)||isNaN(p),l&&(u.options=o||this.resolveDataElementOptions(h,t.active?"active":i),s&&(u.options.radius=0)),this.updateElement(t,h,u,i)}}resolveDataElementOptions(e,t){let r=this.getParsed(e),i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));let s=i.radius;return"active"!==t&&(i.radius=0),i.radius+=U(r&&r._custom,s),i}}class rw extends rp{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((t,s)=>{let n=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:i,lineWidth:n.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let r=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=r;else{let s,n,a=e=>+r[e];if($(r[e])){let{key:e="value"}=this._parsing;a=t=>+et(r[t],e)}for(s=e,n=e+t;s<n;++s)i._parsed[s]=a(s)}}_getRotation(){return e_(this.options.rotation-90)}_getCircumference(){return e_(this.options.circumference)}_getRotationExtents(){let e=eo,t=-eo;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),n=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+n)}return{rotation:e,circumference:t-e}}update(e){let{chartArea:t}=this.chart,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,n=Math.max((Math.min(t.width,t.height)-s)/2,0),a=Math.min(H(this.options.cutout,n),1),o=this._getRingWeight(this.index),{circumference:l,rotation:d}=this._getRotationExtents(),{ratioX:c,ratioY:h,offsetX:u,offsetY:f}=function(e,t,r){let i=1,s=1,n=0,a=0;if(t<eo){let o=e+t,l=Math.cos(e),d=Math.sin(e),c=Math.cos(o),h=Math.sin(o),u=(t,i,s)=>eR(t,e,o,!0)?1:Math.max(i,i*r,s,s*r),f=(t,i,s)=>eR(t,e,o,!0)?-1:Math.min(i,i*r,s,s*r),p=u(0,l,c),g=u(eh,d,h),m=f(ea,l,c),b=f(ea+eh,d,h);i=(p-m)/2,s=(g-b)/2,n=-(p+m)/2,a=-(g+b)/2}return{ratioX:i,ratioY:s,offsetX:n,offsetY:a}}(d,l,a),p=Math.max(Math.min((t.width-s)/c,(t.height-s)/h)/2,0),g=W(this.options.radius,p),m=Math.max(g*a,0),b=(g-m)/this._getVisibleDatasetWeightTotal();this.offsetX=u*g,this.offsetY=f*g,r.total=this.calculateTotal(),this.outerRadius=g-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*o,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){let r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/eo)}updateElements(e,t,r,i){let s,n="reset"===i,a=this.chart,o=a.chartArea,l=a.options.animation,d=(o.left+o.right)/2,c=(o.top+o.bottom)/2,h=n&&l.animateScale,u=h?0:this.innerRadius,f=h?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,i),m=this._getRotation();for(s=0;s<t;++s)m+=this._circumference(s,n);for(s=t;s<t+r;++s){let t=this._circumference(s,n),r=e[s],a={x:d+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:f,innerRadius:u};g&&(a.options=p||this.resolveDataElementOptions(s,r.active?"active":i)),m+=t,this.updateElement(r,s,a,i)}}calculateTotal(){let e,t=this._cachedMeta,r=t.data,i=0;for(e=0;e<r.length;e++){let s=t._parsed[e];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(e)&&!r[e].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Math.abs(e)/t*eo:0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=eQ(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t,r,i,s,n,a=0,o=this.chart;if(!e){for(t=0,r=o.data.datasets.length;t<r;++t)if(o.isDatasetVisible(t)){e=(i=o.getDatasetMeta(t)).data,s=i.controller;break}}if(!e)return 0;for(t=0,r=e.length;t<r;++t)"inner"!==(n=s.resolveDataElementOptions(t)).borderAlign&&(a=Math.max(a,n.borderWidth||0,n.hoverBorderWidth||0));return a}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){let e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(U(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class rk extends rp{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,n=this.chart._animationsDisabled,{start:a,count:o}=eB(t,i,n);this._drawStart=a,this._drawCount=o,ez(t)&&(a=0,o=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:l},e),this.updateElements(i,a,o,e)}updateElements(e,t,r,i){let s="reset"===i,{iScale:n,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:d,includeOptions:c}=this._getSharedOptions(t,i),h=n.axis,u=a.axis,{spanGaps:f,segment:p}=this.options,g=ex(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||"none"===i,b=t+r,x=e.length,y=t>0&&this.getParsed(t-1);for(let r=0;r<x;++r){let f=e[r],x=m?f:{};if(r<t||r>=b){x.skip=!0;continue}let _=this.getParsed(r),v=L(_[u]),w=x[h]=n.getPixelForValue(_[h],r),k=x[u]=s||v?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,_,o):_[u],r);x.skip=isNaN(w)||isNaN(k)||v,x.stop=r>0&&Math.abs(_[h]-y[h])>g,p&&(x.parsed=_,x.raw=l.data[r]),c&&(x.options=d||this.resolveDataElementOptions(r,f.active?"active":i)),m||this.updateElement(f,r,x,i),y=_}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];return i.length?Math.max(r,i[0].size(this.resolveDataElementOptions(0)),i[i.length-1].size(this.resolveDataElementOptions(i.length-1)))/2:r}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class rS extends rp{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((t,s)=>{let n=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:i,lineWidth:n.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=eQ(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return tj.bind(this)(e,t,r,i)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,r)=>{let i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,r=e.options,i=Math.max(Math.min(t.right-t.left,t.bottom-t.top)/2,0),s=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),n=(i-s)/e.getVisibleDatasetCount();this.outerRadius=i-n*this.index,this.innerRadius=this.outerRadius-n}updateElements(e,t,r,i){let s,n="reset"===i,a=this.chart,o=a.options.animation,l=this._cachedMeta.rScale,d=l.xCenter,c=l.yCenter,h=l.getIndexAngle(0)-.5*ea,u=h,f=360/this.countVisibleElements();for(s=0;s<t;++s)u+=this._computeAngle(s,i,f);for(s=t;s<t+r;s++){let t=e[s],r=u,p=u+this._computeAngle(s,i,f),g=a.getDataVisibility(s)?l.getDistanceFromCenterForValue(this.getParsed(s).r):0;u=p,n&&(o.animateScale&&(g=0),o.animateRotate&&(r=p=h));let m={x:d,y:c,innerRadius:0,outerRadius:g,startAngle:r,endAngle:p,options:this.resolveDataElementOptions(s,t.active?"active":i)};this.updateElement(t,s,m,i)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?e_(this.resolveDataElementOptions(e,t).angle||r):0}}class rE extends rw{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class rR extends rp{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return tj.bind(this)(e,t,r,i)}update(e){let t=this._cachedMeta,r=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(r.points=i,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);let n={_loop:!0,_fullLoop:s.length===i.length,options:t};this.updateElement(r,void 0,n,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){let s=this._cachedMeta.rScale,n="reset"===i;for(let a=t;a<t+r;a++){let t=e[a],r=this.resolveDataElementOptions(a,t.active?"active":i),o=s.getPointPositionForValue(a,this.getParsed(a).r),l=n?s.xCenter:o.x,d=n?s.yCenter:o.y,c={x:l,y:d,angle:o.angle,skip:isNaN(l)||isNaN(d),options:r};this.updateElement(t,a,c,i)}}}class rA extends rp{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,n=this.getParsed(e),a=i.getLabelForValue(n.x),o=s.getLabelForValue(n.y);return{label:r[e]||"",value:"("+a+", "+o+")"}}update(e){let t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled,{start:s,count:n}=eB(t,r,i);if(this._drawStart=s,this._drawCount=n,ez(t)&&(s=0,n=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:s,_dataset:n}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!n._decimated,s.points=r;let a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,s,n,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){let s="reset"===i,{iScale:n,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,d=this.resolveDataElementOptions(t,i),c=this.getSharedOptions(d),h=this.includeOptions(i,c),u=n.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,m=ex(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||"none"===i,x=t>0&&this.getParsed(t-1);for(let d=t;d<t+r;++d){let t=e[d],r=this.getParsed(d),p=b?t:{},y=L(r[f]),_=p[u]=n.getPixelForValue(r[u],d),v=p[f]=s||y?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,r,o):r[f],d);p.skip=isNaN(_)||isNaN(v)||y,p.stop=d>0&&Math.abs(r[u]-x[u])>m,g&&(p.parsed=r,p.raw=l.data[d]),h&&(p.options=c||this.resolveDataElementOptions(d,t.active?"active":i)),b||this.updateElement(t,d,p,i),x=r}this.updateSharedOptions(c,i,d)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}let r=e.dataset,i=r.options&&r.options.borderWidth||0;return t.length?Math.max(i,t[0].size(this.resolveDataElementOptions(0)),t[t.length-1].size(this.resolveDataElementOptions(t.length-1)))/2:i}}function rO(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class rP{static override(e){Object.assign(rP.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return rO()}parse(){return rO()}format(){return rO()}add(){return rO()}diff(){return rO()}startOf(){return rO()}endOf(){return rO()}}var rj={_date:rP};function rM(e,t,r,i,s){let n=e.getSortedVisibleDatasetMetas(),a=r[t];for(let e=0,r=n.length;e<r;++e){let{index:r,data:o}=n[e],{lo:l,hi:d}=function(e,t,r,i){let{controller:s,data:n,_sorted:a}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&n.length){let a=o._reversePixels?eM:ej;if(i){if(s._sharedOptions){let e=n[0],i="function"==typeof e.getRange&&e.getRange(t);if(i){let e=a(n,t,r-i),s=a(n,t,r+i);return{lo:e.lo,hi:s.hi}}}}else{let i=a(n,t,r);if(l){let{vScale:t}=s._cachedMeta,{_parsed:r}=e,n=r.slice(0,i.lo+1).reverse().findIndex(e=>!L(e[t.axis]));i.lo-=Math.max(0,n);let a=r.slice(i.hi).findIndex(e=>!L(e[t.axis]));i.hi+=Math.max(0,a)}return i}}return{lo:0,hi:n.length-1}}(n[e],t,a,s);for(let e=l;e<=d;++e){let t=o[e];t.skip||i(t,r,e)}}}function rN(e,t,r,i,s){let n=[];return(s||e.isPointInArea(t))&&rM(e,r,t,function(r,a,o){(s||tr(r,e.chartArea,0))&&r.inRange(t.x,t.y,i)&&n.push({element:r,datasetIndex:a,index:o})},!0),n}function rT(e,t,r,i,s,n){let a;return n||e.isPointInArea(t)?"r"!==r||i?function(e,t,r,i,s,n){let a=[],o=function(e){let t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,i){return Math.sqrt(Math.pow(t?Math.abs(e.x-i.x):0,2)+Math.pow(r?Math.abs(e.y-i.y):0,2))}}(r),l=Number.POSITIVE_INFINITY;return rM(e,r,t,function(r,d,c){let h=r.inRange(t.x,t.y,s);if(i&&!h)return;let u=r.getCenterPoint(s);if(!(n||e.isPointInArea(u))&&!h)return;let f=o(t,u);f<l?(a=[{element:r,datasetIndex:d,index:c}],l=f):f===l&&a.push({element:r,datasetIndex:d,index:c})}),a}(e,t,r,i,s,n):(a=[],rM(e,r,t,function(e,r,i){let{startAngle:n,endAngle:o}=e.getProps(["startAngle","endAngle"],s),{angle:l}=ew(e,{x:t.x,y:t.y});eR(l,n,o)&&a.push({element:e,datasetIndex:r,index:i})}),a):[]}function rC(e,t,r,i,s){let n=[],a="x"===r?"inXRange":"inYRange",o=!1;return(rM(e,r,t,(e,i,l)=>{e[a]&&e[a](t[r],s)&&(n.push({element:e,datasetIndex:i,index:l}),o=o||e.inRange(t.x,t.y,s))}),i&&!o)?[]:n}var rD={modes:{index(e,t,r,i){let s=tU(t,e),n=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?rN(e,s,n,i,a):rT(e,s,n,!1,i,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{let t=o[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,r,i){let s=tU(t,e),n=r.axis||"xy",a=r.includeInvisible||!1,o=r.intersect?rN(e,s,n,i,a):rT(e,s,n,!1,i,a);if(o.length>0){let t=o[0].datasetIndex,r=e.getDatasetMeta(t).data;o=[];for(let e=0;e<r.length;++e)o.push({element:r[e],datasetIndex:t,index:e})}return o},point(e,t,r,i){let s=tU(t,e);return rN(e,s,r.axis||"xy",i,r.includeInvisible||!1)},nearest(e,t,r,i){let s=tU(t,e),n=r.axis||"xy",a=r.includeInvisible||!1;return rT(e,s,n,r.intersect,i,a)},x(e,t,r,i){let s=tU(t,e);return rC(e,s,"x",r.intersect,i)},y(e,t,r,i){let s=tU(t,e);return rC(e,s,"y",r.intersect,i)}}};let rI=["left","top","right","bottom"];function rL(e,t){return e.filter(e=>e.pos===t)}function rF(e,t){return e.filter(e=>-1===rI.indexOf(e.pos)&&e.box.axis===t)}function r$(e,t){return e.sort((e,r)=>{let i=t?r:e,s=t?e:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function rB(e,t,r,i){return Math.max(e[r],t[r])+Math.max(e[i],t[i])}function rz(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rU(e,t,r,i){let s,n,a,o,l,d,c=[];for(s=0,n=e.length,l=0;s<n;++s){(o=(a=e[s]).box).update(a.width||t.w,a.height||t.h,function(e,t){let r=t.maxPadding;var i=e?["left","right"]:["top","bottom"];let s={left:0,top:0,right:0,bottom:0};return i.forEach(e=>{s[e]=Math.max(t[e],r[e])}),s}(a.horizontal,t));let{same:n,other:h}=function(e,t,r,i){let{pos:s,box:n}=r,a=e.maxPadding;if(!$(s)){r.size&&(e[s]-=r.size);let t=i[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?n.height:n.width),r.size=t.size/t.count,e[s]+=r.size}n.getPadding&&rz(a,n.getPadding());let o=Math.max(0,t.outerWidth-rB(a,e,"left","right")),l=Math.max(0,t.outerHeight-rB(a,e,"top","bottom")),d=o!==e.w,c=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:d,other:c}:{same:c,other:d}}(t,r,a,i);l|=n&&c.length,d=d||h,o.fullSize||c.push(a)}return l&&rU(c,t,r,i)||d}function rH(e,t,r,i,s){e.top=r,e.left=t,e.right=t+i,e.bottom=r+s,e.width=i,e.height=s}function rW(e,t,r,i){let s=r.padding,{x:n,y:a}=t;for(let o of e){let e=o.box,l=i[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/l.weight||1;if(o.horizontal){let i=t.w*d,n=l.size||e.height;ei(l.start)&&(a=l.start),e.fullSize?rH(e,s.left,a,r.outerWidth-s.right-s.left,n):rH(e,t.left+l.placed,a,i,n),l.start=a,l.placed+=i,a=e.bottom}else{let i=t.h*d,a=l.size||e.width;ei(l.start)&&(n=l.start),e.fullSize?rH(e,n,s.top,a,r.outerHeight-s.bottom-s.top):rH(e,n,t.top+l.placed,a,i),l.start=n,l.placed+=i,n=e.right}}t.x=n,t.y=a}var rV={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){let r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,i){if(!e)return;let s=tg(e.options.layout.padding),n=Math.max(t-s.width,0),a=Math.max(r-s.height,0),o=function(e){let t=function(e){let t,r,i,s,n,a,o=[];for(t=0,r=(e||[]).length;t<r;++t)i=e[t],({position:s,options:{stack:n,stackWeight:a=1}}=i),o.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:n&&s+n,stackWeight:a});return o}(e),r=r$(t.filter(e=>e.box.fullSize),!0),i=r$(rL(t,"left"),!0),s=r$(rL(t,"right")),n=r$(rL(t,"top"),!0),a=r$(rL(t,"bottom")),o=rF(t,"x"),l=rF(t,"y");return{fullSize:r,leftAndTop:i.concat(n),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:rL(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:n.concat(a).concat(o)}}(e.boxes),l=o.vertical,d=o.horizontal;q(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});let c=Object.freeze({outerWidth:t,outerHeight:r,padding:s,availableWidth:n,availableHeight:a,vBoxMaxWidth:n/2/(l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1),hBoxMaxHeight:a/2}),h=Object.assign({},s);rz(h,tg(i));let u=Object.assign({maxPadding:h,w:n,h:a,x:s.left,y:s.top},s),f=function(e,t){let r,i,s,n=function(e){let t={};for(let r of e){let{stack:e,pos:i,stackWeight:s}=r;if(!e||!rI.includes(i))continue;let n=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=s}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:o}=t;for(r=0,i=e.length;r<i;++r){let{fullSize:i}=(s=e[r]).box,l=n[s.stack],d=l&&s.stackWeight/l.weight;s.horizontal?(s.width=d?d*a:i&&t.availableWidth,s.height=o):(s.width=a,s.height=d?d*o:i&&t.availableHeight)}return n}(l.concat(d),c);rU(o.fullSize,u,c,f),rU(l,u,c,f),rU(d,u,c,f)&&rU(l,u,c,f);let p=u.maxPadding;function g(e){let t=Math.max(p[e]-u[e],0);return u[e]+=t,t}u.y+=g("top"),u.x+=g("left"),g("right"),g("bottom"),rW(o.leftAndTop,u,c,f),u.x+=u.w,u.y+=u.h,rW(o.rightAndBottom,u,c,f),e.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h,height:u.h,width:u.w},q(o.chartArea,t=>{let r=t.box;Object.assign(r,e.chartArea),r.update(u.w,u.h,{left:0,top:0,right:0,bottom:0})})}};class rq{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class rX extends rq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}let rK="$chartjs",rG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rY=e=>null===e||""===e,rJ=!!tV&&{passive:!0};function rQ(e,t){for(let r of e)if(r===t||r.contains(t))return!0}function rZ(e,t,r){let i=e.canvas,s=new MutationObserver(e=>{let t=!1;for(let r of e)t=(t=t||rQ(r.addedNodes,i))&&!rQ(r.removedNodes,i);t&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function r0(e,t,r){let i=e.canvas,s=new MutationObserver(e=>{let t=!1;for(let r of e)t=(t=t||rQ(r.removedNodes,i))&&!rQ(r.addedNodes,i);t&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}let r1=new Map,r2=0;function r5(){let e=window.devicePixelRatio;e!==r2&&(r2=e,r1.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function r4(e,t,r){let i=e.canvas,s=i&&tI(i);if(!s)return;let n=eI((e,t)=>{let i=s.clientWidth;r(e,t),i<s.clientWidth&&r()},window),a=new ResizeObserver(e=>{let t=e[0],r=t.contentRect.width,i=t.contentRect.height;(0!==r||0!==i)&&n(r,i)});return a.observe(s),r1.size||window.addEventListener("resize",r5),r1.set(e,n),a}function r3(e,t,r){r&&r.disconnect(),"resize"===t&&(r1.delete(e),r1.size||window.removeEventListener("resize",r5))}function r8(e,t,r){let i=e.canvas,s=eI(t=>{null!==e.ctx&&r(function(e,t){let r=rG[e.type]||e.type,{x:i,y:s}=tU(e,t);return{type:r,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==s?s:null}}(t,e))},e);return i&&i.addEventListener(t,s,rJ),s}class r6 extends rq{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(!function(e,t){let r=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[rK]={initial:{height:i,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",rY(s)){let t=tq(e,"width");void 0!==t&&(e.width=t)}if(rY(i))if(""===e.style.height)e.height=e.width/(t||2);else{let t=tq(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[rK])return!1;let r=t[rK].initial;["height","width"].forEach(e=>{let i=r[e];L(i)?t.removeAttribute(e):t.setAttribute(e,i)});let i=r.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[rK],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),s={attach:rZ,detach:r0,resize:r4}[t]||r8;i[t]=s(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];i&&((({attach:r3,detach:r3,resize:r3})[t]||function(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,rJ)})(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function(e,t,r,i){let s=tF(e),n=tB(s,"margin"),a=tL(s.maxWidth,e,"clientWidth")||ed,o=tL(s.maxHeight,e,"clientHeight")||ed,l=function(e,t,r){let i,s;if(void 0===t||void 0===r){let n=e&&tI(e);if(n){let e=n.getBoundingClientRect(),a=tF(n),o=tB(a,"border","width"),l=tB(a,"padding");t=e.width-l.width-o.width,r=e.height-l.height-o.height,i=tL(a.maxWidth,n,"clientWidth"),s=tL(a.maxHeight,n,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:i||ed,maxHeight:s||ed}}(e,t,r),{width:d,height:c}=l;if("content-box"===s.boxSizing){let e=tB(s,"border","width"),t=tB(s,"padding");d-=t.width+e.width,c-=t.height+e.height}return d=Math.max(0,d-n.width),c=Math.max(0,i?d/i:c-n.height),d=tH(Math.min(d,a,l.maxWidth)),c=tH(Math.min(c,o,l.maxHeight)),d&&!c&&(c=tH(d/2)),(void 0!==t||void 0!==r)&&i&&l.height&&c>l.height&&(d=tH(Math.floor((c=l.height)*i))),{width:d,height:c}}(e,t,r,i)}isAttached(e){let t=e&&tI(e);return!!(t&&t.isConnected)}}class r7{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ex(this.x)&&ex(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(e=>{i[e]=r[e]&&r[e].active()?r[e]._to:this[e]}),i}}function r9(e,t,r,i,s){let n,a,o,l=U(i,0),d=Math.min(U(s,e.length),e.length),c=0;for(r=Math.ceil(r),s&&(r=(n=s-i)/Math.floor(n/r)),o=l;o<0;)o=Math.round(l+ ++c*r);for(a=Math.max(l,0);a<d;a++)a===o&&(t.push(e[a]),o=Math.round(l+ ++c*r))}let ie=e=>"left"===e?"right":"right"===e?"left":e,it=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,ir=(e,t)=>Math.min(t||e,e);function ii(e,t){let r=[],i=e.length/t,s=e.length,n=0;for(;n<s;n+=i)r.push(e[Math.floor(n)]);return r}function is(e){return e.drawTicks?e.tickLength:0}function ia(e,t){if(!e.display)return 0;let r=tm(e.font,t),i=tg(e.padding);return(F(e.text)?e.text.length:1)*r.lineHeight+i.height}class io extends r7{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=z(e,Number.POSITIVE_INFINITY),t=z(t,Number.NEGATIVE_INFINITY),r=z(r,Number.POSITIVE_INFINITY),i=z(i,Number.NEGATIVE_INFINITY),{min:z(e,r),max:z(t,i),minDefined:B(e),maxDefined:B(t)}}getMinMax(e){let t,{min:r,max:i,minDefined:s,maxDefined:n}=this.getUserBounds();if(s&&n)return{min:r,max:i};let a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),s||(r=Math.min(r,t.min)),n||(i=Math.max(i,t.max));return r=n&&r>i?i:r,i=s&&r>i?r:i,{min:z(r,z(i,r)),max:z(i,z(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){V(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:s,ticks:n}=this.options,a=n.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){let{min:i,max:s}=e,n=W(t,(s-i)/2),a=(e,t)=>r&&0===e?0:e+t;return{min:a(i,-Math.abs(n)),max:a(s,n)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=a<this.ticks.length;this._convertTicksToLabels(o?ii(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=function(e,t){let r=e.options.ticks,i=function(e){let t=e.options.offset,r=e._tickSize();return Math.floor(Math.min(e._length/r+ +!t,e._maxLength/r))}(e),s=Math.min(r.maxTicksLimit||i,i),n=r.major.enabled?function(e){let t,r,i=[];for(t=0,r=e.length;t<r;t++)e[t].major&&i.push(t);return i}(t):[],a=n.length,o=n[0],l=n[a-1],d=[];if(a>s)return function(e,t,r,i){let s,n=0,a=r[0];for(s=0,i=Math.ceil(i);s<e.length;s++)s===a&&(t.push(e[s]),a=r[++n*i])}(t,d,n,a/s),d;let c=function(e,t,r){let i=function(e){let t,r,i=e.length;if(i<2)return!1;for(r=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==r)return!1;return r}(e),s=t.length/r;if(!i)return Math.max(s,1);let n=function(e){let t,r=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(r.push(t),r.push(e/t));return i===(0|i)&&r.push(i),r.sort((e,t)=>e-t).pop(),r}(i);for(let e=0,t=n.length-1;e<t;e++){let t=n[e];if(t>s)return t}return Math.max(s,1)}(n,t,s);if(a>0){let e,r,i=a>1?Math.round((l-o)/(a-1)):null;for(r9(t,d,c,L(i)?0:o-i,o),e=0,r=a-1;e<r;e++)r9(t,d,c,n[e],n[e+1]);return r9(t,d,c,l,L(i)?t.length:l+i),d}return r9(t,d,c),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){V(this.options.afterUpdate,[this])}beforeSetDimensions(){V(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){V(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),V(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){V(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t,r,i,s=this.options.ticks;for(t=0,r=e.length;t<r;t++)(i=e[t]).label=V(s.callback,[i.value,t,e],this)}afterTickToLabelConversion(){V(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){V(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e,t,r,i=this.options,s=i.ticks,n=ir(this.ticks.length,i.ticks.maxTicksLimit),a=s.minRotation||0,o=s.maxRotation,l=a;if(!this._isVisible()||!s.display||a>=o||n<=1||!this.isHorizontal()){this.labelRotation=a;return}let d=this._getLabelSizes(),c=d.widest.width,h=d.highest.height,u=eA(this.chart.width-c,0,this.maxWidth);c+6>(e=i.offset?this.maxWidth/n:u/(n-1))&&(e=u/(n-(i.offset?.5:1)),t=this.maxHeight-is(i.grid)-s.padding-ia(i.title,this.chart.options.font),r=Math.sqrt(c*c+h*h),l=Math.max(a,Math.min(o,l=180/ea*Math.min(Math.asin(eA((d.highest.height+6)/e,-1,1)),Math.asin(eA(t/r,-1,1))-Math.asin(eA(h/r,-1,1)))))),this.labelRotation=l}afterCalculateLabelRotation(){V(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){V(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,n=this._isVisible(),a=this.isHorizontal();if(n){let n=ia(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=is(s)+n):(e.height=this.maxHeight,e.width=is(s)+n),r.display&&this.ticks.length){let{first:t,last:i,widest:s,highest:n}=this._getLabelSizes(),o=2*r.padding,l=e_(this.labelRotation),d=Math.cos(l),c=Math.sin(l);if(a){let t=r.mirror?0:c*s.width+d*n.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{let t=r.mirror?0:d*s.width+c*n.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,i,c,d)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:s,padding:n},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){let a=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),c=0,h=0;o?l?(c=i*e.width,h=r*t.height):(c=r*e.height,h=i*t.width):"start"===s?h=t.width:"end"===s?c=e.width:"inner"!==s&&(c=e.width/2,h=t.width/2),this.paddingLeft=Math.max((c-a+n)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-d+n)*this.width/(this.width-d),0)}else{let r=t.height/2,i=e.height/2;"start"===s?(r=0,i=e.height):"end"===s&&(r=t.height,i=0),this.paddingTop=r+n,this.paddingBottom=i+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){V(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)L(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=ii(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let i,s,n,a,o,l,d,c,h,u,f,{ctx:p,_longestTextCache:g}=this,m=[],b=[],x=Math.floor(t/ir(t,r)),y=0,_=0;for(i=0;i<t;i+=x){if(a=e[i].label,p.font=l=(o=this._resolveTickFontOptions(i)).string,d=g[l]=g[l]||{data:{},gc:[]},c=o.lineHeight,h=u=0,L(a)||F(a)){if(F(a))for(s=0,n=a.length;s<n;++s)L(f=a[s])||F(f)||(h=e6(p,d.data,d.gc,h,f),u+=c)}else h=e6(p,d.data,d.gc,h,a),u=c;m.push(h),b.push(u),y=Math.max(h,y),_=Math.max(u,_)}q(g,e=>{let r,i=e.gc,s=i.length/2;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}});let v=m.indexOf(y),w=b.indexOf(_),k=e=>({width:m[e]||0,height:b[e]||0});return{first:k(0),last:k(t-1),widest:k(v),highest:k(w),widths:m,heights:b}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return eA(this._alignToPixels?e7(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){var t,r;let i=this.ticks||[];if(e>=0&&e<i.length){let r=i[e];return r.$context||(t=this.getContext(),r.$context=tx(t,{tick:r,index:e,type:"tick"}))}return this.$context||(this.$context=(r=this.chart.getContext(),tx(r,{scale:this,type:"scale"})))}_tickSize(){let e=this.options.ticks,t=e_(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),n=e.autoSkipPadding||0,a=s?s.widest.width+n:0,o=s?s.highest.height+n:0;return this.isHorizontal()?o*r>a*i?a/r:o/i:o*i<a*r?o/r:a/i}_isVisible(){let e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t,r,i,s,n,a,o,l,d,c,h,u,f=this.axis,p=this.chart,g=this.options,{grid:m,position:b,border:x}=g,y=m.offset,_=this.isHorizontal(),v=this.ticks.length+ +!!y,w=is(m),k=[],S=x.setContext(this.getContext()),E=S.display?S.width:0,R=E/2,A=function(e){return e7(p,e,E)};if("top"===b)t=A(this.bottom),a=this.bottom-w,l=t-R,c=A(e.top)+R,u=e.bottom;else if("bottom"===b)t=A(this.top),c=e.top,u=A(e.bottom)-R,a=t+R,l=this.top+w;else if("left"===b)t=A(this.right),n=this.right-w,o=t-R,d=A(e.left)+R,h=e.right;else if("right"===b)t=A(this.left),d=e.left,h=A(e.right)-R,n=t+R,o=this.left+w;else if("x"===f){if("center"===b)t=A((e.top+e.bottom)/2+.5);else if($(b)){let e=Object.keys(b)[0],r=b[e];t=A(this.chart.scales[e].getPixelForValue(r))}c=e.top,u=e.bottom,l=(a=t+R)+w}else if("y"===f){if("center"===b)t=A((e.left+e.right)/2);else if($(b)){let e=Object.keys(b)[0],r=b[e];t=A(this.chart.scales[e].getPixelForValue(r))}o=(n=t-R)-w,d=e.left,h=e.right}let O=U(g.ticks.maxTicksLimit,v),P=Math.max(1,Math.ceil(v/O));for(r=0;r<v;r+=P){let e=this.getContext(r),t=m.setContext(e),f=x.setContext(e),g=t.lineWidth,b=t.color,v=f.dash||[],w=f.dashOffset,S=t.tickWidth,E=t.tickColor,R=t.tickBorderDash||[],A=t.tickBorderDashOffset;void 0!==(i=function(e,t,r){let i,s=e.ticks.length,n=Math.min(t,s-1),a=e._startPixel,o=e._endPixel,l=e.getPixelForTick(n);if(!r||(i=1===s?Math.max(l-a,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(n-1))/2,!((l+=n<t?i:-i)<a-1e-6)&&!(l>o+1e-6)))return l}(this,r,y))&&(s=e7(p,i,g),_?n=o=d=h=s:a=l=c=u=s,k.push({tx1:n,ty1:a,tx2:o,ty2:l,x1:d,y1:c,x2:h,y2:u,width:g,color:b,borderDash:v,borderDashOffset:w,tickWidth:S,tickColor:E,tickBorderDash:R,tickBorderDashOffset:A}))}return this._ticksLength=v,this._borderValue=t,k}_computeLabelItems(e){let t,r,i,s,n,a,o,l,d,c,h,u=this.axis,f=this.options,{position:p,ticks:g}=f,m=this.isHorizontal(),b=this.ticks,{align:x,crossAlign:y,padding:_,mirror:v}=g,w=is(f.grid),k=w+_,S=v?-_:k,E=-e_(this.labelRotation),R=[],A="middle";if("top"===p)n=this.bottom-S,a=this._getXAxisLabelAlignment();else if("bottom"===p)n=this.top+S,a=this._getXAxisLabelAlignment();else if("left"===p){let e=this._getYAxisLabelAlignment(w);a=e.textAlign,s=e.x}else if("right"===p){let e=this._getYAxisLabelAlignment(w);a=e.textAlign,s=e.x}else if("x"===u){if("center"===p)n=(e.top+e.bottom)/2+k;else if($(p)){let e=Object.keys(p)[0],t=p[e];n=this.chart.scales[e].getPixelForValue(t)+k}a=this._getXAxisLabelAlignment()}else if("y"===u){if("center"===p)s=(e.left+e.right)/2-k;else if($(p)){let e=Object.keys(p)[0],t=p[e];s=this.chart.scales[e].getPixelForValue(t)}a=this._getYAxisLabelAlignment(w).textAlign}"y"===u&&("start"===x?A="top":"end"===x&&(A="bottom"));let O=this._getLabelSizes();for(t=0,r=b.length;t<r;++t){let e;i=b[t].label;let u=g.setContext(this.getContext(t));o=this.getPixelForTick(t)+g.labelOffset,d=(l=this._resolveTickFontOptions(t)).lineHeight;let f=(c=F(i)?i.length:1)/2,x=u.color,_=u.textStrokeColor,w=u.textStrokeWidth,k=a;if(m?(s=o,"inner"===a&&(k=t===r-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),h="top"===p?"near"===y||0!==E?-c*d+d/2:"center"===y?-O.highest.height/2-f*d+d:-O.highest.height+d/2:"near"===y||0!==E?d/2:"center"===y?O.highest.height/2-f*d:O.highest.height-c*d,v&&(h*=-1),0===E||u.showLabelBackdrop||(s+=d/2*Math.sin(E))):(n=o,h=(1-c)*d/2),u.showLabelBackdrop){let i=tg(u.backdropPadding),s=O.heights[t],n=O.widths[t],o=h-i.top,l=0-i.left;switch(A){case"middle":o-=s/2;break;case"bottom":o-=s}switch(a){case"center":l-=n/2;break;case"right":l-=n;break;case"inner":t===r-1?l-=n:t>0&&(l-=n/2)}e={left:l,top:o,width:n+i.width,height:s+i.height,color:u.backdropColor}}R.push({label:i,font:l,textOffset:h,options:{rotation:E,color:x,strokeColor:_,strokeWidth:w,textAlign:k,textBaseline:A,translation:[s,n],backdrop:e}})}return R}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-e_(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){let t,r,{position:i,ticks:{crossAlign:s,mirror:n,padding:a}}=this.options,o=this._getLabelSizes(),l=e+a,d=o.widest.width;return"left"===i?n?(r=this.right+a,"near"===s?t="left":"center"===s?(t="center",r+=d/2):(t="right",r+=d)):(r=this.right-l,"near"===s?t="right":"center"===s?(t="center",r-=d/2):(t="left",r=this.left)):"right"===i?n?(r=this.left+a,"near"===s?t="right":"center"===s?(t="center",r-=d/2):(t="left",r-=d)):(r=this.left+l,"near"===s?t="left":"center"===s?(t="center",r+=d/2):(t="right",r=this.right)):t="right",{textAlign:t,x:r}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:n}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,n),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(t=>t.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t,r,i=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a=(e,t,r)=>{r.width&&r.color&&(s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.setLineDash(r.borderDash||[]),s.lineDashOffset=r.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(i.display)for(t=0,r=n.length;t<r;++t){let e=n[t];i.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),i.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){let e,t,r,i,{chart:s,ctx:n,options:{border:a,grid:o}}=this,l=a.setContext(this.getContext()),d=a.display?l.width:0;if(!d)return;let c=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;this.isHorizontal()?(e=e7(s,this.left,d)-d/2,t=e7(s,this.right,c)+c/2,r=i=h):(r=e7(s,this.top,d)-d/2,i=e7(s,this.bottom,c)+c/2,e=t=h),n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.beginPath(),n.moveTo(e,r),n.lineTo(t,i),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let t=this.ctx,r=this._computeLabelArea();for(let i of(r&&ti(t,r),this.getLabelItems(e))){let e=i.options,r=i.font;to(t,i.label,0,i.textOffset,r,e)}r&&ts(t)}drawTitle(){let e,{ctx:t,options:{position:r,title:i,reverse:s}}=this;if(!i.display)return;let n=tm(i.font),a=tg(i.padding),o=i.align,l=n.lineHeight/2;"bottom"===r||"center"===r||$(r)?(l+=a.bottom,F(i.text)&&(l+=n.lineHeight*(i.text.length-1))):l+=a.top;let{titleX:d,titleY:c,maxWidth:h,rotation:u}=function(e,t,r,i){let s,n,a,{top:o,left:l,bottom:d,right:c,chart:h}=e,{chartArea:u,scales:f}=h,p=0,g=d-o,m=c-l;if(e.isHorizontal()){if(n=eF(i,l,c),$(r)){let e=Object.keys(r)[0],i=r[e];a=f[e].getPixelForValue(i)+g-t}else a="center"===r?(u.bottom+u.top)/2+g-t:it(e,r,t);s=c-l}else{if($(r)){let e=Object.keys(r)[0],i=r[e];n=f[e].getPixelForValue(i)-m+t}else n="center"===r?(u.left+u.right)/2-m+t:it(e,r,t);a=eF(i,d,o),p="left"===r?-eh:eh}return{titleX:n,titleY:a,maxWidth:s,rotation:p}}(this,l,r,o);to(t,i.text,0,0,n,{color:i.color,maxWidth:h,rotation:u,textAlign:(e=eL(o),(s&&"right"!==r||!s&&"right"===r)&&(e=ie(e)),e),textBaseline:"middle",translation:[d,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=U(e.grid&&e.grid.z,-1),i=U(e.border&&e.border.z,0);return this._isVisible()&&this.draw===io.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){let t,r,i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];for(t=0,r=i.length;t<r;++t){let r=i[t];r[s]!==this.id||e&&r.type!==e||n.push(r)}return n}_resolveTickFontOptions(e){return tm(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class il{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){var t;let r,i=Object.getPrototypeOf(e);"id"in(t=i)&&"defaults"in t&&(r=this.register(i));let s=this.items,n=e.id,a=this.scope+"."+n;if(!n)throw Error("class does not have id: "+e);return n in s||(s[n]=e,function(e,t,r){var i,s;let n=J(Object.create(null),[r?e8.get(r):{},e8.get(t),e.defaults]);e8.set(t,n),e.defaultRoutes&&(i=t,Object.keys(s=e.defaultRoutes).forEach(e=>{let t=e.split("."),r=t.pop(),n=[i].concat(t).join("."),a=s[e].split("."),o=a.pop(),l=a.join(".");e8.route(n,r,l,o)})),e.descriptors&&e8.describe(t,e.descriptors)}(e,a,r),this.override&&e8.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in e8[i]&&(delete e8[i][r],this.override&&delete e1[r])}}class id{constructor(){this.controllers=new il(rp,"datasets",!0),this.elements=new il(r7,"elements"),this.plugins=new il(Object,"plugins"),this.scales=new il(io,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(t=>{let i=r||this._getRegistryForType(t);r||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):q(t,t=>{let i=r||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,r){let i=er(e);V(r["before"+i],[],r),t[e](r),V(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(void 0===i)throw Error('"'+e+'" is not a registered '+r+".");return i}}var ic=new id;class ih{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=i?this._descriptors(e).filter(i):this._descriptors(e),n=this._notify(s,e,t,r);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),n}_notify(e,t,r,i){for(let s of(i=i||{},e)){let e=s.plugin;if(!1===V(e[r],[t,i,s.options],e)&&i.cancelable)return!1}return!0}invalidate(){L(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=U(r.options&&r.options.plugins,{}),s=function(e){let t={},r=[],i=Object.keys(ic.plugins.items);for(let e=0;e<i.length;e++)r.push(ic.getPlugin(i[e]));let s=e.plugins||[];for(let e=0;e<s.length;e++){let i=s[e];-1===r.indexOf(i)&&(r.push(i),t[i.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==i||t?function(e,{plugins:t,localIds:r},i,s){let n=[],a=e.getContext();for(let l of t){var o;let t=l.id,d=(o=i[t],s||!1!==o?!0===o?{}:o:null);null!==d&&n.push({plugin:l,options:function(e,{plugin:t,local:r},i,s){let n=e.pluginScopeKeys(t),a=e.getOptionScopes(i,n);return r&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(e.config,{plugin:l,local:r[t]},d,a)})}return n}(e,s,i,t):[]}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function iu(e,t){let r=e8.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function ip(e){if("x"===e||"y"===e||"r"===e)return e}function ig(e,...t){if(ip(e))return e;for(let i of t){var r;let t=i.axis||("top"===(r=i.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.length>1&&ip(e[0].toLowerCase());if(t)return t}throw Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function im(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function ib(e){let t=e.options||(e.options={});t.plugins=U(t.plugins,{}),t.scales=function(e,t){let r=e1[e.type]||{scales:{}},i=t.scales||{},s=iu(e.type,t),n=Object.create(null);return Object.keys(i).forEach(t=>{let a=i[t];if(!$(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let o=ig(t,a,function(e,t){if(t.data&&t.data.datasets){let r=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(r.length)return im(e,"x",r[0])||im(e,"y",r[0])}return{}}(t,e),e8.scales[a.type]),l=o===s?"_index_":"_value_",d=r.scales||{};n[t]=Q(Object.create(null),[{axis:o},a,d[o],d[l]])}),e.data.datasets.forEach(r=>{let s=r.type||e.type,a=r.indexAxis||iu(s,t),o=(e1[s]||{}).scales||{};Object.keys(o).forEach(e=>{let t,s=(t=e,"_index_"===e?t=a:"_value_"===e&&(t="x"===a?"y":"x"),t),l=r[s+"AxisID"]||s;n[l]=n[l]||Object.create(null),Q(n[l],[{axis:s},i[l],o[e]])})}),Object.keys(n).forEach(e=>{let t=n[e];Q(t,[e8.scales[t.type],e8.scale])}),n}(e,t)}function ix(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let iy=new Map,i_=new Set;function iv(e,t){let r=iy.get(e);return r||(r=t(),iy.set(e,r),i_.add(r)),r}let iw=(e,t,r)=>{let i=et(t,r);void 0!==i&&e.add(i)};class ik{constructor(e){this._config=function(e){return(e=e||{}).data=ix(e.data),ib(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ix(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),ib(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return iv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return iv(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return iv(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return iv(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:s}=this,n=this._cachedScopes(e,r),a=n.get(t);if(a)return a;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>iw(o,e,t))),t.forEach(e=>iw(o,i,e)),t.forEach(e=>iw(o,e1[s]||{},e)),t.forEach(e=>iw(o,e8,e)),t.forEach(e=>iw(o,e2,e))});let l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),i_.has(t)&&n.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,e1[t]||{},e8.datasets[t]||{},{type:t},e8,e2]}resolveNamedOptions(e,t,r,i=[""]){let s={$shared:!0},{resolver:n,subPrefixes:a}=iS(this._resolverCache,e,i),o=n;if(function(e,t){let{isScriptable:r,isIndexable:i}=tv(e);for(let s of t){let t=r(s),n=i(s),a=(n||t)&&e[s];if(t&&(es(a)||iE(a))||n&&F(a))return!0}return!1}(n,t)){s.$shared=!1,r=es(r)?r():r;let t=this.createResolver(e,r,a);o=t_(n,r,t)}for(let e of t)s[e]=o[e];return s}createResolver(e,t,r=[""],i){let{resolver:s}=iS(this._resolverCache,e,r);return $(t)?t_(s,t,void 0,i):s}}function iS(e,t,r){let i=e.get(t);i||(i=new Map,e.set(t,i));let s=r.join(),n=i.get(s);return n||(n={resolver:ty(t,r),subPrefixes:r.filter(e=>!e.toLowerCase().includes("hover"))},i.set(s,n)),n}let iE=e=>$(e)&&Object.getOwnPropertyNames(e).some(t=>es(e[t])),iR=["top","bottom","left","right","chartArea"];function iA(e,t){return"top"===e||"bottom"===e||-1===iR.indexOf(e)&&"x"===t}function iO(e,t){return function(r,i){return r[e]===i[e]?r[t]-i[t]:r[e]-i[e]}}function iP(e){let t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),V(r&&r.onComplete,[e],t)}function ij(e){let t=e.chart,r=t.options.animation;V(r&&r.onProgress,[e],t)}function iM(e){return tD()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let iN={},iT=e=>{let t=iM(e);return Object.values(iN).filter(e=>e.canvas===t).pop()};class iC{static defaults=e8;static instances=iN;static overrides=e1;static registry=ic;static version="4.5.0";static getChart=iT;static register(...e){ic.add(...e),iD()}static unregister(...e){ic.remove(...e),iD()}constructor(e,t){let r=this.config=new ik(t),i=iM(e),s=iT(i);if(s)throw Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let n=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||(!tD()||"undefined"!=typeof OffscreenCanvas&&i instanceof OffscreenCanvas?rX:r6)),this.platform.updateConfig(r);let a=this.platform.acquireContext(i,n.aspectRatio),o=a&&a.canvas,l=o&&o.height,d=o&&o.width;if(this.id=I(),this.ctx=a,this.canvas=o,this.width=d,this.height=l,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ih,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(...i){return t?(clearTimeout(r),r=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),n.resizeDelay||0),this._dataChanges=[],iN[this.id]=this,!a||!o)return void console.error("Failed to create chart: can't acquire context from the given item");t7.listen(this,"complete",iP),t7.listen(this,"progress",ij),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return L(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ic}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tW(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return e9(this.canvas,this.ctx),this}stop(){return t7.stop(this),this}resize(e,t){t7.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(i,e,t,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,tW(this,a,!0)&&(this.notifyPlugins("resize",{size:n}),V(r.onResize,[this,n],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){q(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){let e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((e,t)=>(e[t]=!1,e),{}),s=[];t&&(s=s.concat(Object.keys(t).map(e=>{let r=t[e],i=ig(e,r),s="r"===i,n="x"===i;return{options:r,dposition:s?"chartArea":n?"bottom":"left",dtype:s?"radialLinear":n?"category":"linear"}}))),q(s,t=>{let s=t.options,n=s.id,a=ig(n,s),o=U(s.type,t.dtype);(void 0===s.position||iA(s.position,a)!==iA(t.dposition))&&(s.position=t.dposition),i[n]=!0;let l=null;n in r&&r[n].type===o?l=r[n]:r[(l=new(ic.getScale(o))({id:n,type:o,ctx:this.ctx,chart:this})).id]=l,l.init(s,e)}),q(i,(e,t)=>{e||delete r[t]}),q(r,e=>{rV.configure(this,e,e.options),rV.addBox(this,e)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((e,t)=>e.index-t.index),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(iO("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,r)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e,t,r=[],i=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=i.length;e<t;e++){let t=i[e],s=this.getDatasetMeta(e),n=t.type||this.config.type;if(s.type&&s.type!==n&&(this._destroyDatasetMeta(e),s=this.getDatasetMeta(e)),s.type=n,s.indexAxis=t.indexAxis||iu(n,this.options),s.order=t.order||0,s.index=e,s.label=""+t.label,s.visible=this.isDatasetVisible(e),s.controller)s.controller.updateIndex(e),s.controller.linkScales();else{let t=ic.getController(n),{datasetElementType:i,dataElementType:a}=e8.datasets[n];Object.assign(t,{dataElementType:ic.getElement(a),datasetElementType:i&&ic.getElement(i)}),s.controller=new t(this,e),r.push(s.controller)}}return this._updateMetasets(),r}_resetElements(){q(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let e=0,t=this.data.datasets.length;e<t;e++){let{controller:t}=this.getDatasetMeta(e),r=!i&&-1===s.indexOf(t);t.buildOrUpdateElements(r),n=Math.max(+t.getMaxOverflow(),n)}n=this._minPadding=r.layout.autoPadding?n:0,this._updateLayout(n),i||q(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(iO("z","_idx"));let{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){q(this.scales,e=>{rV.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options;en(new Set(Object.keys(this._listeners)),new Set(e.events))&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this;for(let{method:r,start:i,count:s}of this._getUniformDataChanges()||[]){var t="_removeElements"===r?-s:s;for(let r of Object.keys(e)){let s=+r;if(s>=i){let n=e[r];delete e[r],(t>0||s>i)&&(e[s+t]=n)}}}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,r=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=r(0);for(let e=1;e<t;e++)if(!en(i,r(e)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;rV.update(this,this.width,this.height,e);let t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],q(this.boxes,e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,es(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(t7.has(this)?this.attached&&!t7.running(this)&&t7.start(this):(this.draw(),iP({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t,r,i=this._sortedMetasets,s=[];for(t=0,r=i.length;t<r;++t){let r=i[t];(!e||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=t8(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(i&&ti(t,i),e.controller.draw(),i&&ts(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return tr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){let s=rD.modes[t];return"function"==typeof s?s(this,e,r,i):[]}getDatasetMeta(e){let t=this.data.datasets[e],r=this._metasets,i=r.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=tx(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){let i=r?"show":"hide",s=this.getDatasetMeta(e),n=s.controller._resolveAnimations(void 0,i);ei(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),n.update(s,{visible:r}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),t7.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),e9(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete iN[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,r=(r,i)=>{t.addEventListener(this,r,i),e[r]=i},i=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};q(this.options.events,e=>r(e,i))}bindResponsiveEvents(){let e;this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(e,i)=>{r.addEventListener(this,e,i),t[e]=i},s=(e,i)=>{t[e]&&(r.removeEventListener(this,e,i),delete t[e])},n=(e,t)=>{this.canvas&&this.resize(e,t)},a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",n),i("detach",e)};e=()=>{this.attached=!1,s("resize",n),this._stop(),this._resize(0,0),i("attach",a)},r.isAttached(this.canvas)?a():e()}unbindEvents(){q(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},q(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){let i,s,n,a=r?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),s=0,n=e.length;s<n;++s){let t=(i=e[s])&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],r=e.map(({datasetIndex:e,index:t})=>{let r=this.getDatasetMeta(e);if(!r)throw Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[t],index:t}});X(r,t)||(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){let i=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),n=s(t,e),a=r?e:s(e,t);n.length&&this.updateHoverStyle(n,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){let r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,i))return;let s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){var i;let{_active:s=[],options:n}=this,a=this._getActiveElements(e,s,r,t),o="mouseup"===e.type||"click"===e.type||"contextmenu"===e.type,l=(i=this._lastEvent,r&&"mouseout"!==e.type?o?i:e:null);r&&(this._lastEvent=null,V(n.onHover,[e,a,this],this),o&&V(n.onClick,[e,a,this],this));let d=!X(a,s);return(d||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=l,d}_getActiveElements(e,t,r,i){if("mouseout"===e.type)return[];if(!r)return t;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}function iD(){return q(iC.instances,e=>e._plugins.invalidate())}function iI(e,t,r,i){return{x:r+e*Math.cos(t),y:i+e*Math.sin(t)}}function iL(e,t,r,i,s,n){let{x:a,y:o,startAngle:l,pixelMargin:d,innerRadius:c}=t,h=Math.max(t.outerRadius+i+r-d,0),u=c>0?c+i+r+d:0,f=0,p=s-l;if(i){let e=h>0?h-i:0,t=((c>0?c-i:0)+e)/2;f=(p-(0!==t?p*t/(t+i):p))/2}let g=Math.max(.001,p*h-r/ea)/h,m=(p-g)/2,b=l+m+f,x=s-m-f,{outerStart:y,outerEnd:_,innerStart:v,innerEnd:w}=function(e,t,r,i){let s=tu(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),n=(r-t)/2,a=Math.min(n,i*t/2),o=e=>{let t=(r-Math.min(n,e))*i/2;return eA(e,0,Math.min(n,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:eA(s.innerStart,0,a),innerEnd:eA(s.innerEnd,0,a)}}(t,u,h,x-b),k=h-y,S=h-_,E=b+y/k,R=x-_/S,A=u+v,O=u+w,P=b+v/A,j=x-w/O;if(e.beginPath(),n){let t=(E+R)/2;if(e.arc(a,o,h,E,t),e.arc(a,o,h,t,R),_>0){let t=iI(S,R,a,o);e.arc(t.x,t.y,_,R,x+eh)}let r=iI(O,x,a,o);if(e.lineTo(r.x,r.y),w>0){let t=iI(O,j,a,o);e.arc(t.x,t.y,w,x+eh,j+Math.PI)}let i=(x-w/u+(b+v/u))/2;if(e.arc(a,o,u,x-w/u,i,!0),e.arc(a,o,u,i,b+v/u,!0),v>0){let t=iI(A,P,a,o);e.arc(t.x,t.y,v,P+Math.PI,b-eh)}let s=iI(k,b,a,o);if(e.lineTo(s.x,s.y),y>0){let t=iI(k,E,a,o);e.arc(t.x,t.y,y,b-eh,E)}}else{e.moveTo(a,o);let t=Math.cos(E)*h+a,r=Math.sin(E)*h+o;e.lineTo(t,r);let i=Math.cos(R)*h+a,s=Math.sin(R)*h+o;e.lineTo(i,s)}e.closePath()}class iF extends r7{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let{angle:i,distance:s}=ew(this.getProps(["x","y"],r),{x:e,y:t}),{startAngle:n,endAngle:a,innerRadius:o,outerRadius:l,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),c=(this.options.spacing+this.options.borderWidth)/2,h=U(d,a-n),u=eR(i,n,a)&&n!==a,f=h>=eo||u,p=eO(s,o+c,l+c);return f&&p}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:s,innerRadius:n,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,d=(i+s)/2,c=(n+a+l+o)/2;return{x:t+Math.cos(d)*c,y:r+Math.sin(d)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,n=t.circular;if(this.pixelMargin=.33*("inner"===t.borderAlign),this.fullCircles=r>eo?Math.floor(r/eo):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let o=i*(1-Math.sin(Math.min(ea,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,i,s){let{fullCircles:n,startAngle:a,circumference:o}=t,l=t.endAngle;if(n){iL(e,t,r,i,l,s);for(let t=0;t<n;++t)e.fill();isNaN(o)||(l=a+(o%eo||eo))}iL(e,t,r,i,l,s),e.fill()}(e,this,o,s,n),function(e,t,r,i,s){let{fullCircles:n,startAngle:a,circumference:o,options:l}=t,{borderWidth:d,borderJoinStyle:c,borderDash:h,borderDashOffset:u,borderRadius:f}=l,p="inner"===l.borderAlign;if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=u,p?(e.lineWidth=2*d,e.lineJoin=c||"round"):(e.lineWidth=d,e.lineJoin=c||"bevel");let g=t.endAngle;if(n){iL(e,t,r,i,g,s);for(let t=0;t<n;++t)e.stroke();isNaN(o)||(g=a+(o%eo||eo))}p&&function(e,t,r){let{startAngle:i,pixelMargin:s,x:n,y:a,outerRadius:o,innerRadius:l}=t,d=s/o;e.beginPath(),e.arc(n,a,o,i-d,r+d),l>s?(d=s/l,e.arc(n,a,l,r+d,i-d,!0)):e.arc(n,a,s,r+eh,i-eh),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-a>=ea&&0===f&&"miter"!==c&&function(e,t,r){let{startAngle:i,x:s,y:n,outerRadius:a,innerRadius:o,options:l}=t,{borderWidth:d,borderJoinStyle:c}=l,h=Math.min(d/a,eE(i-r));if(e.beginPath(),e.arc(s,n,a-d/2,i+h/2,r-h/2),o>0){let t=Math.min(d/o,eE(i-r));e.arc(s,n,o+d/2,r-t/2,i+t/2,!0)}else{let t=Math.min(d/2,a*eE(i-r));if("round"===c)e.arc(s,n,t,r-ea/2,i+ea/2,!0);else if("bevel"===c){let a=2*t*t,o=-a*Math.cos(r+ea/2)+s,l=-a*Math.sin(r+ea/2)+n,d=a*Math.cos(i+ea/2)+s,c=a*Math.sin(i+ea/2)+n;e.lineTo(o,l),e.lineTo(d,c)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),n||(iL(e,t,r,i,g,s),e.stroke())}(e,this,o,s,n),e.restore()}}function i$(e,t,r=t){e.lineCap=U(r.borderCapStyle,t.borderCapStyle),e.setLineDash(U(r.borderDash,t.borderDash)),e.lineDashOffset=U(r.borderDashOffset,t.borderDashOffset),e.lineJoin=U(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=U(r.borderWidth,t.borderWidth),e.strokeStyle=U(r.borderColor,t.borderColor)}function iB(e,t,r){e.lineTo(r.x,r.y)}function iz(e,t,r={}){let i=e.length,{start:s=0,end:n=i-1}=r,{start:a,end:o}=t,l=Math.max(s,a),d=Math.min(n,o);return{count:i,start:l,loop:t.loop,ilen:d<l&&!(s<a&&n<a||s>o&&n>o)?i+d-l:d-l}}function iU(e,t,r,i){let s,n,a,{points:o,options:l}=t,{count:d,start:c,loop:h,ilen:u}=iz(o,r,i),f=l.stepped?tn:l.tension||"monotone"===l.cubicInterpolationMode?ta:iB,{move:p=!0,reverse:g}=i||{};for(s=0;s<=u;++s)(n=o[(c+(g?u-s:s))%d]).skip||(p?(e.moveTo(n.x,n.y),p=!1):f(e,a,n,g,l.stepped),a=n);return h&&f(e,a,n=o[(c+(g?u:0))%d],g,l.stepped),!!h}function iH(e,t,r,i){let s,n,a,o,l,d,c=t.points,{count:h,start:u,ilen:f}=iz(c,r,i),{move:p=!0,reverse:g}=i||{},m=0,b=0,x=e=>(u+(g?f-e:e))%h,y=()=>{o!==l&&(e.lineTo(m,l),e.lineTo(m,o),e.lineTo(m,d))};for(p&&(n=c[x(0)],e.moveTo(n.x,n.y)),s=0;s<=f;++s){if((n=c[x(s)]).skip)continue;let t=n.x,r=n.y,i=0|t;i===a?(r<o?o=r:r>l&&(l=r),m=(b*m+t)/++b):(y(),e.lineTo(t,r),a=i,b=0,o=l=r),d=r}y()}function iW(e){let t=e.options,r=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||r?iU:iH}let iV="function"==typeof Path2D;class iq extends r7{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){let i=r.spanGaps?this._loop:this._fullLoop;!function(e,t,r,i,s){let n,a,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){let r,i,s,n=tT(t),a=e.length,o=Array(a).fill(0),l=Array(a),d=tN(e,0);for(r=0;r<a;++r)if(i=s,s=d,d=tN(e,r+1),s){if(d){let e=d[t]-s[t];o[r]=0!==e?(d[n]-s[n])/e:0}l[r]=i?d?eg(o[r-1])!==eg(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}!function(e,t,r){let i,s,n,a,o,l=e.length,d=tN(e,0);for(let c=0;c<l-1;++c)if(o=d,d=tN(e,c+1),o&&d){if(em(t[c],0,tM)){r[c]=r[c+1]=0;continue}(a=Math.pow(i=r[c]/t[c],2)+Math.pow(s=r[c+1]/t[c],2))<=9||(n=3/Math.sqrt(a),r[c]=i*n*t[c],r[c+1]=s*n*t[c])}}(e,o,l),function(e,t,r="x"){let i,s,n,a=tT(r),o=e.length,l=tN(e,0);for(let d=0;d<o;++d){if(s=n,n=l,l=tN(e,d+1),!n)continue;let o=n[r],c=n[a];s&&(i=(o-s[r])/3,n[`cp1${r}`]=o-i,n[`cp1${a}`]=c-i*t[d]),l&&(i=(l[r]-o)/3,n[`cp2${r}`]=o+i,n[`cp2${a}`]=c+i*t[d])}}(e,l,t)}(e,s);else{let r=i?e[e.length-1]:e[0];for(n=0,a=e.length;n<a;++n)l=function(e,t,r,i){let s=e.skip?t:e,n=r.skip?t:r,a=ek(t,s),o=ek(n,t),l=a/(a+o),d=o/(a+o);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let c=i*l,h=i*d;return{previous:{x:t.x-c*(n.x-s.x),y:t.y-c*(n.y-s.y)},next:{x:t.x+h*(n.x-s.x),y:t.y+h*(n.y-s.y)}}}(r,o=e[n],e[Math.min(n+1,a-!i)%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}t.capBezierPoints&&function(e,t){let r,i,s,n,a,o=tr(e[0],t);for(r=0,i=e.length;r<i;++r)a=n,n=o,o=r<i-1&&tr(e[r+1],t),n&&(s=e[r],a&&(s.cp1x=tC(s.cp1x,t.left,t.right),s.cp1y=tC(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=tC(s.cp2x,t.left,t.right),s.cp2y=tC(s.cp2y,t.top,t.bottom)))}(e,r)}(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){let r=e.points,i=e.options.spanGaps,s=r.length;if(!s)return[];let n=!!e._loop,{start:a,end:o}=function(e,t,r,i){let s=0,n=t-1;if(r&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,r&&(n+=s);n>s&&e[n%t].skip;)n--;return{start:s,end:n%=t}}(r,s,n,i);if(!0===i)return t5(e,[{start:a,end:o,loop:n}],r,t);let l=o<a?o+s:o,d=!!e._fullLoop&&0===a&&o===s-1;return t5(e,function(e,t,r,i){let s,n=e.length,a=[],o=t,l=e[t];for(s=t+1;s<=r;++s){let r=e[s%n];r.skip||r.stop?l.skip||(i=!1,a.push({start:t%n,end:(s-1)%n,loop:i}),t=o=r.stop?s:null):(o=s,l.skip&&(t=s)),l=r}return null!==o&&a.push({start:t%n,end:o%n,loop:i}),a}(r,a,l,d),r,t)}(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){let r,i,s=this.options,n=e[t],a=this.points,o=t2(this,{property:t,start:n,end:n});if(!o.length)return;let l=[],d=s.stepped?tK:s.tension||"monotone"===s.cubicInterpolationMode?tG:tX;for(r=0,i=o.length;r<i;++r){let{start:i,end:c}=o[r],h=a[i],u=a[c];if(h===u){l.push(h);continue}let f=Math.abs((n-h[t])/(u[t]-h[t])),p=d(h,u,f,s.stepped);p[t]=e[t],l.push(p)}return 1===l.length?l[0]:l}pathSegment(e,t,r){return iW(this)(e,this,t,r)}path(e,t,r){let i=this.segments,s=iW(this),n=this._loop;for(let a of(t=t||0,r=r||this.points.length-t,i))n&=s(e,this,a,{start:t,end:t+r-1});return!!n}draw(e,t,r,i){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),function(e,t,r,i){if(iV&&!t.options.segment){let s;(s=t._path)||(s=t._path=new Path2D,t.path(s,r,i)&&s.closePath()),i$(e,t.options),e.stroke(s)}else{let{segments:s,options:n}=t,a=iW(t);for(let o of s)i$(e,n,o.style),e.beginPath(),a(e,t,o,{start:r,end:r+i-1})&&e.closePath(),e.stroke()}}(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function iX(e,t,r,i){let s=e.options,{[r]:n}=e.getProps([r],i);return Math.abs(t-n)<s.radius+s.hitRadius}class iK extends r7{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.options,{x:s,y:n}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-n,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return iX(this,e,"x",t)}inYRange(e,t){return iX(this,e,"y",t)}getCenterPoint(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0,r=(t=Math.max(t,t&&e.hoverRadius||0))&&e.borderWidth||0;return(t+r)*2}draw(e,t){let r=this.options;!this.skip&&!(r.radius<.1)&&tr(this,t,this.size(r)/2)&&(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,te(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}function iG(e,t){let r,i,s,n,a,{x:o,y:l,base:d,width:c,height:h}=e.getProps(["x","y","base","width","height"],t);return e.horizontal?(a=h/2,r=Math.min(o,d),i=Math.max(o,d),s=l-a,n=l+a):(r=o-(a=c/2),i=o+a,s=Math.min(l,d),n=Math.max(l,d)),{left:r,top:s,right:i,bottom:n}}function iY(e,t,r,i){return e?0:eA(t,r,i)}function iJ(e,t,r,i){let s=null===t,n=null===r,a=e&&!(s&&n)&&iG(e,i);return a&&(s||eO(t,a.left,a.right))&&(n||eO(r,a.top,a.bottom))}function iQ(e,t){e.rect(t.x,t.y,t.w,t.h)}function iZ(e,t,r={}){let i=e.x!==r.x?-t:0,s=e.y!==r.y?-t:0,n=(e.x+e.w!==r.x+r.w?t:0)-i,a=(e.y+e.h!==r.y+r.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+n,h:e.h+a,radius:e.radius}}class i0 extends r7{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){var t;let{inflateAmount:r,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:a}=function(e){let t=iG(e),r=t.right-t.left,i=t.bottom-t.top,s=function(e,t,r){let i=e.options.borderWidth,s=e.borderSkipped,n=tf(i);return{t:iY(s.top,n.top,0,r),r:iY(s.right,n.right,0,t),b:iY(s.bottom,n.bottom,0,r),l:iY(s.left,n.left,0,t)}}(e,r/2,i/2),n=function(e,t,r){let{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,n=tp(s),a=Math.min(t,r),o=e.borderSkipped,l=i||$(s);return{topLeft:iY(!l||o.top||o.left,n.topLeft,0,a),topRight:iY(!l||o.top||o.right,n.topRight,0,a),bottomLeft:iY(!l||o.bottom||o.left,n.bottomLeft,0,a),bottomRight:iY(!l||o.bottom||o.right,n.bottomRight,0,a)}}(e,r/2,i/2);return{outer:{x:t.left,y:t.top,w:r,h:i,radius:n},inner:{x:t.left+s.l,y:t.top+s.t,w:r-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,n.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(s.b,s.r))}}}}(this),o=(t=a.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?tl:iQ;e.save(),(a.w!==n.w||a.h!==n.h)&&(e.beginPath(),o(e,iZ(a,r,n)),e.clip(),o(e,iZ(n,-r,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,iZ(n,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,r){return iJ(this,e,t,r)}inXRange(e,t){return iJ(this,e,null,t)}inYRange(e,t){return iJ(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}let i1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],i2=i1.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function i5(e,t,r,i){if(i)return;let s=t[e],n=r[e];return"angle"===e&&(s=eE(s),n=eE(n)),{property:e,start:s,end:n}}function i4(e,t,r){for(;t>e;t--){let e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function i3(e,t,r,i){return e&&t?i(e[r],t[r]):e?e[r]:t?t[r]:0}function i8(e,t){let r=[],i=!1;return F(e)?(i=!0,r=e):r=function(e,t){let{x:r=null,y:i=null}=e||{},s=t.points,n=[];return t.segments.forEach(({start:e,end:t})=>{t=i4(e,t,s);let a=s[e],o=s[t];null!==i?(n.push({x:a.x,y:i}),n.push({x:o.x,y:i})):null!==r&&(n.push({x:r,y:a.y}),n.push({x:r,y:o.y}))}),n}(e,t),r.length?new iq({points:r,options:{tension:0},_loop:i,_fullLoop:i}):null}class i6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:i,y:s,radius:n}=this;return t=t||{start:0,end:eo},e.arc(i,s,n,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function i7(e,t,r){let{segments:i,points:s}=t,n=!0,a=!1;for(let o of(e.beginPath(),i)){let{start:i,end:l}=o,d=s[i],c=s[i4(i,l,s)];n?(e.moveTo(d.x,d.y),n=!1):(e.lineTo(d.x,r),e.lineTo(d.x,d.y)),(a=!!t.pathSegment(e,o,{move:a}))?e.closePath():e.lineTo(c.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function i9(e,t,r){let{segments:i,points:s}=t,n=!0,a=!1;for(let o of(e.beginPath(),i)){let{start:i,end:l}=o,d=s[i],c=s[i4(i,l,s)];n?(e.moveTo(d.x,d.y),n=!1):(e.lineTo(r,d.y),e.lineTo(d.x,d.y)),(a=!!t.pathSegment(e,o,{move:a}))?e.closePath():e.lineTo(r,c.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function se(e,t){let{line:r,target:i,property:s,color:n,scale:a,clip:o}=t;for(let{source:t,target:l,start:d,end:c}of function(e,t,r){let i=e.segments,s=e.points,n=t.points,a=[];for(let e of i){let{start:i,end:o}=e;o=i4(i,o,s);let l=i5(r,s[i],s[o],e.loop);if(!t.segments){a.push({source:e,target:l,start:s[i],end:s[o]});continue}for(let i of t2(t,l)){let t=i5(r,n[i.start],n[i.end],i.loop);for(let n of t1(e,s,t))a.push({source:n,target:i,start:{[r]:i3(l,t,"start",Math.max)},end:{[r]:i3(l,t,"end",Math.min)}})}}return a}(r,i,s)){let h,{style:{backgroundColor:u=n}={}}=t,f=!0!==i;e.save(),e.fillStyle=u,function(e,t,r,i){let s=t.chart.chartArea,{property:n,start:a,end:o}=i||{};if("x"===n||"y"===n){let t,i,l,d;"x"===n?(t=a,i=s.top,l=o,d=s.bottom):(t=s.left,i=a,l=s.right,d=o),e.beginPath(),r&&(t=Math.max(t,r.left),l=Math.min(l,r.right),i=Math.max(i,r.top),d=Math.min(d,r.bottom)),e.rect(t,i,l-t,d-i),e.clip()}}(e,a,o,f&&i5(s,d,c)),e.beginPath();let p=!!r.pathSegment(e,t);if(f){p?e.closePath():st(e,i,c,s);let t=!!i.pathSegment(e,l,{move:p,reverse:!0});(h=p&&t)||st(e,i,d,s)}e.closePath(),e.fill(h?"evenodd":"nonzero"),e.restore()}}function st(e,t,r,i){let s=t.interpolate(r,i);s&&e.lineTo(s.x,s.y)}let sr=(e,t)=>{let{boxHeight:r=t,boxWidth:i=t}=e;return e.usePointStyle&&(r=Math.min(r,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(t,r)}},si=(e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class ss extends r7{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=V(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,r)=>e.sort(t,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let e,t,{options:r,ctx:i}=this;if(!r.display){this.width=this.height=0;return}let s=r.labels,n=tm(s.font),a=n.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=sr(s,a);i.font=n.string,this.isHorizontal()?(e=this.maxWidth,t=this._fitRows(o,a,l,d)+10):(t=this.maxHeight,e=this._fitCols(o,n,l,d)+10),this.width=Math.min(e,r.maxWidth||this.maxWidth),this.height=Math.min(t,r.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){let{ctx:s,maxWidth:n,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],d=i+a,c=e;s.textAlign="left",s.textBaseline="middle";let h=-1,u=-d;return this.legendItems.forEach((e,f)=>{let p=r+t/2+s.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>n)&&(c+=d,l[l.length-(f>0?0:1)]=0,u+=d,h++),o[f]={left:0,top:u,row:h,width:p,height:i},l[l.length-1]+=p+a}),c}_fitCols(e,t,r,i){let{ctx:s,maxHeight:n,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],d=n-e,c=a,h=0,u=0,f=0,p=0;return this.legendItems.forEach((e,n)=>{var g,m,b,x,y,_,v,w,k,S,E,R;let A,O,{itemWidth:P,itemHeight:j}=(g=r,m=t,b=s,x=e,y=i,{itemWidth:(_=x,v=g,w=m,k=b,(A=_.text)&&"string"!=typeof A&&(A=A.reduce((e,t)=>e.length>t.length?e:t)),v+w.size/2+k.measureText(A).width),itemHeight:(S=y,E=x,R=m.lineHeight,O=S,"string"!=typeof E.text&&(O=sn(E,R)),O)});n>0&&u+j+2*a>d&&(c+=h+a,l.push({width:h,height:u}),f+=h+a,p++,h=u=0),o[n]={left:f,top:u,col:p,width:P,height:j},h=Math.max(h,P),u+=j+a}),c+=h,l.push({width:h,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,n=tY(s,this.left,this.width);if(this.isHorizontal()){let s=0,a=eF(r,this.left+i,this.right-this.lineWidths[s]);for(let o of t)s!==o.row&&(s=o.row,a=eF(r,this.left+i,this.right-this.lineWidths[s])),o.top+=this.top+e+i,o.left=n.leftForLtr(n.x(a),o.width),a+=o.width+i}else{let s=0,a=eF(r,this.top+e+i,this.bottom-this.columnSizes[s].height);for(let o of t)o.col!==s&&(s=o.col,a=eF(r,this.top+e+i,this.bottom-this.columnSizes[s].height)),o.top=a,o.left+=this.left+i,o.left=n.leftForLtr(n.x(o.left),o.width),a+=o.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){let e=this.ctx;ti(e,this),this._draw(),ts(e)}}_draw(){let e,{options:t,columnSizes:r,lineWidths:i,ctx:s}=this,{align:n,labels:a}=t,o=e8.color,l=tY(t.rtl,this.left,this.width),d=tm(a.font),{padding:c}=a,h=d.size,u=h/2;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;let{boxWidth:f,boxHeight:p,itemHeight:g}=sr(a,h),m=function(e,t,r){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;s.save();let i=U(r.lineWidth,1);if(s.fillStyle=U(r.fillStyle,o),s.lineCap=U(r.lineCap,"butt"),s.lineDashOffset=U(r.lineDashOffset,0),s.lineJoin=U(r.lineJoin,"miter"),s.lineWidth=i,s.strokeStyle=U(r.strokeStyle,o),s.setLineDash(U(r.lineDash,[])),a.usePointStyle){let n={radius:p*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:i};tt(s,n,l.xPlus(e,f/2),t+u,a.pointStyleWidth&&f)}else{let n=t+Math.max((h-p)/2,0),a=l.leftForLtr(e,f),o=tp(r.borderRadius);s.beginPath(),Object.values(o).some(e=>0!==e)?tl(s,{x:a,y:n,w:f,h:p,radius:o}):s.rect(a,n,f,p),s.fill(),0!==i&&s.stroke()}s.restore()},b=function(e,t,r){to(s,r.text,e,t+g/2,d,{strikethrough:r.hidden,textAlign:l.textAlign(r.textAlign)})},x=this.isHorizontal(),y=this._computeTitleHeight();e=x?{x:eF(n,this.left+c,this.right-i[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:eF(n,this.top+y+c,this.bottom-r[0].height),line:0},tJ(this.ctx,t.textDirection);let _=g+c;this.legendItems.forEach((o,h)=>{s.strokeStyle=o.fontColor,s.fillStyle=o.fontColor;let p=s.measureText(o.text).width,g=l.textAlign(o.textAlign||(o.textAlign=a.textAlign)),v=f+u+p,w=e.x,k=e.y;if(l.setWidth(this.width),x?h>0&&w+v+c>this.right&&(k=e.y+=_,e.line++,w=e.x=eF(n,this.left+c,this.right-i[e.line])):h>0&&k+_>this.bottom&&(w=e.x=w+r[e.line].width+c,e.line++,k=e.y=eF(n,this.top+y+c,this.bottom-r[e.line].height)),m(l.x(w),k,o),w=e$(g,w+f+u,x?w+v:this.right,t.rtl),b(l.x(w),k,o),x)e.x+=v+c;else if("string"!=typeof o.text){let t=d.lineHeight;e.y+=sn(o,t)+c}else e.y+=_}),tQ(this.ctx,t.textDirection)}drawTitle(){let e,t=this.options,r=t.title,i=tm(r.font),s=tg(r.padding);if(!r.display)return;let n=tY(t.rtl,this.left,this.width),a=this.ctx,o=r.position,l=i.size/2,d=s.top+l,c=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),e=this.top+d,c=eF(t.align,c,this.right-h);else{let r=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);e=d+eF(t.align,this.top,this.bottom-r-t.labels.padding-this._computeTitleHeight())}let u=eF(o,c,c+h);a.textAlign=n.textAlign(eL(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=i.string,to(a,r.text,u,e,i)}_computeTitleHeight(){let e=this.options.title,t=tm(e.font),r=tg(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(eO(e,this.left,this.right)&&eO(t,this.top,this.bottom)){for(r=0,s=this.legendHitBoxes;r<s.length;++r)if(eO(e,(i=s[r]).left,i.left+i.width)&&eO(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){var t,r;let i=this.options;if(t=e.type,r=i,("mousemove"!==t&&"mouseout"!==t||!r.onHover&&!r.onLeave)&&(!r.onClick||"click"!==t&&"mouseup"!==t))return;let s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){let t=this._hoveredItem,r=si(t,s);t&&!r&&V(i.onLeave,[e,t,this],this),this._hoveredItem=s,s&&!r&&V(i.onHover,[e,s,this],this)}else s&&V(i.onClick,[e,s,this],this)}}function sn(e,t){return t*(e.text?e.text.length:0)}class sa extends r7{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=F(r.text)?r.text.length:1;this._padding=tg(r.padding);let s=i*tm(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){let t,r,i,{top:s,left:n,bottom:a,right:o,options:l}=this,d=l.align,c=0;return this.isHorizontal()?(r=eF(d,n,o),i=s+e,t=o-n):("left"===l.position?(r=n+e,i=eF(d,a,s),c=-.5*ea):(r=o-e,i=eF(d,s,a),c=.5*ea),t=a-s),{titleX:r,titleY:i,maxWidth:t,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let r=tm(t.font),i=r.lineHeight/2+this._padding.top,{titleX:s,titleY:n,maxWidth:a,rotation:o}=this._drawArgs(i);to(e,t.text,0,0,r,{color:t.color,maxWidth:a,rotation:o,textAlign:eL(t.align),textBaseline:"middle",translation:[s,n]})}}new WeakMap;let so={average(e){let t,r;if(!e.length)return!1;let i=new Set,s=0,n=0;for(t=0,r=e.length;t<r;++t){let r=e[t].element;if(r&&r.hasValue()){let e=r.tooltipPosition();i.add(e.x),s+=e.y,++n}}return 0!==n&&0!==i.size&&{x:[...i].reduce((e,t)=>e+t)/i.size,y:s/n}},nearest(e,t){let r,i,s;if(!e.length)return!1;let n=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(r=0,i=e.length;r<i;++r){let i=e[r].element;if(i&&i.hasValue()){let e=ek(t,i.getCenterPoint());e<o&&(o=e,s=i)}}if(s){let e=s.tooltipPosition();n=e.x,a=e.y}return{x:n,y:a}}};function sl(e,t){return t&&(F(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function sd(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function sc(e,t){let r=e.chart.ctx,{body:i,footer:s,title:n}=e,{boxWidth:a,boxHeight:o}=t,l=tm(t.bodyFont),d=tm(t.titleFont),c=tm(t.footerFont),h=n.length,u=s.length,f=i.length,p=tg(t.padding),g=p.height,m=0,b=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b&&(g+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(b-f)*l.lineHeight+(b-1)*t.bodySpacing),u&&(g+=t.footerMarginTop+u*c.lineHeight+(u-1)*t.footerSpacing);let x=0,y=function(e){m=Math.max(m,r.measureText(e).width+x)};return r.save(),r.font=d.string,q(e.title,y),r.font=l.string,q(e.beforeBody.concat(e.afterBody),y),x=t.displayColors?a+2+t.boxPadding:0,q(i,e=>{q(e.before,y),q(e.lines,y),q(e.after,y)}),x=0,r.font=c.string,q(e.footer,y),r.restore(),{width:m+=p.width,height:g}}function sh(e,t,r){let i=r.yAlign||t.yAlign||function(e,t){let{y:r,height:i}=t;return r<i/2?"top":r>e.height-i/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||function(e,t,r,i){let{x:s,width:n}=r,{width:a,chartArea:{left:o,right:l}}=e,d="center";return"center"===i?d=s<=(o+l)/2?"left":"right":s<=n/2?d="left":s>=a-n/2&&(d="right"),function(e,t,r,i){let{x:s,width:n}=i,a=r.caretSize+r.caretPadding;if("left"===e&&s+n+a>t.width||"right"===e&&s-n-a<0)return!0}(d,e,t,r)&&(d="center"),d}(e,t,r,i),yAlign:i}}function su(e,t,r,i){let{caretSize:s,caretPadding:n,cornerRadius:a}=e,{xAlign:o,yAlign:l}=r,d=s+n,{topLeft:c,topRight:h,bottomLeft:u,bottomRight:f}=tp(a),p=function(e,t){let{x:r,width:i}=e;return"right"===t?r-=i:"center"===t&&(r-=i/2),r}(t,o),g=function(e,t,r){let{y:i,height:s}=e;return"top"===t?i+=r:"bottom"===t?i-=s+r:i-=s/2,i}(t,l,d);return"center"===l?"left"===o?p+=d:"right"===o&&(p-=d):"left"===o?p-=Math.max(c,u)+s:"right"===o&&(p+=Math.max(h,f)+s),{x:eA(p,0,i.width-t.width),y:eA(g,0,i.height-t.height)}}function sf(e,t,r){let i=tg(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function sp(e,t){let r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}let sg={beforeTitle:D,title(e){if(e.length>0){let t=e[0],r=t.chart.data.labels,i=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return r[t.dataIndex]}return""},afterTitle:D,beforeBody:D,beforeLabel:D,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let r=e.formattedValue;return L(r)||(t+=r),t},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:D,afterBody:D,beforeFooter:D,footer:D,afterFooter:D};function sm(e,t,r,i){let s=e[t].call(r,i);return void 0===s?sg[t].call(r,i):s}class sb extends r7{static positioners=so;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new rr(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){var e;return this.$context||(this.$context=(e=this.chart.getContext(),tx(e,{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(e,t){let{callbacks:r}=t,i=sm(r,"beforeTitle",this,e),s=sm(r,"title",this,e),n=sm(r,"afterTitle",this,e),a=[];return a=sl(a,sd(i)),a=sl(a,sd(s)),a=sl(a,sd(n))}getBeforeBody(e,t){return sl([],sd(sm(t.callbacks,"beforeBody",this,e)))}getBody(e,t){let{callbacks:r}=t,i=[];return q(e,e=>{let t={before:[],lines:[],after:[]},s=sp(r,e);sl(t.before,sd(sm(s,"beforeLabel",this,e))),sl(t.lines,sm(s,"label",this,e)),sl(t.after,sd(sm(s,"afterLabel",this,e))),i.push(t)}),i}getAfterBody(e,t){return sl([],sd(sm(t.callbacks,"afterBody",this,e)))}getFooter(e,t){let{callbacks:r}=t,i=sm(r,"beforeFooter",this,e),s=sm(r,"footer",this,e),n=sm(r,"afterFooter",this,e),a=[];return a=sl(a,sd(i)),a=sl(a,sd(s)),a=sl(a,sd(n))}_createItems(e){let t,r,i=this._active,s=this.chart.data,n=[],a=[],o=[],l=[];for(t=0,r=i.length;t<r;++t)l.push(function(e,t){let{element:r,datasetIndex:i,index:s}=t,n=e.getDatasetMeta(i).controller,{label:a,value:o}=n.getLabelAndValue(s);return{chart:e,label:a,parsed:n.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:o,dataset:n.getDataset(),dataIndex:s,datasetIndex:i,element:r}}(this.chart,i[t]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,s))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,s))),q(l,t=>{let r=sp(e.callbacks,t);n.push(sm(r,"labelColor",this,t)),a.push(sm(r,"labelPointStyle",this,t)),o.push(sm(r,"labelTextColor",this,t))}),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){let r,i=this.options.setContext(this.getContext()),s=this._active,n=[];if(s.length){let e=so[i.position].call(this,s,this._eventPosition);n=this._createItems(i),this.title=this.getTitle(n,i),this.beforeBody=this.getBeforeBody(n,i),this.body=this.getBody(n,i),this.afterBody=this.getAfterBody(n,i),this.footer=this.getFooter(n,i);let t=this._size=sc(this,i),a=Object.assign({},e,t),o=sh(this.chart,i,a),l=su(i,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=n,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){let s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){let i,s,n,a,o,l,{xAlign:d,yAlign:c}=this,{caretSize:h,cornerRadius:u}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:m}=tp(u),{x:b,y:x}=e,{width:y,height:_}=t;return"center"===c?(o=x+_/2,"left"===d?(s=(i=b)-h,a=o+h,l=o-h):(s=(i=b+y)+h,a=o-h,l=o+h),n=i):(s="left"===d?b+Math.max(f,g)+h:"right"===d?b+y-Math.max(p,m)-h:this.caretX,"top"===c?(o=(a=x)-h,i=s-h,n=s+h):(o=(a=x+_)+h,i=s+h,n=s-h),l=a),{x1:i,x2:s,x3:n,y1:a,y2:o,y3:l}}drawTitle(e,t,r){let i,s,n,a=this.title,o=a.length;if(o){let l=tY(r.rtl,this.x,this.width);for(n=0,e.x=sf(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",i=tm(r.titleFont),s=r.titleSpacing,t.fillStyle=r.titleColor,t.font=i.string;n<o;++n)t.fillText(a[n],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+s,n+1===o&&(e.y+=r.titleMarginBottom-s)}}_drawColorBox(e,t,r,i,s){let n=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=s,d=tm(s.bodyFont),c=sf(this,"left",s),h=i.x(c),u=o<d.lineHeight?(d.lineHeight-o)/2:0,f=t.y+u;if(s.usePointStyle){let t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},r=i.leftForLtr(h,l)+l/2,d=f+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,te(e,t,r,d),e.strokeStyle=n.borderColor,e.fillStyle=n.backgroundColor,te(e,t,r,d)}else{e.lineWidth=$(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,e.strokeStyle=n.borderColor,e.setLineDash(n.borderDash||[]),e.lineDashOffset=n.borderDashOffset||0;let t=i.leftForLtr(h,l),r=i.leftForLtr(i.xPlus(h,1),l-2),a=tp(n.borderRadius);Object.values(a).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,tl(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=n.backgroundColor,e.beginPath(),tl(e,{x:r,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=n.backgroundColor,e.fillRect(r,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){let i,s,n,a,o,l,{body:d}=this,{bodySpacing:c,bodyAlign:h,displayColors:u,boxHeight:f,boxWidth:p,boxPadding:g}=r,m=tm(r.bodyFont),b=m.lineHeight,x=0,y=tY(r.rtl,this.x,this.width),_=function(r){t.fillText(r,y.x(e.x+x),e.y+b/2),e.y+=b+c},v=y.textAlign(h);for(t.textAlign=h,t.textBaseline="middle",t.font=m.string,e.x=sf(this,v,r),t.fillStyle=r.bodyColor,q(this.beforeBody,_),x=u&&"right"!==v?"center"===h?p/2+g:p+2+g:0,n=0,o=d.length;n<o;++n){for(i=d[n],t.fillStyle=this.labelTextColors[n],q(i.before,_),s=i.lines,u&&s.length&&(this._drawColorBox(t,e,n,y,r),b=Math.max(m.lineHeight,f)),a=0,l=s.length;a<l;++a)_(s[a]),b=m.lineHeight;q(i.after,_)}x=0,b=m.lineHeight,q(this.afterBody,_),e.y-=c}drawFooter(e,t,r){let i,s,n=this.footer,a=n.length;if(a){let o=tY(r.rtl,this.x,this.width);for(e.x=sf(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",i=tm(r.footerFont),t.fillStyle=r.footerColor,t.font=i.string,s=0;s<a;++s)t.fillText(n[s],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){let{xAlign:s,yAlign:n}=this,{x:a,y:o}=e,{width:l,height:d}=r,{topLeft:c,topRight:h,bottomLeft:u,bottomRight:f}=tp(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+c,o),"top"===n&&this.drawCaret(e,t,r,i),t.lineTo(a+l-h,o),t.quadraticCurveTo(a+l,o,a+l,o+h),"center"===n&&"right"===s&&this.drawCaret(e,t,r,i),t.lineTo(a+l,o+d-f),t.quadraticCurveTo(a+l,o+d,a+l-f,o+d),"bottom"===n&&this.drawCaret(e,t,r,i),t.lineTo(a+u,o+d),t.quadraticCurveTo(a,o+d,a,o+d-u),"center"===n&&"left"===s&&this.drawCaret(e,t,r,i),t.lineTo(a,o+c),t.quadraticCurveTo(a,o,a+c,o),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){let r=so[e.position].call(this,this._active,this._eventPosition);if(!r)return;let n=this._size=sc(this,e),a=Object.assign({},r,this._size),o=sh(t,e,a),l=su(e,a,o,t);(i._to!==l.x||s._to!==l.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=n.width,this.height=n.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(t);let i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=.001>Math.abs(r)?0:r;let n=tg(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),tJ(e,t.textDirection),s.y+=n.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),tQ(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let r=this._active,i=e.map(({datasetIndex:e,index:t})=>{let r=this.chart.getDatasetMeta(e);if(!r)throw Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[t],index:t}}),s=!X(r,i),n=this._positionChanged(i,t);(s||n)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,s=this._active||[],n=this._getActiveElements(e,s,t,r),a=this._positionChanged(n,e),o=t||!X(n,s)||a;return o&&(this._active=n,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,i){let s=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));let n=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&n.reverse(),n}_positionChanged(e,t){let{caretX:r,caretY:i,options:s}=this,n=so[s.position].call(this,e,t);return!1!==n&&(r!==n.x||i!==n.y)}}let sx=(e,t,r,i)=>("string"==typeof t?(r=e.push(t)-1,i.unshift({index:r,label:t})):isNaN(t)&&(r=null),r),sy=(e,t)=>null===e?null:eA(Math.round(e),0,t);function s_(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sv extends io{static id="category";static defaults={ticks:{callback:s_}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:r,label:i}of t)e[r]===i&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(L(e))return null;let r=this.getLabels();return sy(t=isFinite(t)&&r[t]===e?t:function(e,t,r,i){let s=e.indexOf(t);return -1===s?sx(e,t,r,i):s!==e.lastIndexOf(t)?r:s}(r,e,U(t,e),this._addedLabels),r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:r,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){let e=this.min,t=this.max,r=this.options.offset,i=[],s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-!r,1),this._startValue=this.min-.5*!!r;for(let r=e;r<=t;r++)i.push({value:r});return i}getLabelForValue(e){return s_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function sw(e,t,{horizontal:r,minRotation:i}){let s=e_(i),n=(r?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/n,a)}class sk extends io{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return L(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this,n=e=>i=t?i:e,a=e=>s=r?s:e;if(e){let e=eg(i),t=eg(s);e<0&&t<0?a(0):e>0&&t>0&&n(0)}if(i===s){let t=0===s?1:Math.abs(.05*s);a(s+t),e||n(i-t)}this.min=i,this.max=s}getTickLimit(){let e,{maxTicksLimit:t,stepSize:r}=this.options.ticks;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3):(e=this.computeTickLimit(),t=t||11),t&&(e=Math.min(t,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit(),i=function(e,t){let r,i,s,n,a=[],{bounds:o,step:l,min:d,max:c,precision:h,count:u,maxTicks:f,maxDigits:p,includeBounds:g}=e,m=l||1,b=f-1,{min:x,max:y}=t,_=!L(d),v=!L(c),w=!L(u),k=(y-x)/(p+1),S=eb((y-x)/b/m)*m;if(S<1e-14&&!_&&!v)return[{value:x},{value:y}];(n=Math.ceil(y/S)-Math.floor(x/S))>b&&(S=eb(n*S/b/m)*m),L(h)||(S=Math.ceil(S*(r=Math.pow(10,h)))/r),"ticks"===o?(i=Math.floor(x/S)*S,s=Math.ceil(y/S)*S):(i=x,s=y),_&&v&&l&&function(e,t){let r=Math.round(e);return r-t<=e&&r+t>=e}((c-d)/l,S/1e3)?(n=Math.round(Math.min((c-d)/S,f)),S=(c-d)/n,i=d,s=c):w?(i=_?d:i,S=((s=v?c:s)-i)/(n=u-1)):n=em(n=(s-i)/S,Math.round(n),S/1e3)?Math.round(n):Math.ceil(n);let E=Math.max(ev(S),ev(i));i=Math.round(i*(r=Math.pow(10,L(h)?E:h)))/r,s=Math.round(s*r)/r;let R=0;for(_&&(g&&i!==d?(a.push({value:d}),i<d&&R++,em(Math.round((i+R*S)*r)/r,d,sw(d,k,e))&&R++):i<d&&R++);R<n;++R){let e=Math.round((i+R*S)*r)/r;if(v&&e>c)break;a.push({value:e})}return v&&g&&s!==c?a.length&&em(a[a.length-1].value,c,sw(c,k,e))?a[a.length-1].value=c:a.push({value:c}):v&&s!==c||a.push({value:s}),a}({maxTicks:r=Math.max(2,r),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ey(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return eQ(e,this.chart.options.locale,this.options.ticks.format)}}class sS extends sk{static id="linear";static defaults={ticks:{callback:e0.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=B(e)?e:0,this.max=B(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=e_(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001;return Math.ceil(t/Math.min(40,this._resolveTickFontOptions(0).lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}let sE=e=>Math.floor(ep(e)),sR=(e,t)=>Math.pow(10,sE(e)+t);function sA(e){return 1==e/Math.pow(10,sE(e))}function sO(e,t,r){let i=Math.pow(10,r),s=Math.floor(e/i);return Math.ceil(t/i)-s}class sP extends io{static id="logarithmic";static defaults={ticks:{callback:e0.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=sk.prototype.parse.apply(this,[e,t]);if(0===r){this._zero=!0;return}return B(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=B(e)?Math.max(0,e):null,this.max=B(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!B(this._userMin)&&(this.min=e===sR(this.min,0)?sR(this.min,-1):sR(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,s=t=>r=e?r:t,n=e=>i=t?i:e;r===i&&(r<=0?(s(1),n(10)):(s(sR(r,-1)),n(sR(i,1)))),r<=0&&s(sR(i,-1)),i<=0&&n(sR(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t=function(e,{min:t,max:r}){t=z(e.min,t);let i=[],s=sE(t),n=function(e,t){let r=sE(t-e);for(;sO(e,t,r)>10;)r++;for(;10>sO(e,t,r);)r--;return Math.min(r,sE(e))}(t,r),a=n<0?Math.pow(10,Math.abs(n)):1,o=Math.pow(10,n),l=s>n?Math.pow(10,s):0,d=Math.round((t-l)*a)/a,c=Math.floor((t-l)/o/10)*o*10,h=Math.floor((d-c)/Math.pow(10,n)),u=z(e.min,Math.round((l+c+h*Math.pow(10,n))*a)/a);for(;u<r;)i.push({value:u,major:sA(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(h=2,a=++n>=0?1:a),u=Math.round((l+c+h*Math.pow(10,n))*a)/a;let f=z(e.max,u);return i.push({value:f,major:sA(f),significand:h}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&ey(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":eQ(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=ep(e),this._valueRange=ep(this.max)-ep(e)}getPixelForValue(e){return((void 0===e||0===e)&&(e=this.min),null===e||isNaN(e))?NaN:this.getPixelForDecimal(e===this.min?0:(ep(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function sj(e){let t=e.ticks;if(t.display&&e.display){let e=tg(t.backdropPadding);return U(t.font&&t.font.size,e8.font.size)+e.height}return 0}function sM(e,t,r,i,s){return e===i||e===s?{start:t-r/2,end:t+r/2}:e<i||e>s?{start:t-r,end:t}:{start:t,end:t+r}}function sN(e,t,r,i){let{ctx:s}=e;if(r)s.arc(e.xCenter,e.yCenter,t,0,eo);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let n=1;n<i;n++)r=e.getPointPosition(n,t),s.lineTo(r.x,r.y)}}class sT extends sk{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:e0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=tg(sj(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=B(e)&&!isNaN(e)?e:0,this.max=B(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/sj(this.options))}generateTickLabels(e){sk.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{let r=V(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let e=this.options;e.display&&e.pointLabels.display?function(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),i=[],s=[],n=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?ea/n:0;for(let c=0;c<n;c++){var l,d;let n=a.setContext(e.getPointLabelContext(c));s[c]=n.padding;let h=e.getPointPosition(c,e.drawingArea+s[c],o),u=tm(n.font),f=(l=e.ctx,d=F(d=e._pointLabels[c])?d:[d],{w:function(e,t,r,i){let s,n,a,o,l,d=(i=i||{}).data=i.data||{},c=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(d=i.data={},c=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let h=0,u=r.length;for(s=0;s<u;s++)if(null==(o=r[s])||F(o)){if(F(o))for(n=0,a=o.length;n<a;n++)null==(l=o[n])||F(l)||(h=e6(e,d,c,h,l))}else h=e6(e,d,c,h,o);e.restore();let f=c.length/2;if(f>r.length){for(s=0;s<f;s++)delete d[c[s]];c.splice(0,f)}return h}(l,u.string,d),h:d.length*u.lineHeight});i[c]=f;let p=eE(e.getIndexAngle(c)+o),g=Math.round(180/ea*p);!function(e,t,r,i,s){let n=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r)),o=0,l=0;i.start<t.l?(o=(t.l-i.start)/n,e.l=Math.min(e.l,t.l-o)):i.end>t.r&&(o=(i.end-t.r)/n,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/a,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}(r,t,p,sM(g,h.x,f.w,0,180),sM(g,h.y,f.h,90,270))}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){let i,s=[],n=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:l}=a.pointLabels,d={extra:sj(a)/2,additionalAngle:o?ea/n:0};for(let a=0;a<n;a++){d.padding=r[a],d.size=t[a];let n=function(e,t,r){var i,s,n,a,o,l,d;let c=e.drawingArea,{extra:h,additionalAngle:u,padding:f,size:p}=r,g=e.getPointPosition(t,c+h+f,u),m=Math.round(180/ea*eE(g.angle+eh)),b=(i=g.y,s=p.h,90===(n=m)||270===n?i-=s/2:(n>270||n<90)&&(i-=s),i),x=0===(a=m)||180===a?"center":a<180?"left":"right",y=(o=g.x,l=p.w,"right"===(d=x)?o-=l:"center"===d&&(o-=l/2),o);return{visible:!0,x:g.x,y:b,textAlign:x,left:y,top:b,right:y+p.w,bottom:b+p.h}}(e,a,d);s.push(n),"auto"===l&&(n.visible=function(e,t){if(!t)return!0;let{left:r,top:i,right:s,bottom:n}=e;return!(tr({x:r,y:i},t)||tr({x:r,y:n},t)||tr({x:s,y:i},t)||tr({x:s,y:n},t))}(n,i),n.visible&&(i=n))}return s}(e,i,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return eE(e*(eo/(this._pointLabels.length||1))+e_(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(L(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(L(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){var r;let i=t[e];return r=this.getContext(),tx(r,{label:i,index:e,type:"pointLabel"})}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-eh+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),sN(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e,t,r,i=this.ctx,s=this.options,{angleLines:n,grid:a,border:o}=s,l=this._pointLabels.length;if(s.pointLabels.display&&function(e,t){let{ctx:r,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){let t=e._pointLabelItems[s];if(!t.visible)continue;let n=i.setContext(e.getPointLabelContext(s));!function(e,t,r){let{left:i,top:s,right:n,bottom:a}=r,{backdropColor:o}=t;if(!L(o)){let r=tp(t.borderRadius),l=tg(t.backdropPadding);e.fillStyle=o;let d=i-l.left,c=s-l.top,h=n-i+l.width,u=a-s+l.height;Object.values(r).some(e=>0!==e)?(e.beginPath(),tl(e,{x:d,y:c,w:h,h:u,radius:r}),e.fill()):e.fillRect(d,c,h,u)}}(r,n,t);let a=tm(n.font),{x:o,y:l,textAlign:d}=t;to(r,e._pointLabels[s],o,l+a.lineHeight/2,a,{color:n.color,textAlign:d,textBaseline:"middle"})}}(this,l),a.display&&this.ticks.forEach((e,r)=>{if(0!==r||0===r&&this.min<0){t=this.getDistanceFromCenterForValue(e.value);let i=this.getContext(r),s=a.setContext(i),n=o.setContext(i);!function(e,t,r,i,s){let n=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;(a||i)&&o&&l&&!(r<0)&&(n.save(),n.strokeStyle=o,n.lineWidth=l,n.setLineDash(s.dash||[]),n.lineDashOffset=s.dashOffset,n.beginPath(),sN(e,r,a,i),n.closePath(),n.stroke(),n.restore())}(this,s,t,l,n)}}),n.display){for(i.save(),e=l-1;e>=0;e--){let a=n.setContext(this.getPointLabelContext(e)),{color:o,lineWidth:l}=a;l&&o&&(i.lineWidth=l,i.strokeStyle=o,i.setLineDash(a.borderDash),i.lineDashOffset=a.borderDashOffset,t=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),r=this.getPointPosition(e,t),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(r.x,r.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){let e,t,r=this.ctx,i=this.options,s=i.ticks;if(!s.display)return;let n=this.getIndexAngle(0);r.save(),r.translate(this.xCenter,this.yCenter),r.rotate(n),r.textAlign="center",r.textBaseline="middle",this.ticks.forEach((n,a)=>{if(0===a&&this.min>=0&&!i.reverse)return;let o=s.setContext(this.getContext(a)),l=tm(o.font);if(e=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){r.font=l.string,t=r.measureText(n.label).width,r.fillStyle=o.backdropColor;let i=tg(o.backdropPadding);r.fillRect(-t/2-i.left,-e-l.size/2-i.top,t+i.width,l.size+i.height)}to(r,n.label,0,-e,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),r.restore()}drawTitle(){}}let sC={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sD=Object.keys(sC);function sI(e,t){return e-t}function sL(e,t){if(L(t))return null;let r=e._adapter,{parser:i,round:s,isoWeekday:n}=e._parseOpts,a=t;return("function"==typeof i&&(a=i(a)),B(a)||(a="string"==typeof i?r.parse(a,i):r.parse(a)),null===a)?null:(s&&(a="week"===s&&(ex(n)||!0===n)?r.startOf(a,"isoWeek",n):r.startOf(a,s)),+a)}function sF(e,t,r,i){let s=sD.length;for(let n=sD.indexOf(e);n<s-1;++n){let e=sC[sD[n]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(s*e.size))<=i)return sD[n]}return sD[s-1]}function s$(e,t,r){if(r){if(r.length){let{lo:i,hi:s}=eP(r,t);e[r[i]>=t?r[i]:r[s]]=!0}}else e[t]=!0}function sB(e,t,r){let i,s,n=[],a={},o=t.length;for(i=0;i<o;++i)a[s=t[i]]=i,n.push({value:s,major:!1});return 0!==o&&r?function(e,t,r,i){let s,n,a=e._adapter,o=+a.startOf(t[0].value,i),l=t[t.length-1].value;for(s=o;s<=l;s=+a.add(s,1,i))(n=r[s])>=0&&(t[n].major=!0);return t}(e,n,a,r):n}class sz extends io{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let r=e.time||(e.time={}),i=this._adapter=new rj._date(e.adapters.date);i.init(t),Q(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:sL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,r=e.time.unit||"day",{min:i,max:s,minDefined:n,maxDefined:a}=this.getUserBounds();function o(e){n||isNaN(e.min)||(i=Math.min(i,e.min)),a||isNaN(e.max)||(s=Math.max(s,e.max))}n&&a||(o(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&o(this.getMinMax(!1))),i=B(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=B(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){let e=this.options,t=e.time,r=e.ticks,i="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let s=this.min,n=function(e,t,r){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>r;)s--;return i>0||s<e.length?e.slice(i,s):e}(i,s,this.max);return this._unit=t.unit||(r.autoSkip?sF(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,r,i,s){for(let n=sD.length-1;n>=sD.indexOf(r);n--){let r=sD[n];if(sC[r].common&&e._adapter.diff(s,i,r)>=t-1)return r}return sD[r?sD.indexOf(r):0]}(this,n.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=sD.indexOf(e)+1,r=sD.length;t<r;++t)if(sC[sD[t]].common)return sD[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&n.reverse(),sB(this,n,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,r,i=0,s=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,r=this.getDecimalForValue(e[e.length-1]),s=1===e.length?r:(r-this.getDecimalForValue(e[e.length-2]))/2);let n=e.length<3?.5:.25;i=eA(i,0,n),s=eA(s,0,n),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){let e,t,r=this._adapter,i=this.min,s=this.max,n=this.options,a=n.time,o=a.unit||sF(a.minUnit,i,s,this._getLabelCapacity(i)),l=U(n.ticks.stepSize,1),d="week"===o&&a.isoWeekday,c=ex(d)||!0===d,h={},u=i;if(c&&(u=+r.startOf(u,"isoWeek",d)),u=+r.startOf(u,c?"day":o),r.diff(s,i,o)>1e5*l)throw Error(i+" and "+s+" are too far apart with stepSize of "+l+" "+o);let f="data"===n.ticks.source&&this.getDataTimestamps();for(e=u,t=0;e<s;e=+r.add(e,l,o),t++)s$(h,e,f);return(e===s||"ticks"===n.bounds||1===t)&&s$(h,e,f),Object.keys(h).sort(sI).map(e=>+e)}getLabelForValue(e){let t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){let r=this.options.time.displayFormats,i=this._unit,s=t||r[i];return this._adapter.format(e,s)}_tickFormatFunction(e,t,r,i){let s=this.options,n=s.ticks.callback;if(n)return V(n,[e,t,r],this);let a=s.time.displayFormats,o=this._unit,l=this._majorUnit,d=o&&a[o],c=l&&a[l],h=r[t],u=l&&c&&h&&h.major;return this._adapter.format(e,i||(u?c:d))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)(i=e[t]).label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,r=this.ctx.measureText(e).width,i=e_(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),n=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*n,h:r*n+a*s}}_getLabelCapacity(e){let t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,sB(this,[e],this._majorUnit),i),n=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/n.w:this.height/n.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)r=r.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){let e,t,r=this._cache.labels||[];if(r.length)return r;let i=this.getLabels();for(e=0,t=i.length;e<t;++e)r.push(sL(this,i[e]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(e){return eC(e.sort(sI))}}function sU(e,t,r){let i,s,n,a,o=0,l=e.length-1;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=ej(e,"pos",t)),{pos:i,time:n}=e[o],{pos:s,time:a}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=ej(e,"time",t)),{time:i,pos:n}=e[o],{time:s,pos:a}=e[l]);let d=s-i;return d?n+(a-n)*(t-i)/d:n}class sH extends sz{static id="timeseries";static defaults=sz.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=sU(t,this.min),this._tableRange=sU(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let t,r,i,{min:s,max:n}=this,a=[],o=[];for(t=0,r=e.length;t<r;++t)(i=e[t])>=s&&i<=n&&a.push(i);if(a.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(t=0,r=a.length;t<r;++t)Math.round((a[t+1]+a[t-1])/2)!==(i=a[t])&&o.push({time:i,pos:t/(r-1)});return o}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e}getDecimalForValue(e){return(sU(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return sU(this._table,r*this._tableRange+this._minPos,!0)}}let sW="label";function sV(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function sq(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sW,i=[];e.datasets=t.map(t=>{let s=e.datasets.find(e=>e[r]===t[r]);return!s||!t.data||i.includes(s)?{...t}:(i.push(s),Object.assign(s,t),s)})}let sX=(0,n.forwardRef)(function(e,t){let{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:d,plugins:c=[],fallbackContent:h,updateMode:u,...f}=e,p=(0,n.useRef)(null),g=(0,n.useRef)(null),m=()=>{p.current&&(g.current=new iC(p.current,{type:o,data:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sW,r={labels:[],datasets:[]};return r.labels=e.labels,sq(r,e.datasets,t),r}(l,a),options:d&&{...d},plugins:c}),sV(t,g.current))},b=()=>{sV(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,n.useEffect)(()=>{!s&&g.current&&d&&function(e,t){let r=e.options;r&&t&&Object.assign(r,t)}(g.current,d)},[s,d]),(0,n.useEffect)(()=>{!s&&g.current&&(g.current.config.data.labels=l.labels)},[s,l.labels]),(0,n.useEffect)(()=>{!s&&g.current&&l.datasets&&sq(g.current.config.data,l.datasets,a)},[s,l.datasets]),(0,n.useEffect)(()=>{g.current&&(s?(b(),setTimeout(m)):g.current.update(u))},[s,d,l.labels,l.datasets,u]),(0,n.useEffect)(()=>{g.current&&(b(),setTimeout(m))},[o]),(0,n.useEffect)(()=>(m(),()=>b()),[]),n.createElement("canvas",{ref:p,role:"img",height:r,width:i,...f},h)}),sK=(iC.register(r_),(0,n.forwardRef)((e,t)=>n.createElement(sX,{...e,ref:t,type:"bar"})));var sG=r(40303);iC.register(sv,sS,i0,{id:"title",_element:sa,start(e,t,r){let i=new sa({ctx:e.ctx,options:r,chart:e});rV.configure(e,i,r),rV.addBox(e,i),e.titleBlock=i},stop(e){let t=e.titleBlock;rV.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){let i=e.titleBlock;rV.configure(e,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},{id:"tooltip",_element:sb,positioners:so,afterInit(e,t,r){r&&(e.tooltip=new sb({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){let r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},{id:"legend",_element:ss,start(e,t,r){let i=e.legend=new ss({ctx:e.ctx,options:r,chart:e});rV.configure(e,i,r),rV.addBox(e,i)},stop(e){rV.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){let i=e.legend;rV.configure(e,i,r),i.options=r},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){let i=t.datasetIndex,s=r.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:s,color:n,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{let l=e.controller.getStyle(r?0:void 0),d=tg(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:n,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}});let sY=({records:e})=>{let{theme:t}=(0,sG.D)(),r="dark"===t,[i,a]=(0,n.useState)(1024);(0,n.useEffect)(()=>{a(window.innerWidth);let e=()=>{a(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let o=i<640,l=(e=>{let t=new Map;return e.forEach(e=>{let r=new Date(e.date),i=r.getUTCFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),n=String(r.getUTCDate()).padStart(2,"0"),a=`${i}-${s}-${n}`,o=t.get(a);o?(o.total+=e.amount,o.categories.includes(e.category)||o.categories.push(e.category)):t.set(a,{total:e.amount,categories:[e.category],originalDate:e.date})}),Array.from(t.entries()).map(([e,t])=>({date:e,amount:t.total,categories:t.categories,originalDate:t.originalDate})).sort((e,t)=>new Date(e.originalDate).getTime()-new Date(t.originalDate).getTime())})(e),d=e=>e>200?{bg:r?"rgba(255, 99, 132, 0.3)":"rgba(255, 99, 132, 0.2)",border:r?"rgba(255, 99, 132, 0.8)":"rgba(255, 99, 132, 1)"}:e>100?{bg:r?"rgba(255, 206, 86, 0.3)":"rgba(255, 206, 86, 0.2)",border:r?"rgba(255, 206, 86, 0.8)":"rgba(255, 206, 86, 1)"}:e>50?{bg:r?"rgba(54, 162, 235, 0.3)":"rgba(54, 162, 235, 0.2)",border:r?"rgba(54, 162, 235, 0.8)":"rgba(54, 162, 235, 1)"}:{bg:r?"rgba(75, 192, 192, 0.3)":"rgba(75, 192, 192, 0.2)",border:r?"rgba(75, 192, 192, 0.8)":"rgba(75, 192, 192, 1)"},c={labels:l.map(e=>{let[,t,r]=e.date.split("-");return`${t}/${r}`}),datasets:[{data:l.map(e=>e.amount),backgroundColor:l.map(e=>d(e.amount).bg),borderColor:l.map(e=>d(e.amount).border),borderWidth:1,borderRadius:2}]},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:r?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)",titleColor:r?"#f9fafb":"#1f2937",bodyColor:r?"#d1d5db":"#374151",borderColor:r?"#374151":"#e5e7eb",borderWidth:1,cornerRadius:8,callbacks:{label:function(e){let t=l[e.dataIndex],r=t.categories.length>1?`Categories: ${t.categories.join(", ")}`:`Category: ${t.categories[0]}`;return[`Total: $${t.amount.toFixed(2)}`,r]}}}},scales:{x:{title:{display:!0,text:"Date",font:{size:o?12:14,weight:"bold"},color:r?"#d1d5db":"#2c3e50"},ticks:{font:{size:o?10:12},color:r?"#9ca3af":"#7f8c8d",maxRotation:45*!!o,minRotation:45*!!o},grid:{display:!1}},y:{title:{display:!0,text:"Amount ($)",font:{size:o?12:16,weight:"bold"},color:r?"#d1d5db":"#2c3e50"},ticks:{font:{size:o?10:12},color:r?"#9ca3af":"#7f8c8d",callback:function(e){return"$"+e}},grid:{color:r?"#374151":"#e0e0e0"},beginAtZero:!0}}};return(0,s.jsx)("div",{className:"relative w-full h-64 sm:h-72 md:h-80",children:(0,s.jsx)(sK,{data:c,options:h})})}},96197:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let n of(r&&(r=r.toLowerCase()),e)){var i,s;if(t===(null==(i=n.domain)?void 0:i.split(":",1)[0].toLowerCase())||r===n.defaultLocale.toLowerCase()||(null==(s=n.locales)?void 0:s.some(e=>e.toLowerCase()===r)))return n}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},96330:e=>{"use strict";e.exports=require("@prisma/client")},96947:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Alit Technologies Internship\\\\Front-end-Development\\\\expense_tracker_with_ai\\\\components\\\\RecordItem.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Alit Technologies Internship\\Front-end-Development\\expense_tracker_with_ai\\components\\RecordItem.tsx","default")},97295:(e,t,r)=>{"use strict";let i,s,n,a;r.r(t),r.d(t,{"00cee5191d287a2a59166852fb2874d00031c899b9":()=>ni,"401dbd97df416283b554f1b20ba88253fed7fabc30":()=>s6,"40f5d97f0f3508a3e640e8b7b2cd69e5d5564caa38":()=>ns,"7f62251e09cb957e7ac9cd7c8efb25d5a7a86d8fb6":()=>rp,"7fb3579ee67f7b4f4aa998046cece8b287e5cfc98b":()=>eP.y,"7fdc9da79e3845f8a1dc55d972899000c2936e5c5f":()=>na});var o,l,d,c,h,u,f,p,g,m,b,x,y,_,v,w,k,S,E,R,A,O,P,j,M,N,T,C,D,I,L,F,$,B,z,U,H,W,V,q,X,K,G,Y,J,Q,Z,ee,et,er,ei,es,en,ea,eo,el,ed,ec,eh,eu,ef,ep,eg,em,eb,ex,ey,e_,ev,ew,ek,eS,eE,eR,eA,eO,eP=r(3937),ej=r(91199);r(42087);var eM=r(69044),eN=r(90141),eT=r(61828),eC=r(86788),eD=r(33984);let eI=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch{return""}},eL=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?eI(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,eI(t)])),null,2)).join(", "),eF=(e,t)=>()=>{let r=[],i=!1;return{enable:()=>{i=!0},debug:(...e)=>{i&&r.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(i){var s,n;for(let i of(console.log((s=e,`[clerk debug start: ${s}]`)),r)){let e=t(i);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let r=new TextEncoder,i=new TextDecoder("utf-8"),s=r.encode(e).slice(0,4096);return i.decode(s).replace(/\uFFFD/g,"")}(e,4096)),console.log(e)}console.log((n=e,`[clerk debug end: ${n}] (@clerk/nextjs=6.30.1,next=${eD.rE},timestamp=${Math.round(new Date().getTime()/1e3)})`))}}}},e$=(e,t)=>(...r)=>{let i=("string"==typeof e?eF(e,eL):e)(),s=t(i);try{let e=s(...r);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(i.commit(),e)).catch(e=>{throw i.commit(),e});return i.commit(),e}catch(e){throw i.commit(),e}};var eB=r(31242),ez=r(65538),eU=r(33781),eH=r(58743);function eW(e){let t=JSON.stringify(e),r=new TextEncoder().encode(t);return eU.r0.stringify(r,{pad:!1})}async function eV(e,t,r){if(!r.algorithm)throw Error("No algorithm specified");let i=new TextEncoder,s=(0,eU.hJ)(r.algorithm);if(!s)return{errors:[new eH.xy(`Unsupported algorithm ${r.algorithm}`)]};let n=await (0,eU.Fh)(t,s,"sign"),a=r.header||{typ:"JWT"};a.alg=r.algorithm,e.iat=Math.floor(Date.now()/1e3);let o=eW(a),l=eW(e),d=`${o}.${l}`;try{let e=await eU.fA.crypto.subtle.sign(s,n,i.encode(d));return{data:`${d}.${eU.r0.stringify(new Uint8Array(e),{pad:!1})}`}}catch(e){return{errors:[new eH.xy(e?.message)]}}}(0,ez.C)(eU.J0);var eq=(0,ez.R)(eU.iU);(0,ez.C)(eV),(0,ez.C)(eU.nk);var eX=r(55880);r(20868),r(56270);var eK,eG,eY,eJ,eQ,eZ,e0,e1=r(51288),e2=r(23794),e5=r(25084),e4=Object.defineProperty,e3=(e,t,r)=>t in e?e4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,e8=(null==(eK="undefined"!=typeof globalThis?globalThis:void 0)?void 0:eK.crypto)||(null==(eG="undefined"!=typeof global?global:void 0)?void 0:eG.crypto)||(null==(eY="undefined"!=typeof window?window:void 0)?void 0:eY.crypto)||(null==(eJ="undefined"!=typeof self?self:void 0)?void 0:eJ.crypto)||(null==(eZ=null==(eQ="undefined"!=typeof frames?frames:void 0)?void 0:eQ[0])?void 0:eZ.crypto);e0=e8?e=>{let t=[];for(let r=0;r<e;r+=4)t.push(e8.getRandomValues(new Uint32Array(1))[0]);return new e7(t,e)}:e=>{let t=[],r=e=>{let t=e,r=0x3ade68b1;return()=>{let e=((r=36969*(65535&r)+(r>>16)|0)<<16)+(t=18e3*(65535&t)+(t>>16)|0)|0;return e/=0x100000000,(e+=.5)*(Math.random()>.5?1:-1)}};for(let i=0,s;i<e;i+=4){let e=r(0x100000000*(s||Math.random()));s=0x3ade67b7*e(),t.push(0x100000000*e()|0)}return new e7(t,e)};var e6=class{static create(...e){return new this(...e)}mixIn(e){return Object.assign(this,e)}clone(){let e=new this.constructor;return Object.assign(e,this),e}},e7=class extends e6{constructor(e=[],t=4*e.length){super();let r=e;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){let e=r.byteLength,t=[];for(let i=0;i<e;i+=1)t[i>>>2]|=r[i]<<24-i%4*8;this.words=t,this.sigBytes=e}else this.words=e,this.sigBytes=t}toString(e=e9){return e.stringify(this)}concat(e){let t=this.words,r=e.words,i=this.sigBytes,s=e.sigBytes;if(this.clamp(),i%4)for(let e=0;e<s;e+=1){let s=r[e>>>2]>>>24-e%4*8&255;t[i+e>>>2]|=s<<24-(i+e)%4*8}else for(let e=0;e<s;e+=4)t[i+e>>>2]=r[e>>>2];return this.sigBytes+=s,this}clamp(){let{words:e,sigBytes:t}=this;e[t>>>2]&=0xffffffff<<32-t%4*8,e.length=Math.ceil(t/4)}clone(){let e=super.clone.call(this);return e.words=this.words.slice(0),e}};((e,t,r)=>e3(e,"symbol"!=typeof t?t+"":t,r))(e7,"random",e0);var e9={stringify(e){let{words:t,sigBytes:r}=e,i=[];for(let e=0;e<r;e+=1){let r=t[e>>>2]>>>24-e%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse(e){let t=e.length,r=[];for(let i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new e7(r,t/2)}},te={stringify(e){let{words:t,sigBytes:r}=e,i=[];for(let e=0;e<r;e+=1){let r=t[e>>>2]>>>24-e%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse(e){let t=e.length,r=[];for(let i=0;i<t;i+=1)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new e7(r,t)}},tt={stringify(e){try{return decodeURIComponent(escape(te.stringify(e)))}catch{throw Error("Malformed UTF-8 data")}},parse:e=>te.parse(unescape(encodeURIComponent(e)))},tr=class extends e6{constructor(){super(),this._minBufferSize=0}reset(){this._data=new e7,this._nDataBytes=0}_append(e){let t=e;"string"==typeof t&&(t=tt.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(e){let t,{_data:r,blockSize:i}=this,s=r.words,n=r.sigBytes,a=n/(4*i),o=(a=e?Math.ceil(a):Math.max((0|a)-this._minBufferSize,0))*i,l=Math.min(4*o,n);if(o){for(let e=0;e<o;e+=i)this._doProcessBlock(s,e);t=s.splice(0,o),r.sigBytes-=l}return new e7(t,l)}clone(){let e=super.clone.call(this);return e._data=this._data.clone(),e}},ti=class extends tr{constructor(e){super(),this.blockSize=16,this.cfg=Object.assign(new e6,e),this.reset()}static _createHelper(e){return(t,r)=>new e(r).finalize(t)}static _createHmacHelper(e){return(t,r)=>new ts(e,r).finalize(t)}reset(){super.reset.call(this),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){return e&&this._append(e),this._doFinalize()}},ts=class extends e6{constructor(e,t){super();let r=new e;this._hasher=r;let i=t;"string"==typeof i&&(i=tt.parse(i));let s=r.blockSize,n=4*s;i.sigBytes>n&&(i=r.finalize(t)),i.clamp();let a=i.clone();this._oKey=a;let o=i.clone();this._iKey=o;let l=a.words,d=o.words;for(let e=0;e<s;e+=1)l[e]^=0x5c5c5c5c,d[e]^=0x36363636;a.sigBytes=n,o.sigBytes=n,this.reset()}reset(){let e=this._hasher;e.reset(),e.update(this._iKey)}update(e){return this._hasher.update(e),this}finalize(e){let t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}},tn=(e,t,r)=>{let i=[],s=0;for(let n=0;n<t;n+=1)if(n%4){let t=r[e.charCodeAt(n-1)]<<n%4*2|r[e.charCodeAt(n)]>>>6-n%4*2;i[s>>>2]|=t<<24-s%4*8,s+=1}return e7.create(i,s)},ta={stringify(e){let{words:t,sigBytes:r}=e,i=this._map;e.clamp();let s=[];for(let e=0;e<r;e+=3){let n=(t[e>>>2]>>>24-e%4*8&255)<<16|(t[e+1>>>2]>>>24-(e+1)%4*8&255)<<8|t[e+2>>>2]>>>24-(e+2)%4*8&255;for(let t=0;t<4&&e+.75*t<r;t+=1)s.push(i.charAt(n>>>6*(3-t)&63))}let n=i.charAt(64);if(n)for(;s.length%4;)s.push(n);return s.join("")},parse(e){let t=e.length,r=this._map,i=this._reverseMap;if(!i){this._reverseMap=[],i=this._reverseMap;for(let e=0;e<r.length;e+=1)i[r.charCodeAt(e)]=e}let s=r.charAt(64);if(s){let r=e.indexOf(s);-1!==r&&(t=r)}return tn(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},to=[];for(let e=0;e<64;e+=1)to[e]=0x100000000*Math.abs(Math.sin(e+1))|0;var tl=(e,t,r,i,s,n,a)=>{let o=e+(t&r|~t&i)+s+a;return(o<<n|o>>>32-n)+t},td=(e,t,r,i,s,n,a)=>{let o=e+(t&i|r&~i)+s+a;return(o<<n|o>>>32-n)+t},tc=(e,t,r,i,s,n,a)=>{let o=e+(t^r^i)+s+a;return(o<<n|o>>>32-n)+t},th=(e,t,r,i,s,n,a)=>{let o=e+(r^(t|~i))+s+a;return(o<<n|o>>>32-n)+t},tu=class extends ti{_doReset(){this._hash=new e7([0x67452301,0xefcdab89,0x98badcfe,0x10325476])}_doProcessBlock(e,t){for(let r=0;r<16;r+=1){let i=t+r,s=e[i];e[i]=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00}let r=this._hash.words,i=e[t+0],s=e[t+1],n=e[t+2],a=e[t+3],o=e[t+4],l=e[t+5],d=e[t+6],c=e[t+7],h=e[t+8],u=e[t+9],f=e[t+10],p=e[t+11],g=e[t+12],m=e[t+13],b=e[t+14],x=e[t+15],y=r[0],_=r[1],v=r[2],w=r[3];y=tl(y,_,v,w,i,7,to[0]),w=tl(w,y,_,v,s,12,to[1]),v=tl(v,w,y,_,n,17,to[2]),_=tl(_,v,w,y,a,22,to[3]),y=tl(y,_,v,w,o,7,to[4]),w=tl(w,y,_,v,l,12,to[5]),v=tl(v,w,y,_,d,17,to[6]),_=tl(_,v,w,y,c,22,to[7]),y=tl(y,_,v,w,h,7,to[8]),w=tl(w,y,_,v,u,12,to[9]),v=tl(v,w,y,_,f,17,to[10]),_=tl(_,v,w,y,p,22,to[11]),y=tl(y,_,v,w,g,7,to[12]),w=tl(w,y,_,v,m,12,to[13]),v=tl(v,w,y,_,b,17,to[14]),_=tl(_,v,w,y,x,22,to[15]),y=td(y,_,v,w,s,5,to[16]),w=td(w,y,_,v,d,9,to[17]),v=td(v,w,y,_,p,14,to[18]),_=td(_,v,w,y,i,20,to[19]),y=td(y,_,v,w,l,5,to[20]),w=td(w,y,_,v,f,9,to[21]),v=td(v,w,y,_,x,14,to[22]),_=td(_,v,w,y,o,20,to[23]),y=td(y,_,v,w,u,5,to[24]),w=td(w,y,_,v,b,9,to[25]),v=td(v,w,y,_,a,14,to[26]),_=td(_,v,w,y,h,20,to[27]),y=td(y,_,v,w,m,5,to[28]),w=td(w,y,_,v,n,9,to[29]),v=td(v,w,y,_,c,14,to[30]),_=td(_,v,w,y,g,20,to[31]),y=tc(y,_,v,w,l,4,to[32]),w=tc(w,y,_,v,h,11,to[33]),v=tc(v,w,y,_,p,16,to[34]),_=tc(_,v,w,y,b,23,to[35]),y=tc(y,_,v,w,s,4,to[36]),w=tc(w,y,_,v,o,11,to[37]),v=tc(v,w,y,_,c,16,to[38]),_=tc(_,v,w,y,f,23,to[39]),y=tc(y,_,v,w,m,4,to[40]),w=tc(w,y,_,v,i,11,to[41]),v=tc(v,w,y,_,a,16,to[42]),_=tc(_,v,w,y,d,23,to[43]),y=tc(y,_,v,w,u,4,to[44]),w=tc(w,y,_,v,g,11,to[45]),v=tc(v,w,y,_,x,16,to[46]),_=tc(_,v,w,y,n,23,to[47]),y=th(y,_,v,w,i,6,to[48]),w=th(w,y,_,v,c,10,to[49]),v=th(v,w,y,_,b,15,to[50]),_=th(_,v,w,y,l,21,to[51]),y=th(y,_,v,w,g,6,to[52]),w=th(w,y,_,v,a,10,to[53]),v=th(v,w,y,_,f,15,to[54]),_=th(_,v,w,y,s,21,to[55]),y=th(y,_,v,w,h,6,to[56]),w=th(w,y,_,v,x,10,to[57]),v=th(v,w,y,_,d,15,to[58]),_=th(_,v,w,y,m,21,to[59]),y=th(y,_,v,w,o,6,to[60]),w=th(w,y,_,v,p,10,to[61]),v=th(v,w,y,_,n,15,to[62]),_=th(_,v,w,y,u,21,to[63]),r[0]=r[0]+y|0,r[1]=r[1]+_|0,r[2]=r[2]+v|0,r[3]=r[3]+w|0}_doFinalize(){let e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;let s=Math.floor(r/0x100000000);t[(i+64>>>9<<4)+15]=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00,t[(i+64>>>9<<4)+14]=(r<<8|r>>>24)&0xff00ff|(r<<24|r>>>8)&0xff00ff00,e.sigBytes=(t.length+1)*4,this._process();let n=this._hash,a=n.words;for(let e=0;e<4;e+=1){let t=a[e];a[e]=(t<<8|t>>>24)&0xff00ff|(t<<24|t>>>8)&0xff00ff00}return n}clone(){let e=super.clone.call(this);return e._hash=this._hash.clone(),e}};ti._createHelper(tu),ti._createHmacHelper(tu);var tf=class extends e6{constructor(e){super(),this.cfg=Object.assign(new e6,{keySize:4,hasher:tu,iterations:1},e)}compute(e,t){let r,{cfg:i}=this,s=i.hasher.create(),n=e7.create(),a=n.words,{keySize:o,iterations:l}=i;for(;a.length<o;){r&&s.update(r),r=s.update(e).finalize(t),s.reset();for(let e=1;e<l;e+=1)r=s.finalize(r),s.reset();n.concat(r)}return n.sigBytes=4*o,n}},tp=class extends tr{constructor(e,t,r){super(),this.cfg=Object.assign(new e6,r),this._xformMode=e,this._key=t,this.reset()}static createEncryptor(e,t){return this.create(this._ENC_XFORM_MODE,e,t)}static createDecryptor(e,t){return this.create(this._DEC_XFORM_MODE,e,t)}static _createHelper(e){let t=e=>"string"==typeof e?tw:tv;return{encrypt:(r,i,s)=>t(i).encrypt(e,r,i,s),decrypt:(r,i,s)=>t(i).decrypt(e,r,i,s)}}reset(){super.reset.call(this),this._doReset()}process(e){return this._append(e),this._process()}finalize(e){return e&&this._append(e),this._doFinalize()}};tp._ENC_XFORM_MODE=1,tp._DEC_XFORM_MODE=2,tp.keySize=4,tp.ivSize=4;var tg=class extends e6{constructor(e,t){super(),this._cipher=e,this._iv=t}static createEncryptor(e,t){return this.Encryptor.create(e,t)}static createDecryptor(e,t){return this.Decryptor.create(e,t)}};function tm(e,t,r){let i,s=this._iv;s?(i=s,this._iv=void 0):i=this._prevBlock;for(let s=0;s<r;s+=1)e[t+s]^=i[s]}var tb=class extends tg{};tb.Encryptor=class extends tb{processBlock(e,t){let r=this._cipher,{blockSize:i}=r;tm.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}},tb.Decryptor=class extends tb{processBlock(e,t){let r=this._cipher,{blockSize:i}=r,s=e.slice(t,t+i);r.decryptBlock(e,t),tm.call(this,e,t,i),this._prevBlock=s}};var tx={pad(e,t){let r=4*t,i=r-e.sigBytes%r,s=i<<24|i<<16|i<<8|i,n=[];for(let e=0;e<i;e+=4)n.push(s);let a=e7.create(n,i);e.concat(a)},unpad(e){let t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},ty=class extends tp{constructor(e,t,r){super(e,t,Object.assign({mode:tb,padding:tx},r)),this.blockSize=4}reset(){let e;super.reset.call(this);let{cfg:t}=this,{iv:r,mode:i}=t;this._xformMode===this.constructor._ENC_XFORM_MODE?e=i.createEncryptor:(e=i.createDecryptor,this._minBufferSize=1),this._mode=e.call(i,this,r&&r.words),this._mode.__creator=e}_doProcessBlock(e,t){this._mode.processBlock(e,t)}_doFinalize(){let e,{padding:t}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e}},t_=class extends e6{constructor(e){super(),this.mixIn(e)}toString(e){return(e||this.formatter).stringify(this)}},tv=class extends e6{static encrypt(e,t,r,i){let s=Object.assign(new e6,this.cfg,i),n=e.createEncryptor(r,s),a=n.finalize(t),o=n.cfg;return t_.create({ciphertext:a,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:n.blockSize,formatter:s.format})}static decrypt(e,t,r,i){let s=t,n=Object.assign(new e6,this.cfg,i);return s=this._parse(s,n.format),e.createDecryptor(r,n).finalize(s.ciphertext)}static _parse(e,t){return"string"==typeof e?t.parse(e,this):e}};tv.cfg=Object.assign(new e6,{format:{stringify(e){let t,{ciphertext:r,salt:i}=e;return(i?e7.create([0x53616c74,0x65645f5f]).concat(i).concat(r):r).toString(ta)},parse(e){let t,r=ta.parse(e),i=r.words;return 0x53616c74===i[0]&&0x65645f5f===i[1]&&(t=e7.create(i.slice(2,4)),i.splice(0,4),r.sigBytes-=16),t_.create({ciphertext:r,salt:t})}}});var tw=class extends tv{static encrypt(e,t,r,i){let s=Object.assign(new e6,this.cfg,i),n=s.kdf.execute(r,e.keySize,e.ivSize,s.salt,s.hasher);s.iv=n.iv;let a=tv.encrypt.call(this,e,t,n.key,s);return a.mixIn(n),a}static decrypt(e,t,r,i){let s=t,n=Object.assign(new e6,this.cfg,i);s=this._parse(s,n.format);let a=n.kdf.execute(r,e.keySize,e.ivSize,s.salt,n.hasher);return n.iv=a.iv,tv.decrypt.call(this,e,s,a.key,n)}};tw.cfg=Object.assign(tv.cfg,{kdf:{execute(e,t,r,i,s){let n,a=i;a||(a=e7.random(8)),n=s?tf.create({keySize:t+r,hasher:s}).compute(e,a):tf.create({keySize:t+r}).compute(e,a);let o=e7.create(n.words.slice(t),4*r);return n.sigBytes=4*t,t_.create({key:n,iv:o,salt:a})}}});var tk=[],tS=[],tE=[],tR=[],tA=[],tO=[],tP=[],tj=[],tM=[],tN=[],tT=[];for(let e=0;e<256;e+=1)e<128?tT[e]=e<<1:tT[e]=e<<1^283;var tC=0,tD=0;for(let e=0;e<256;e+=1){let e=tD^tD<<1^tD<<2^tD<<3^tD<<4;e=e>>>8^255&e^99,tk[tC]=e,tS[e]=tC;let t=tT[tC],r=tT[t],i=tT[r],s=257*tT[e]^0x1010100*e;tE[tC]=s<<24|s>>>8,tR[tC]=s<<16|s>>>16,tA[tC]=s<<8|s>>>24,tO[tC]=s,s=0x1010101*i^65537*r^257*t^0x1010100*tC,tP[e]=s<<24|s>>>8,tj[e]=s<<16|s>>>16,tM[e]=s<<8|s>>>24,tN[e]=s,tC?(tC=t^tT[tT[tT[i^t]]],tD^=tT[tT[tD]]):tC=tD=1}var tI=[0,1,2,4,8,16,32,64,128,27,54],tL=class extends ty{_doReset(){let e;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;let t=this._keyPriorReset,r=t.words,i=t.sigBytes/4;this._nRounds=i+6;let s=(this._nRounds+1)*4;this._keySchedule=[];let n=this._keySchedule;for(let t=0;t<s;t+=1)t<i?n[t]=r[t]:(e=n[t-1],t%i?i>6&&t%i==4&&(e=tk[e>>>24]<<24|tk[e>>>16&255]<<16|tk[e>>>8&255]<<8|tk[255&e]):e=(tk[(e=e<<8|e>>>24)>>>24]<<24|tk[e>>>16&255]<<16|tk[e>>>8&255]<<8|tk[255&e])^tI[t/i|0]<<24,n[t]=n[t-i]^e);this._invKeySchedule=[];let a=this._invKeySchedule;for(let t=0;t<s;t+=1){let r=s-t;e=t%4?n[r]:n[r-4],t<4||r<=4?a[t]=e:a[t]=tP[tk[e>>>24]]^tj[tk[e>>>16&255]]^tM[tk[e>>>8&255]]^tN[tk[255&e]]}}encryptBlock(e,t){this._doCryptBlock(e,t,this._keySchedule,tE,tR,tA,tO,tk)}decryptBlock(e,t){let r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,tP,tj,tM,tN,tS),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r}_doCryptBlock(e,t,r,i,s,n,a,o){let l=this._nRounds,d=e[t]^r[0],c=e[t+1]^r[1],h=e[t+2]^r[2],u=e[t+3]^r[3],f=4;for(let e=1;e<l;e+=1){let e=i[d>>>24]^s[c>>>16&255]^n[h>>>8&255]^a[255&u]^r[f];f+=1;let t=i[c>>>24]^s[h>>>16&255]^n[u>>>8&255]^a[255&d]^r[f];f+=1;let o=i[h>>>24]^s[u>>>16&255]^n[d>>>8&255]^a[255&c]^r[f];f+=1;let l=i[u>>>24]^s[d>>>16&255]^n[c>>>8&255]^a[255&h]^r[f];f+=1,d=e,c=t,h=o,u=l}let p=(o[d>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&u])^r[f];f+=1;let g=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^r[f];f+=1;let m=(o[h>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&c])^r[f];f+=1;let b=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^r[f];f+=1,e[t]=p,e[t+1]=g,e[t+2]=m,e[t+3]=b}};tL.keySize=8;var tF=ty._createHelper(tL),t$=[],tB=class extends ti{_doReset(){this._hash=new e7([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0])}_doProcessBlock(e,t){let r=this._hash.words,i=r[0],s=r[1],n=r[2],a=r[3],o=r[4];for(let r=0;r<80;r+=1){if(r<16)t$[r]=0|e[t+r];else{let e=t$[r-3]^t$[r-8]^t$[r-14]^t$[r-16];t$[r]=e<<1|e>>>31}let l=(i<<5|i>>>27)+o+t$[r];r<20?l+=(s&n|~s&a)+0x5a827999:r<40?l+=(s^n^a)+0x6ed9eba1:r<60?l+=(s&n|s&a|n&a)-0x70e44324:l+=(s^n^a)-0x359d3e2a,o=a,a=n,n=s<<30|s>>>2,s=i,i=l}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+n|0,r[3]=r[3]+a|0,r[4]=r[4]+o|0}_doFinalize(){let e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=Math.floor(r/0x100000000),t[(i+64>>>9<<4)+15]=r,e.sigBytes=4*t.length,this._process(),this._hash}clone(){let e=super.clone.call(this);return e._hash=this._hash.clone(),e}},tz=(ti._createHelper(tB),ti._createHmacHelper(tB));let tU=(e="auth",t)=>`Clerk: ${e}() was called but Clerk can't detect usage of clerkMiddleware(). Please ensure the following:
- ${t?[...t,""].join("\n- "):" "}clerkMiddleware() is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/err/auth-middleware
`,tH=`Clerk: Unable to decrypt request data.

Refresh the page if your .env file was just updated. If the issue persists, ensure the encryption key is valid and properly set.

For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#dynamic-keys. (code=encryption_key_invalid)`,tW="x-middleware-override-headers",tV="x-middleware-request";function tq(e,t){if(!(0,eX.Zd)(e))throw Error(t)}let tX="clerk_keyless_dummy_key";function tK(e){if(!e)return{};let t=(0,e1.Fj)()?eT.o7||eT.rB:eT.o7||eT.rB||tX;try{return tY(e,t)}catch{if(e5.I)try{return tY(e,tX)}catch{tG()}tG()}}function tG(){if((0,e1.Fj)())throw Error("Clerk: Unable to decrypt request data, this usually means the encryption key is invalid. Ensure the encryption key is properly set. For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#dynamic-keys. (code=encryption_key_invalid)");throw Error(tH)}function tY(e,t){return JSON.parse(tF.decrypt(e,t).toString(tt))}let tJ=e=>({authStatus:(0,eX.NE)(e,"AuthStatus"),authToken:(0,eX.NE)(e,"AuthToken"),authMessage:(0,eX.NE)(e,"AuthMessage"),authReason:(0,eX.NE)(e,"AuthReason"),authSignature:(0,eX.NE)(e,"AuthSignature")}),tQ=(e,t,r=!0)=>{let i=tK((0,eX._b)(e,eM.AA.Headers.ClerkRequestData));return{secretKey:(null==t?void 0:t.secretKey)||i.secretKey||eT.rB,publishableKey:i.publishableKey||eT.At,apiUrl:eT.H$,apiVersion:eT.mG,authStatus:(0,eX.NE)(e,"AuthStatus"),authMessage:(0,eX.NE)(e,"AuthMessage"),authReason:(0,eX.NE)(e,"AuthReason"),treatPendingAsSignedOut:r}},tZ=(e,{treatPendingAsSignedOut:t=!0,...r}={})=>{var i,s;let{authStatus:n,authMessage:a,authReason:o,authToken:l,authSignature:d}=tJ(e);null==(i=r.logger)||i.debug("headers",{authStatus:n,authMessage:a,authReason:o});let c=tQ(e,r,t);if(!(0,eM.lv)(eM.ks.SessionToken,r.acceptsToken||eM.ks.SessionToken))return(0,eM.wI)(c);if(n&&n===eM.TD.SignedIn){!function(e,t,r){if(!r||tz(e,t).toString()!==r)throw Error("Clerk: Unable to verify request, this usually means the Clerk middleware did not run. Ensure Clerk's middleware is properly integrated and matches the current route. For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware. (code=auth_signature_invalid)")}(l,c.secretKey,d);let e=eq(l);return null==(s=r.logger)||s.debug("jwt",e.raw),(0,eM.Rn)(e,c)}return(0,eM.wI)(c)},t0=(e,t={})=>{var r,i;let{authStatus:s,authMessage:n,authReason:a}=tJ(e);null==(r=t.logger)||r.debug("headers",{authStatus:s,authMessage:n,authReason:a});let o=tK((0,eX._b)(e,eM.AA.Headers.ClerkRequestData)),l=null==(i=(0,eX._b)(e,eM.AA.Headers.Authorization))?void 0:i.replace("Bearer ",""),d=t.acceptsToken||eM.ks.SessionToken,c=tQ(e,t),h=t1(l,o.machineAuthObject,d,c);return h||(l&&Array.isArray(d)&&!d.includes(eM.ks.SessionToken)?(0,eM._)():tZ(e,t))},t1=(e,t,r,i)=>{let s=e&&(0,eM.KV)(e),n=r===eM.ks.SessionToken||Array.isArray(r)&&1===r.length&&r[0]===eM.ks.SessionToken;if(s&&t&&!n){let s=(0,eM.X9)({authObject:{...t,debug:()=>i},acceptsToken:r});return{...s,getToken:()=>s.isAuthenticated?Promise.resolve(e):Promise.resolve(null),has:()=>!1}}return null},t2=({debugLoggerName:e,noAuthStatusMessage:t})=>e$(e,e=>async(i,s)=>{if((0,eC.zz)((0,eX._b)(i,eM.AA.Headers.EnableDebug))&&e.enable(),!(0,eX.Zd)(i)){eB.M&&tq(i,t);let e=await r.e(870).then(r.bind(r,31870)).then(e=>e.suggestMiddlewareLocation()).catch(()=>void 0);if(e)throw Error(e);tq(i,t)}return((t,r={})=>t0(t,{...r,logger:e,acceptsToken:null==r?void 0:r.acceptsToken}))(i,{...s,logger:e,acceptsToken:null==s?void 0:s.acceptsToken})});(({debugLoggerName:e,noAuthStatusMessage:t})=>e$(e,e=>(r,i)=>((0,eC.zz)((0,eX._b)(r,eM.AA.Headers.EnableDebug))&&e.enable(),tq(r,t),((t,r={})=>tZ(t,{...r,logger:e,acceptsToken:null==r?void 0:r.acceptsToken}))(r,{...i,logger:e,acceptsToken:null==i?void 0:i.acceptsToken}))))({debugLoggerName:"getAuth()",noAuthStatusMessage:tU("getAuth")});let t5={REDIRECT_TO_URL:"CLERK_PROTECT_REDIRECT_TO_URL"},t4={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},t3=new Set(Object.values(t4)),t8="NEXT_HTTP_ERROR_FALLBACK",t6="NEXT_REDIRECT";function t7(){let e=Error(t8);throw e.digest=`${t8};${t4.UNAUTHORIZED}`,e}let t9={Headers:{NextRewrite:"x-middleware-rewrite",NextResume:"x-middleware-next",NextRedirect:"Location",NextUrl:"next-url",NextAction:"next-action",NextjsData:"x-nextjs-data"}},re=e=>{if(e&&!e.unauthenticatedUrl&&!e.unauthorizedUrl&&!e.token&&(1!==Object.keys(e).length||!("token"in e)))return e},rt=e=>{var t,r;return!!e.headers.get(t9.Headers.NextUrl)&&((null==(t=e.headers.get(eM.AA.Headers.Accept))?void 0:t.includes("text/x-component"))||(null==(r=e.headers.get(eM.AA.Headers.ContentType))?void 0:r.includes("multipart/form-data"))||!!e.headers.get(t9.Headers.NextAction))},rr=e=>{var t;return"document"===e.headers.get(eM.AA.Headers.SecFetchDest)||"iframe"===e.headers.get(eM.AA.Headers.SecFetchDest)||(null==(t=e.headers.get(eM.AA.Headers.Accept))?void 0:t.includes("text/html"))||ri(e)||rn(e)},ri=e=>!!e.headers.get(t9.Headers.NextUrl)&&!rt(e)||rs(),rs=()=>{let e=globalThis.fetch;if(!function(e){return"__nextPatched"in e&&!0===e.__nextPatched}(e))return!1;let{page:t,pagePath:r}=e.__nextGetStaticStore().getStore()||{};return!!(r||t)},rn=e=>!!e.headers.get(t9.Headers.NextjsData),ra=e=>{if(!(e instanceof Error)||!("message"in e))return!1;let{message:t}=e,r=t.toLowerCase(),i=r.includes("dynamic server usage"),s=r.includes("this page needs to bail out of prerendering");return/Route .*? needs to bail out of prerendering at this point because it used .*?./.test(t)||i||s};async function ro(){try{let{headers:e}=await Promise.resolve().then(r.bind(r,74208)),t=await e();return new e2.NextRequest("https://placeholder.com",{headers:t})}catch(e){if(e&&ra(e))throw e;throw Error(`Clerk: auth(), currentUser() and clerkClient(), are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}}let rl=async e=>{var t;r(54387);let i=await ro(),s=async()=>{if(eB.M)return[];try{let e=await r.e(870).then(r.bind(r,31870)).then(e=>e.hasSrcAppDir());return[`Your Middleware exists at ./${e?"src/":""}middleware.(ts|js)`]}catch{return[]}},n=await t2({debugLoggerName:"auth()",noAuthStatusMessage:tU("auth",await s())})(i,{treatPendingAsSignedOut:null==e?void 0:e.treatPendingAsSignedOut,acceptsToken:null!=(t=null==e?void 0:e.acceptsToken)?t:eM.ks.SessionToken}),a=(0,eX.NE)(i,"ClerkUrl"),o=(...e)=>{let{returnBackUrl:t}=e[0]||{},r=(0,eM.tl)(i),s=r.clerkUrl.searchParams.get(eM.AA.QueryParameters.DevBrowser)||r.cookies.get(eM.AA.Cookies.DevBrowser),o=tK((0,eX._b)(i,eM.AA.Headers.ClerkRequestData));return[(0,eM.vH)({redirectAdapter:eN.redirect,devBrowserToken:s,baseUrl:r.clerkUrl.toString(),publishableKey:o.publishableKey||eT.At,signInUrl:o.signInUrl||eT.qW,signUpUrl:o.signUpUrl||eT.sE,sessionStatus:n.tokenType===eM.ks.SessionToken?n.sessionStatus:null}),null===t?"":t||(null==a?void 0:a.toString())]};return n.tokenType===eM.ks.SessionToken?Object.assign(n,{redirectToSignIn:(e={})=>{let[t,r]=o(e);return t.redirectToSignIn({returnBackUrl:r})},redirectToSignUp:(e={})=>{let[t,r]=o(e);return t.redirectToSignUp({returnBackUrl:r})}}):n};rl.protect=async(...e)=>{var t,i;r(54387);let s=await ro(),n=(null==(t=null==e?void 0:e[0])?void 0:t.token)||(null==(i=null==e?void 0:e[1])?void 0:i.token)||eM.ks.SessionToken,a=await rl({acceptsToken:n});return(function(e){let{redirectToSignIn:t,authObject:r,redirect:i,notFound:s,request:n,unauthorized:a}=e;return async(...e)=>{var o,l,d,c,h,u;let f=re(e[0]),p=(null==(o=e[0])?void 0:o.unauthenticatedUrl)||(null==(l=e[1])?void 0:l.unauthenticatedUrl),g=(null==(d=e[0])?void 0:d.unauthorizedUrl)||(null==(c=e[1])?void 0:c.unauthorizedUrl),m=(null==(h=e[0])?void 0:h.token)||(null==(u=e[1])?void 0:u.token)||eM.ks.SessionToken,b=()=>r.tokenType!==eM.ks.SessionToken?a():g?i(g):s();return(0,eM.lv)(r.tokenType,m)?r.tokenType!==eM.ks.SessionToken?r.isAuthenticated?r:b():"pending"!==r.sessionStatus&&r.userId?f?"function"==typeof f?f(r.has)?r:b():r.has(f)?r:b():r:p?i(p):rr(n)?t():s():b()}})({request:s,authObject:a,redirectToSignIn:a.redirectToSignIn,notFound:eN.notFound,redirect:eN.redirect,unauthorized:t7})(...e)};var rd=r(96330);let rc=globalThis.prisma||new rd.PrismaClient;var rh=r(7944),ru=r(33331);async function rf(e){let t,r=e.get("text"),i=e.get("amount"),s=e.get("category"),n=e.get("date");if(!r||""===r||!i||!s||""===s||!n||""===n)return{error:"Text, amount, category, or date is missing"};let a=r.toString(),o=parseFloat(i.toString()),l=s.toString();try{let[e,r,i]=n.toString().split("-");t=new Date(Date.UTC(parseInt(e),parseInt(r)-1,parseInt(i),12,0,0)).toISOString()}catch(e){return console.error("Invalid date format:",e),{error:"Invalid date format"}}let{userId:d}=await rl();if(!d)return{error:"User not found"};try{let e=await rc.record.create({data:{text:a,amount:o,category:l,date:t,userId:d}}),r={text:e.text,amount:e.amount,category:e.category,date:e.date?.toISOString()||t};return(0,rh.revalidatePath)("/"),{data:r}}catch(e){return console.error("Error adding expense record:",e),{error:"An unexpected error occurred while adding the expense record."}}}let rp=rf;function rg(e,t,r,i,s){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,r):s?s.value=r:t.set(e,r),r}function rm(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)}(0,ru.D)([rf]),(0,ej.A)(rf,"7f62251e09cb957e7ac9cd7c8efb25d5a7a86d8fb6",null);let rb=function(){let{crypto:e}=globalThis;if(e?.randomUUID)return rb=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^r()&15>>e/4).toString(16))};function rx(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}let ry=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){let t=Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return Error(JSON.stringify(e))}catch{}}return Error(e)};class r_ extends Error{}class rv extends r_{constructor(e,t,r,i){super(`${rv.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=t,this.code=t?.code,this.param=t?.param,this.type=t?.type}static makeMessage(e,t,r){let i=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new rk({message:r,cause:ry(t)});let s=t?.error;return 400===e?new rE(e,s,r,i):401===e?new rR(e,s,r,i):403===e?new rA(e,s,r,i):404===e?new rO(e,s,r,i):409===e?new rP(e,s,r,i):422===e?new rj(e,s,r,i):429===e?new rM(e,s,r,i):e>=500?new rN(e,s,r,i):new rv(e,s,r,i)}}class rw extends rv{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class rk extends rv{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class rS extends rk{constructor({message:e}={}){super({message:e??"Request timed out."})}}class rE extends rv{}class rR extends rv{}class rA extends rv{}class rO extends rv{}class rP extends rv{}class rj extends rv{}class rM extends rv{}class rN extends rv{}class rT extends r_{constructor(){super("Could not parse response content as the length limit was reached")}}class rC extends r_{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class rD extends Error{constructor(e){super(e)}}let rI=/^[a-z][a-z0-9+.-]*:/i,rL=e=>rI.test(e),rF=e=>(rF=Array.isArray)(e),r$=rF;function rB(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}let rz=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new r_(`${e} must be an integer`);if(t<0)throw new r_(`${e} must be a positive integer`);return t},rU=e=>{try{return JSON.parse(e)}catch(e){return}},rH=e=>new Promise(t=>setTimeout(t,e)),rW="5.12.2",rV=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator,rq=()=>{let e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rW,"X-Stainless-OS":rK(Deno.build.os),"X-Stainless-Arch":rX(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rW,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rW,"X-Stainless-OS":rK(globalThis.process.platform??"unknown"),"X-Stainless-Arch":rX(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let t=function(){if("undefined"==typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let r=t.exec(navigator.userAgent);if(r){let t=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:e,version:`${t}.${i}.${s}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rW,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rW,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}},rX=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",rK=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown",rG=()=>i??(i=rq());function rY(...e){let t=globalThis.ReadableStream;if(void 0===t)throw Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function rJ(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return rY({start(){},async pull(e){let{done:r,value:i}=await t.next();r?e.close():e.enqueue(i)},async cancel(){await t.return?.()}})}function rQ(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function rZ(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await e[Symbol.asyncIterator]().return?.();let t=e.getReader(),r=t.cancel();t.releaseLock(),await r}let r0=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),r1="RFC3986",r2=e=>String(e),r5={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:r2},r4=(e,t)=>(r4=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty))(e,t),r3=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();function r8(e,t){if(rF(e)){let r=[];for(let i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)}let r6={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},r7=function(e,t){Array.prototype.push.apply(e,rF(t)?t:[t])},r9={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,r,i,s)=>{if(0===e.length)return e;let n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let a="";for(let e=0;e<n.length;e+=1024){let t=n.length>=1024?n.slice(e,e+1024):n,r=[];for(let e=0;e<t.length;++e){let i=t.charCodeAt(e);if(45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||"RFC1738"===s&&(40===i||41===i)){r[r.length]=t.charAt(e);continue}if(i<128){r[r.length]=r3[i];continue}if(i<2048){r[r.length]=r3[192|i>>6]+r3[128|63&i];continue}if(i<55296||i>=57344){r[r.length]=r3[224|i>>12]+r3[128|i>>6&63]+r3[128|63&i];continue}e+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(e)),r[r.length]=r3[240|i>>18]+r3[128|i>>12&63]+r3[128|i>>6&63]+r3[128|63&i]}a+=r.join("")}return a},encodeValuesOnly:!1,format:r1,formatter:r2,indices:!1,serializeDate:e=>(s??(s=Function.prototype.call.bind(Date.prototype.toISOString)))(e),skipNulls:!1,strictNullHandling:!1},ie={};function it(e){let t;return(n??(n=(t=new globalThis.TextEncoder).encode.bind(t)))(e)}function ir(e){let t;return(a??(a=(t=new globalThis.TextDecoder).decode.bind(t)))(e)}class ii{constructor(){o.set(this,void 0),l.set(this,void 0),rg(this,o,new Uint8Array,"f"),rg(this,l,null,"f")}decode(e){let t;if(null==e)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?it(e):e;rg(this,o,function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return r}([rm(this,o,"f"),r]),"f");let i=[];for(;null!=(t=function(e,t){for(let r=t??0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}(rm(this,o,"f"),rm(this,l,"f")));){if(t.carriage&&null==rm(this,l,"f")){rg(this,l,t.index,"f");continue}if(null!=rm(this,l,"f")&&(t.index!==rm(this,l,"f")+1||t.carriage)){i.push(ir(rm(this,o,"f").subarray(0,rm(this,l,"f")-1))),rg(this,o,rm(this,o,"f").subarray(rm(this,l,"f")),"f"),rg(this,l,null,"f");continue}let e=null!==rm(this,l,"f")?t.preceding-1:t.preceding,r=ir(rm(this,o,"f").subarray(0,e));i.push(r),rg(this,o,rm(this,o,"f").subarray(t.index),"f"),rg(this,l,null,"f")}return i}flush(){return rm(this,o,"f").length?this.decode("\n"):[]}}o=new WeakMap,l=new WeakMap,ii.NEWLINE_CHARS=new Set(["\n","\r"]),ii.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let is={off:0,error:200,warn:300,info:400,debug:500},ia=(e,t,r)=>{if(e){if(Object.prototype.hasOwnProperty.call(is,e))return e;ih(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(is))}`)}};function io(){}function il(e,t,r){return!t||is[e]>is[r]?io:t[e].bind(t)}let id={error:io,warn:io,info:io,debug:io},ic=new WeakMap;function ih(e){let t=e.logger,r=e.logLevel??"off";if(!t)return id;let i=ic.get(t);if(i&&i[0]===r)return i[1];let s={error:il("error",t,r),warn:il("warn",t,r),info:il("info",t,r),debug:il("debug",t,r)};return ic.set(t,[r,s]),s}let iu=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class ip{constructor(e,t,r){this.iterator=e,d.set(this,void 0),this.controller=t,rg(this,d,r,"f")}static fromSSEResponse(e,t,r){let i=!1,s=r?ih(r):console;async function*n(){if(i)throw new r_("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let r=!1;try{for await(let i of ig(e,t))if(!r){if(i.data.startsWith("[DONE]")){r=!0;continue}if(null!==i.event&&i.event.startsWith("thread.")){let e;try{e=JSON.parse(i.data)}catch(e){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),e}if("error"==i.event)throw new rv(void 0,e.error,e.message,void 0);yield{event:i.event,data:e}}else{let t;try{t=JSON.parse(i.data)}catch(e){throw s.error("Could not parse message into JSON:",i.data),s.error("From chunk:",i.raw),e}if(t&&t.error)throw new rv(void 0,t.error,void 0,e.headers);yield t}}r=!0}catch(e){if(rx(e))return;throw e}finally{r||t.abort()}}return new ip(n,t,r)}static fromReadableStream(e,t,r){let i=!1;async function*s(){let t=new ii;for await(let r of rQ(e))for(let e of t.decode(r))yield e;for(let e of t.flush())yield e}return new ip(async function*(){if(i)throw new r_("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let e=!1;try{for await(let t of s())!e&&t&&(yield JSON.parse(t));e=!0}catch(e){if(rx(e))return;throw e}finally{e||t.abort()}},t,r)}[(d=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],t=[],r=this.iterator(),i=i=>({next:()=>{if(0===i.length){let i=r.next();e.push(i),t.push(i)}return i.shift()}});return[new ip(()=>i(e),this.controller,rm(this,d,"f")),new ip(()=>i(t),this.controller,rm(this,d,"f"))]}toReadableStream(){let e,t=this;return rY({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{let{value:r,done:i}=await e.next();if(i)return t.close();let s=it(JSON.stringify(r)+"\n");t.enqueue(s)}catch(e){t.error(e)}},async cancel(){await e.return?.()}})}}async function*ig(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new r_("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new r_("Attempted to iterate over a response with no body")}let r=new ib,i=new ii;for await(let t of im(rQ(e.body)))for(let e of i.decode(t)){let t=r.decode(e);t&&(yield t)}for(let e of i.flush()){let t=r.decode(e);t&&(yield t)}}async function*im(e){let t=new Uint8Array;for await(let r of e){let e;if(null==r)continue;let i=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?it(r):r,s=new Uint8Array(t.length+i.length);for(s.set(t),s.set(i,t.length),t=s;-1!==(e=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1]||13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return -1}(t));)yield t.slice(0,e),t=t.slice(e)}t.length>0&&(yield t)}class ib{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=function(e,t){let r=e.indexOf(":");return -1!==r?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}(e,":");return i.startsWith(" ")&&(i=i.substring(1)),"event"===t?this.event=i:"data"===t&&this.data.push(i),null}}async function ix(e,t){let{response:r,requestLogID:i,retryOfRequestLogID:s,startTime:n}=t,a=await (async()=>{if(t.options.stream)return(ih(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass)?t.options.__streamClass.fromSSEResponse(r,t.controller,e):ip.fromSSEResponse(r,t.controller,e);if(204===r.status)return null;if(t.options.__binaryResponse)return r;let i=r.headers.get("content-type"),s=i?.split(";")[0]?.trim();return s?.includes("application/json")||s?.endsWith("+json")?iy(await r.json(),r):await r.text()})();return ih(e).debug(`[${i}] response parsed`,iu({retryOfRequestLogID:s,url:r.url,status:r.status,body:a,durationMs:Date.now()-n})),a}function iy(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class i_ extends Promise{constructor(e,t,r=ix){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=r,c.set(this,void 0),rg(this,c,e,"f")}_thenUnwrap(e){return new i_(rm(this,c,"f"),this.responsePromise,async(t,r)=>iy(e(await this.parseResponse(t,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(rm(this,c,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}c=new WeakMap;class iv{constructor(e,t,r,i){h.set(this,void 0),rg(this,h,e,"f"),this.options=i,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new r_("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await rm(this,h,"f").requestAPIList(this.constructor,e)}async *iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async *[(h=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let t of e.getPaginatedItems())yield t}}class iw extends i_{constructor(e,t,r){super(e,t,async(e,t)=>new r(e,t.response,await ix(e,t),t.options))}async *[Symbol.asyncIterator](){for await(let e of(await this))yield e}}class ik extends iv{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class iS extends iv{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){var e;let t=this.getPaginatedItems(),r=t[t.length-1]?.id;return r?{...this.options,query:{..."object"!=typeof(e=this.options.query)?{}:e??{},after:r}}:null}}let iE=()=>{if("undefined"==typeof File){let{process:e}=globalThis;throw Error("`File` is not defined as a global, which is required for file uploads."+("string"==typeof e?.versions?.node&&20>parseInt(e.versions.node.split("."))?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function iR(e,t,r){return iE(),new File(e,t??"unknown_file",r)}function iA(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}let iO=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],iP=async(e,t)=>({...e,body:await iM(e.body,t)}),ij=new WeakMap,iM=async(e,t)=>{if(!await function(e){let t="function"==typeof e?e:e.fetch,r=ij.get(t);if(r)return r;let i=(async()=>{try{let e="Response"in t?t.Response:(await t("data:,")).constructor,r=new FormData;if(r.toString()===await new e(r).text())return!1;return!0}catch{return!0}})();return ij.set(t,i),i}(t))throw TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let r=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>iD(r,e,t))),r},iN=e=>e instanceof Blob&&"name"in e,iT=e=>"object"==typeof e&&null!==e&&(e instanceof Response||iO(e)||iN(e)),iC=e=>{if(iT(e))return!0;if(Array.isArray(e))return e.some(iC);if(e&&"object"==typeof e){for(let t in e)if(iC(e[t]))return!0}return!1},iD=async(e,t,r)=>{if(void 0!==r){if(null==r)throw TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)e.append(t,String(r));else if(r instanceof Response)e.append(t,iR([await r.blob()],iA(r)));else if(iO(r))e.append(t,iR([await new Response(rJ(r)).blob()],iA(r)));else if(iN(r))e.append(t,r,iA(r));else if(Array.isArray(r))await Promise.all(r.map(r=>iD(e,t+"[]",r)));else if("object"==typeof r)await Promise.all(Object.entries(r).map(([r,i])=>iD(e,`${t}[${r}]`,i)));else throw TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},iI=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,iL=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&iI(e),iF=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob;async function i$(e,t,r){if(iE(),iL(e=await e))return e instanceof File?e:iR([await e.arrayBuffer()],e.name);if(iF(e)){let i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),iR(await iB(i),t,r)}let i=await iB(e);if(t||(t=iA(e)),!r?.type){let e=i.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(r={...r,type:e})}return iR(i,t,r)}async function iB(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(iI(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(iO(e))for await(let r of e)t.push(...await iB(r));else{let t=e?.constructor?.name;throw Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";let t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}return t}class iz{constructor(e){this._client=e}}function iU(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}let iH=Object.freeze(Object.create(null)),iW=((e=iU)=>function(t,...r){let i;if(1===t.length)return t[0];let s=!1,n=[],a=t.reduce((t,i,a)=>{/[?#]/.test(i)&&(s=!0);let o=r[a],l=(s?encodeURIComponent:e)(""+o);return a!==r.length&&(null==o||"object"==typeof o&&o.toString===Object.getPrototypeOf(Object.getPrototypeOf(o.hasOwnProperty??iH)??iH)?.toString)&&(l=o+"",n.push({start:t.length+i.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(o).slice(8,-1)} is not a valid path parameter`})),t+i+(a===r.length?"":l)},""),o=a.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;for(;null!==(i=l.exec(o));)n.push({start:i.index,length:i[0].length,error:`Value "${i[0]}" can't be safely passed as a path parameter`});if(n.sort((e,t)=>e.start-t.start),n.length>0){let e=0,t=n.reduce((t,r)=>{let i=" ".repeat(r.start-e),s="^".repeat(r.length);return e=r.start+r.length,t+i+s},"");throw new r_(`Path parameters result in path with invalid segments:
${n.map(e=>e.error).join("\n")}
${a}
${t}`)}return a})(iU);class iV extends iz{list(e,t={},r){return this._client.getAPIList(iW`/chat/completions/${e}/messages`,iS,{query:t,...r})}}function iq(e){return void 0!==e&&"function"in e&&void 0!==e.function}function iX(e){return e?.$brand==="auto-parseable-response-format"}function iK(e){return e?.$brand==="auto-parseable-tool"}function iG(e,t){let r=e.choices.map(e=>{var r,i;if("length"===e.finish_reason)throw new rT;if("content_filter"===e.finish_reason)throw new rC;return iJ(e.message.tool_calls),{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map(e=>(function(e,t){let r=e.tools?.find(e=>iq(e)&&e.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:iK(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}})(t,e))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?(r=t,i=e.message.content,r.response_format?.type!=="json_schema"?null:r.response_format?.type==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(i):JSON.parse(i):null):null}}});return{...e,choices:r}}function iY(e){return!!iX(e.response_format)||(e.tools?.some(e=>iK(e)||"function"===e.type&&!0===e.function.strict)??!1)}function iJ(e){for(let t of e||[])if("function"!==t.type)throw new r_(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}let iQ=e=>e?.role==="assistant",iZ=e=>e?.role==="tool";class i0{constructor(){u.add(this),this.controller=new AbortController,f.set(this,void 0),p.set(this,()=>{}),g.set(this,()=>{}),m.set(this,void 0),b.set(this,()=>{}),x.set(this,()=>{}),y.set(this,{}),_.set(this,!1),v.set(this,!1),w.set(this,!1),k.set(this,!1),rg(this,f,new Promise((e,t)=>{rg(this,p,e,"f"),rg(this,g,t,"f")}),"f"),rg(this,m,new Promise((e,t)=>{rg(this,b,e,"f"),rg(this,x,t,"f")}),"f"),rm(this,f,"f").catch(()=>{}),rm(this,m,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},rm(this,u,"m",S).bind(this))},0)}_connected(){this.ended||(rm(this,p,"f").call(this),this._emit("connect"))}get ended(){return rm(this,_,"f")}get errored(){return rm(this,v,"f")}get aborted(){return rm(this,w,"f")}abort(){this.controller.abort()}on(e,t){return(rm(this,y,"f")[e]||(rm(this,y,"f")[e]=[])).push({listener:t}),this}off(e,t){let r=rm(this,y,"f")[e];if(!r)return this;let i=r.findIndex(e=>e.listener===t);return i>=0&&r.splice(i,1),this}once(e,t){return(rm(this,y,"f")[e]||(rm(this,y,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{rg(this,k,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){rg(this,k,!0,"f"),await rm(this,m,"f")}_emit(e,...t){if(rm(this,_,"f"))return;"end"===e&&(rg(this,_,!0,"f"),rm(this,b,"f").call(this));let r=rm(this,y,"f")[e];if(r&&(rm(this,y,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){let e=t[0];rm(this,k,"f")||r?.length||Promise.reject(e),rm(this,g,"f").call(this,e),rm(this,x,"f").call(this,e),this._emit("end");return}if("error"===e){let e=t[0];rm(this,k,"f")||r?.length||Promise.reject(e),rm(this,g,"f").call(this,e),rm(this,x,"f").call(this,e),this._emit("end")}}_emitFinal(){}}f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,x=new WeakMap,y=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakMap,k=new WeakMap,u=new WeakSet,S=function(e){if(rg(this,v,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new rw),e instanceof rw)return rg(this,w,!0,"f"),this._emit("abort",e);if(e instanceof r_)return this._emit("error",e);if(e instanceof Error){let t=new r_(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new r_(String(e)))};class i1 extends i0{constructor(){super(...arguments),E.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),iZ(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(iQ(e)&&e.tool_calls)for(let t of e.tool_calls)"function"===t.type&&this._emit("functionToolCall",t.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new r_("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),rm(this,E,"m",R).call(this)}async finalMessage(){return await this.done(),rm(this,E,"m",A).call(this)}async finalFunctionToolCall(){return await this.done(),rm(this,E,"m",O).call(this)}async finalFunctionToolCallResult(){return await this.done(),rm(this,E,"m",P).call(this)}async totalUsage(){return await this.done(),rm(this,E,"m",j).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let t=rm(this,E,"m",A).call(this);t&&this._emit("finalMessage",t);let r=rm(this,E,"m",R).call(this);r&&this._emit("finalContent",r);let i=rm(this,E,"m",O).call(this);i&&this._emit("finalFunctionToolCall",i);let s=rm(this,E,"m",P).call(this);null!=s&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",rm(this,E,"m",j).call(this))}async _createChatCompletion(e,t,r){let i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),rm(this,E,"m",M).call(this,t);let s=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(iG(s,t))}async _runChatCompletion(e,t,r){for(let e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,r)}async _runTools(e,t,r){let i="tool",{tool_choice:s="auto",stream:n,...a}=t,o="string"!=typeof s&&"function"===s.type&&s?.function?.name,{maxChatCompletions:l=10}=r||{},d=t.tools.map(e=>{if(iK(e)){if(!e.$callback)throw new r_("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),c={};for(let e of d)"function"===e.type&&(c[e.function.name||e.function.function.name]=e.function);let h="tools"in t?d.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(let e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){let t=await this._createChatCompletion(e,{...a,tool_choice:s,tools:h,messages:[...this.messages]},r),n=t.choices[0]?.message;if(!n)throw new r_("missing message in ChatCompletion response");if(!n.tool_calls?.length)break;for(let e of n.tool_calls){let t;if("function"!==e.type)continue;let r=e.id,{name:s,arguments:n}=e.function,a=c[s];if(a){if(o&&o!==s){let e=`Invalid tool_call: ${JSON.stringify(s)}. ${JSON.stringify(o)} requested. Please try again`;this._addMessage({role:i,tool_call_id:r,content:e});continue}}else{let e=`Invalid tool_call: ${JSON.stringify(s)}. Available options are: ${Object.keys(c).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:r,content:e});continue}try{t="function"==typeof a.parse?await a.parse(n):n}catch(t){let e=t instanceof Error?t.message:String(t);this._addMessage({role:i,tool_call_id:r,content:e});continue}let l=await a.function(t,this),d=rm(this,E,"m",N).call(this,l);if(this._addMessage({role:i,tool_call_id:r,content:d}),o)return}}}}E=new WeakSet,R=function(){return rm(this,E,"m",A).call(this).content??null},A=function(){let e=this.messages.length;for(;e-- >0;){let t=this.messages[e];if(iQ(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new r_("stream ended without producing a ChatCompletionMessage with role=assistant")},O=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(iQ(t)&&t?.tool_calls?.length)return t.tool_calls.filter(e=>"function"===e.type).at(-1)?.function}},P=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(iZ(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},j=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},M=function(e){if(null!=e.n&&e.n>1)throw new r_("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},N=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class i2 extends i1{static runTools(e,t,r){let i=new i2,s={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,s)),i}_addMessage(e,t=!0){super._addMessage(e,t),iQ(e)&&e.content&&this._emit("content",e.content)}}let i5={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,ALL:511};class i4 extends Error{}class i3 extends Error{}let i8=(e,t)=>{let r=e.length,i=0,s=e=>{throw new i4(`${e} at position ${i}`)},n=e=>{throw new i3(`${e} at position ${i}`)},a=()=>(h(),i>=r&&s("Unexpected end of input"),'"'===e[i])?o():"{"===e[i]?l():"["===e[i]?d():"null"===e.substring(i,i+4)||i5.NULL&t&&r-i<4&&"null".startsWith(e.substring(i))?(i+=4,null):"true"===e.substring(i,i+4)||i5.BOOL&t&&r-i<4&&"true".startsWith(e.substring(i))?(i+=4,!0):"false"===e.substring(i,i+5)||i5.BOOL&t&&r-i<5&&"false".startsWith(e.substring(i))?(i+=5,!1):"Infinity"===e.substring(i,i+8)||i5.INFINITY&t&&r-i<8&&"Infinity".startsWith(e.substring(i))?(i+=8,1/0):"-Infinity"===e.substring(i,i+9)||i5.MINUS_INFINITY&t&&1<r-i&&r-i<9&&"-Infinity".startsWith(e.substring(i))?(i+=9,-1/0):"NaN"===e.substring(i,i+3)||i5.NAN&t&&r-i<3&&"NaN".startsWith(e.substring(i))?(i+=3,NaN):c(),o=()=>{let a=i,o=!1;for(i++;i<r&&('"'!==e[i]||o&&"\\"===e[i-1]);)o="\\"===e[i]&&!o,i++;if('"'==e.charAt(i))try{return JSON.parse(e.substring(a,++i-Number(o)))}catch(e){n(String(e))}else if(i5.STR&t)try{return JSON.parse(e.substring(a,i-Number(o))+'"')}catch(t){return JSON.parse(e.substring(a,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{i++,h();let n={};try{for(;"}"!==e[i];){if(h(),i>=r&&i5.OBJ&t)return n;let s=o();h(),i++;try{let e=a();Object.defineProperty(n,s,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(i5.OBJ&t)return n;throw e}h(),","===e[i]&&i++}}catch(e){if(i5.OBJ&t)return n;s("Expected '}' at end of object")}return i++,n},d=()=>{i++;let r=[];try{for(;"]"!==e[i];)r.push(a()),h(),","===e[i]&&i++}catch(e){if(i5.ARR&t)return r;s("Expected ']' at end of array")}return i++,r},c=()=>{if(0===i){"-"===e&&i5.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(r){if(i5.NUM&t)try{if("."===e[e.length-1])return JSON.parse(e.substring(0,e.lastIndexOf(".")));return JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}n(String(r))}}let a=i;for("-"===e[i]&&i++;e[i]&&!",]}".includes(e[i]);)i++;i!=r||i5.NUM&t||s("Unterminated number literal");try{return JSON.parse(e.substring(a,i))}catch(r){"-"===e.substring(a,i)&&i5.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(a,e.lastIndexOf("e")))}catch(e){n(String(e))}}},h=()=>{for(;i<r&&" \n\r	".includes(e[i]);)i++};return a()},i6=e=>(function(e,t=i5.ALL){if("string"!=typeof e)throw TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw Error(`${e} is empty`);return i8(e.trim(),t)})(e,i5.ALL^i5.NUM);class i7 extends i1{constructor(e){super(),T.add(this),C.set(this,void 0),D.set(this,void 0),I.set(this,void 0),rg(this,C,e,"f"),rg(this,D,[],"f")}get currentChatCompletionSnapshot(){return rm(this,I,"f")}static fromReadableStream(e){let t=new i7(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){let i=new i7(t);return i._run(()=>i._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,t,r){super._createChatCompletion;let i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),rm(this,T,"m",L).call(this);let s=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});for await(let e of(this._connected(),s))rm(this,T,"m",$).call(this,e);if(s.controller.signal?.aborted)throw new rw;return this._addChatCompletion(rm(this,T,"m",U).call(this))}async _fromReadableStream(e,t){let r,i=t?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),rm(this,T,"m",L).call(this),this._connected();let s=ip.fromReadableStream(e,this.controller);for await(let e of s)r&&r!==e.id&&this._addChatCompletion(rm(this,T,"m",U).call(this)),rm(this,T,"m",$).call(this,e),r=e.id;if(s.controller.signal?.aborted)throw new rw;return this._addChatCompletion(rm(this,T,"m",U).call(this))}[(C=new WeakMap,D=new WeakMap,I=new WeakMap,T=new WeakSet,L=function(){this.ended||rg(this,I,void 0,"f")},F=function(e){let t=rm(this,D,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},rm(this,D,"f")[e.index]=t),t},$=function(e){if(this.ended)return;let t=rm(this,T,"m",W).call(this,e);for(let r of(this._emit("chunk",e,t),e.choices)){let e=t.choices[r.index];null!=r.delta.content&&e.message?.role==="assistant"&&e.message?.content&&(this._emit("content",r.delta.content,e.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=r.delta.refusal&&e.message?.role==="assistant"&&e.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:e.message.refusal}),r.logprobs?.content!=null&&e.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:e.logprobs?.content??[]}),r.logprobs?.refusal!=null&&e.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});let i=rm(this,T,"m",F).call(this,e);for(let t of(e.finish_reason&&(rm(this,T,"m",z).call(this,e),null!=i.current_tool_call_index&&rm(this,T,"m",B).call(this,e,i.current_tool_call_index)),r.delta.tool_calls??[]))i.current_tool_call_index!==t.index&&(rm(this,T,"m",z).call(this,e),null!=i.current_tool_call_index&&rm(this,T,"m",B).call(this,e,i.current_tool_call_index)),i.current_tool_call_index=t.index;for(let t of r.delta.tool_calls??[]){let r=e.message.tool_calls?.[t.index];r?.type&&(r?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:r.function?.name,index:t.index,arguments:r.function.arguments,parsed_arguments:r.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):r?.type)}}},B=function(e,t){if(rm(this,T,"m",F).call(this,e).done_tool_calls.has(t))return;let r=e.message.tool_calls?.[t];if(!r)throw Error("no tool call snapshot");if(!r.type)throw Error("tool call snapshot missing `type`");if("function"===r.type){let e=rm(this,C,"f")?.tools?.find(e=>iq(e)&&e.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:iK(e)?e.$parseRaw(r.function.arguments):e?.function.strict?JSON.parse(r.function.arguments):null})}else r.type},z=function(e){let t=rm(this,T,"m",F).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;let r=rm(this,T,"m",H).call(this);this._emit("content.done",{content:e.message.content,parsed:r?r.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},U=function(){if(this.ended)throw new r_("stream has ended, this shouldn't happen");let e=rm(this,I,"f");if(!e)throw new r_("request ended without sending any chunks");return rg(this,I,void 0,"f"),rg(this,D,[],"f"),function(e,t){var r;let{id:i,choices:s,created:n,model:a,system_fingerprint:o,...l}=e;return r={...l,id:i,choices:s.map(({message:t,finish_reason:r,index:i,logprobs:s,...n})=>{if(!r)throw new r_(`missing finish_reason for choice ${i}`);let{content:a=null,function_call:o,tool_calls:l,...d}=t,c=t.role;if(!c)throw new r_(`missing role for choice ${i}`);if(o){let{arguments:e,name:l}=o;if(null==e)throw new r_(`missing function_call.arguments for choice ${i}`);if(!l)throw new r_(`missing function_call.name for choice ${i}`);return{...n,message:{content:a,function_call:{arguments:e,name:l},role:c,refusal:t.refusal??null},finish_reason:r,index:i,logprobs:s}}return l?{...n,index:i,finish_reason:r,logprobs:s,message:{...d,role:c,content:a,refusal:t.refusal??null,tool_calls:l.map((t,r)=>{let{function:s,type:n,id:a,...o}=t,{arguments:l,name:d,...c}=s||{};if(null==a)throw new r_(`missing choices[${i}].tool_calls[${r}].id
${i9(e)}`);if(null==n)throw new r_(`missing choices[${i}].tool_calls[${r}].type
${i9(e)}`);if(null==d)throw new r_(`missing choices[${i}].tool_calls[${r}].function.name
${i9(e)}`);if(null==l)throw new r_(`missing choices[${i}].tool_calls[${r}].function.arguments
${i9(e)}`);return{...o,id:a,type:n,function:{...c,name:d,arguments:l}}})}}:{...n,message:{...d,content:a,role:c,refusal:t.refusal??null},finish_reason:r,index:i,logprobs:s}}),created:n,model:a,object:"chat.completion",...o?{system_fingerprint:o}:{}},t&&iY(t)?iG(r,t):{...r,choices:r.choices.map(e=>(iJ(e.message.tool_calls),{...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}}))}}(e,rm(this,C,"f"))},H=function(){let e=rm(this,C,"f")?.response_format;return iX(e)?e:null},W=function(e){var t,r,i,s;let n=rm(this,I,"f"),{choices:a,...o}=e;for(let{delta:a,finish_reason:l,index:d,logprobs:c=null,...h}of(n?Object.assign(n,o):n=rg(this,I,{...o,choices:[]},"f"),e.choices)){let e=n.choices[d];if(e||(e=n.choices[d]={finish_reason:l,index:d,message:{},logprobs:c,...h}),c)if(e.logprobs){let{content:i,refusal:s,...n}=c;Object.assign(e.logprobs,n),i&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...i)),s&&((r=e.logprobs).refusal??(r.refusal=[]),e.logprobs.refusal.push(...s))}else e.logprobs=Object.assign({},c);if(l&&(e.finish_reason=l,rm(this,C,"f")&&iY(rm(this,C,"f")))){if("length"===l)throw new rT;if("content_filter"===l)throw new rC}if(Object.assign(e,h),!a)continue;let{content:o,refusal:u,function_call:f,role:p,tool_calls:g,...m}=a;if(Object.assign(e.message,m),u&&(e.message.refusal=(e.message.refusal||"")+u),p&&(e.message.role=p),f&&(e.message.function_call?(f.name&&(e.message.function_call.name=f.name),f.arguments&&((i=e.message.function_call).arguments??(i.arguments=""),e.message.function_call.arguments+=f.arguments)):e.message.function_call=f),o&&(e.message.content=(e.message.content||"")+o,!e.message.refusal&&rm(this,T,"m",H).call(this)&&(e.message.parsed=i6(e.message.content))),g)for(let{index:t,id:r,type:i,function:n,...a}of(e.message.tool_calls||(e.message.tool_calls=[]),g)){let o=(s=e.message.tool_calls)[t]??(s[t]={});Object.assign(o,a),r&&(o.id=r),i&&(o.type=i),n&&(o.function??(o.function={name:n.name??"",arguments:""})),n?.name&&(o.function.name=n.name),n?.arguments&&(o.function.arguments+=n.arguments,function(e,t){if(!e||!("tools"in e)||!e.tools)return!1;let r=e.tools?.find(e=>iq(e)&&e.function?.name===t.function.name);return iq(r)&&(iK(r)||r?.function.strict||!1)}(rm(this,C,"f"),o)&&(o.function.parsed_arguments=i6(o.function.arguments)))}}return n},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("chunk",r=>{let i=t.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),this.on("error",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ip(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function i9(e){return JSON.stringify(e)}class se extends i7{static fromReadableStream(e){let t=new se(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,r){let i=new se(t),s={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,s)),i}}class st extends iz{constructor(){super(...arguments),this.messages=new iV(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(iW`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(iW`/chat/completions/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/chat/completions",iS,{query:e,...t})}delete(e,t){return this._client.delete(iW`/chat/completions/${e}`,t)}parse(e,t){for(let t of e.tools??[]){if("function"!==t.type)throw new r_(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new r_(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}return this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(t=>iG(t,e))}runTools(e,t){return e.stream?se.runTools(this._client,e,t):i2.runTools(this._client,e,t)}stream(e,t){return i7.createChatCompletion(this._client,e,t)}}st.Messages=iV;class sr extends iz{constructor(){super(...arguments),this.completions=new st(this._client)}}sr.Completions=st;let si=Symbol("brand.privateNullableHeaders"),ss=e=>{let t=new Headers,r=new Set;for(let i of e){let e=new Set;for(let[s,n]of function*(e){let t;if(!e)return;if(si in e){let{values:t,nulls:r}=e;for(let e of(yield*t.entries(),r))yield[e,null];return}let r=!1;for(let i of(e instanceof Headers?t=e.entries():r$(e)?t=e:(r=!0,t=Object.entries(e??{})),t)){let e=i[0];if("string"!=typeof e)throw TypeError("expected header name to be a string");let t=r$(i[1])?i[1]:[i[1]],s=!1;for(let i of t)void 0!==i&&(r&&!s&&(s=!0,yield[e,null]),yield[e,i])}}(i)){let i=s.toLowerCase();e.has(i)||(t.delete(s),e.add(i)),null===n?(t.delete(s),r.add(i)):(t.append(s,n),r.delete(i))}}return{[si]:!0,values:t,nulls:r}};class sn extends iz{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:ss([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}class sa extends iz{create(e,t){return this._client.post("/audio/transcriptions",iP({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class so extends iz{create(e,t){return this._client.post("/audio/translations",iP({body:e,...t,__metadata:{model:e.model}},this._client))}}class sl extends iz{constructor(){super(...arguments),this.transcriptions=new sa(this._client),this.translations=new so(this._client),this.speech=new sn(this._client)}}sl.Transcriptions=sa,sl.Translations=so,sl.Speech=sn;class sd extends iz{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(iW`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",iS,{query:e,...t})}cancel(e,t){return this._client.post(iW`/batches/${e}/cancel`,t)}}class sc extends iz{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(iW`/assistants/${e}`,{...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(iW`/assistants/${e}`,{body:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",iS,{query:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(iW`/assistants/${e}`,{...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class sh extends iz{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class su extends iz{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class sf extends iz{constructor(){super(...arguments),this.sessions=new sh(this._client),this.transcriptionSessions=new su(this._client)}}sf.Sessions=sh,sf.TranscriptionSessions=su;class sp extends iz{create(e,t,r){return this._client.post(iW`/threads/${e}/messages`,{body:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){let{thread_id:i}=t;return this._client.get(iW`/threads/${i}/messages/${e}`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){let{thread_id:i,...s}=t;return this._client.post(iW`/threads/${i}/messages/${e}`,{body:s,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(iW`/threads/${e}/messages`,iS,{query:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){let{thread_id:i}=t;return this._client.delete(iW`/threads/${i}/messages/${e}`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class sg extends iz{retrieve(e,t,r){let{thread_id:i,run_id:s,...n}=t;return this._client.get(iW`/threads/${i}/runs/${s}/steps/${e}`,{query:n,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t,r){let{thread_id:i,...s}=t;return this._client.getAPIList(iW`/threads/${i}/runs/${e}/steps`,iS,{query:s,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let sm=e=>{if("undefined"!=typeof Buffer){let t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{let t=atob(e),r=t.length,i=new Uint8Array(r);for(let e=0;e<r;e++)i[e]=t.charCodeAt(e);return Array.from(new Float32Array(i.buffer))}},sb=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0;class sx extends i0{constructor(){super(...arguments),V.add(this),X.set(this,[]),K.set(this,{}),G.set(this,{}),Y.set(this,void 0),J.set(this,void 0),Q.set(this,void 0),Z.set(this,void 0),ee.set(this,void 0),et.set(this,void 0),er.set(this,void 0),ei.set(this,void 0),es.set(this,void 0)}[(X=new WeakMap,K=new WeakMap,G=new WeakMap,Y=new WeakMap,J=new WeakMap,Q=new WeakMap,Z=new WeakMap,ee=new WeakMap,et=new WeakMap,er=new WeakMap,ei=new WeakMap,es=new WeakMap,V=new WeakSet,Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("event",r=>{let i=t.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),this.on("error",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let t=new q;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){let r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();let i=ip.fromReadableStream(e,this.controller);for await(let e of i)rm(this,V,"m",en).call(this,e);if(i.controller.signal?.aborted)throw new rw;return this._addRun(rm(this,V,"m",ea).call(this))}toReadableStream(){return new ip(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,i){let s=new q;return s._run(()=>s._runToolAssistantStream(e,t,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,t,r,i){let s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));let n={...r,stream:!0},a=await e.submitToolOutputs(t,n,{...i,signal:this.controller.signal});for await(let e of(this._connected(),a))rm(this,V,"m",en).call(this,e);if(a.controller.signal?.aborted)throw new rw;return this._addRun(rm(this,V,"m",ea).call(this))}static createThreadAssistantStream(e,t,r){let i=new q;return i._run(()=>i._threadAssistantStream(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,t,r,i){let s=new q;return s._run(()=>s._runAssistantStream(e,t,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return rm(this,er,"f")}currentRun(){return rm(this,ei,"f")}currentMessageSnapshot(){return rm(this,Y,"f")}currentRunStepSnapshot(){return rm(this,es,"f")}async finalRunSteps(){return await this.done(),Object.values(rm(this,K,"f"))}async finalMessages(){return await this.done(),Object.values(rm(this,G,"f"))}async finalRun(){if(await this.done(),!rm(this,J,"f"))throw Error("Final run was not received.");return rm(this,J,"f")}async _createThreadAssistantStream(e,t,r){let i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let s={...t,stream:!0},n=await e.createAndRun(s,{...r,signal:this.controller.signal});for await(let e of(this._connected(),n))rm(this,V,"m",en).call(this,e);if(n.controller.signal?.aborted)throw new rw;return this._addRun(rm(this,V,"m",ea).call(this))}async _createAssistantStream(e,t,r,i){let s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));let n={...r,stream:!0},a=await e.create(t,n,{...i,signal:this.controller.signal});for await(let e of(this._connected(),a))rm(this,V,"m",en).call(this,e);if(a.controller.signal?.aborted)throw new rw;return this._addRun(rm(this,V,"m",ea).call(this))}static accumulateDelta(e,t){for(let[r,i]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let t=e[r];if(null==t||"index"===r||"type"===r){e[r]=i;continue}if("string"==typeof t&&"string"==typeof i)t+=i;else if("number"==typeof t&&"number"==typeof i)t+=i;else if(rB(t)&&rB(i))t=this.accumulateDelta(t,i);else if(Array.isArray(t)&&Array.isArray(i)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...i);continue}for(let e of i){if(!rB(e))throw Error(`Expected array delta entry to be an object but got: ${e}`);let r=e.index;if(null==r)throw console.error(e),Error("Expected array delta entry to have an `index` property");if("number"!=typeof r)throw Error(`Expected array delta entry \`index\` property to be a number but got ${r}`);let i=t[r];null==i?t.push(e):t[r]=this.accumulateDelta(i,e)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${t}`);e[r]=t}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,i){return await this._createAssistantStream(t,e,r,i)}async _runToolAssistantStream(e,t,r,i){return await this._createToolAssistantStream(t,e,r,i)}}q=sx,en=function(e){if(!this.ended)switch(rg(this,er,e,"f"),rm(this,V,"m",ed).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":rm(this,V,"m",ef).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":rm(this,V,"m",el).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":rm(this,V,"m",eo).call(this,e);break;case"error":throw Error("Encountered an error event in event processing - errors should be processed earlier")}},ea=function(){if(this.ended)throw new r_("stream has ended, this shouldn't happen");if(!rm(this,J,"f"))throw Error("Final run has not been received");return rm(this,J,"f")},eo=function(e){let[t,r]=rm(this,V,"m",eh).call(this,e,rm(this,Y,"f"));for(let e of(rg(this,Y,t,"f"),rm(this,G,"f")[t.id]=t,r)){let r=t.content[e.index];r?.type=="text"&&this._emit("textCreated",r.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(let r of e.data.delta.content){if("text"==r.type&&r.text){let e=r.text,i=t.content[r.index];if(i&&"text"==i.type)this._emit("textDelta",e,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=rm(this,Q,"f")){if(rm(this,Z,"f"))switch(rm(this,Z,"f").type){case"text":this._emit("textDone",rm(this,Z,"f").text,rm(this,Y,"f"));break;case"image_file":this._emit("imageFileDone",rm(this,Z,"f").image_file,rm(this,Y,"f"))}rg(this,Q,r.index,"f")}rg(this,Z,t.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==rm(this,Q,"f")){let t=e.data.content[rm(this,Q,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,rm(this,Y,"f"));break;case"text":this._emit("textDone",t.text,rm(this,Y,"f"))}}rm(this,Y,"f")&&this._emit("messageDone",e.data),rg(this,Y,void 0,"f")}},el=function(e){let t=rm(this,V,"m",ec).call(this,e);switch(rg(this,es,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let r=e.data.delta;if(r.step_details&&"tool_calls"==r.step_details.type&&r.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(let e of r.step_details.tool_calls)e.index==rm(this,ee,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(rm(this,et,"f")&&this._emit("toolCallDone",rm(this,et,"f")),rg(this,ee,e.index,"f"),rg(this,et,t.step_details.tool_calls[e.index],"f"),rm(this,et,"f")&&this._emit("toolCallCreated",rm(this,et,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":rg(this,es,void 0,"f"),"tool_calls"==e.data.step_details.type&&rm(this,et,"f")&&(this._emit("toolCallDone",rm(this,et,"f")),rg(this,et,void 0,"f")),this._emit("runStepDone",e.data,t)}},ed=function(e){rm(this,X,"f").push(e),this._emit("event",e)},ec=function(e){switch(e.event){case"thread.run.step.created":return rm(this,K,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=rm(this,K,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){let i=q.accumulateDelta(t,r.delta);rm(this,K,"f")[e.data.id]=i}return rm(this,K,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":rm(this,K,"f")[e.data.id]=e.data}if(rm(this,K,"f")[e.data.id])return rm(this,K,"f")[e.data.id];throw Error("No snapshot available")},eh=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(let e of i.delta.content)if(e.index in t.content){let r=t.content[e.index];t.content[e.index]=rm(this,V,"m",eu).call(this,e,r)}else t.content[e.index]=e,r.push(e);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},eu=function(e,t){return q.accumulateDelta(t,e)},ef=function(e){switch(rg(this,ei,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":rg(this,J,e.data,"f"),rm(this,et,"f")&&(this._emit("toolCallDone",rm(this,et,"f")),rg(this,et,void 0,"f"))}};class sy extends iz{constructor(){super(...arguments),this.steps=new sg(this._client)}create(e,t,r){let{include:i,...s}=t;return this._client.post(iW`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}retrieve(e,t,r){let{thread_id:i}=t;return this._client.get(iW`/threads/${i}/runs/${e}`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){let{thread_id:i,...s}=t;return this._client.post(iW`/threads/${i}/runs/${e}`,{body:s,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(iW`/threads/${e}/runs`,iS,{query:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){let{thread_id:i}=t;return this._client.post(iW`/threads/${i}/runs/${e}/cancel`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){let i=await this.create(e,t,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,t,r){return sx.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){let i=ss([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:s,response:n}=await this.retrieve(e,t,{...r,headers:{...r?.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let e=n.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(a=t)}}await rH(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,t,r){return sx.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r){let{thread_id:i,...s}=t;return this._client.post(iW`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:s,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,r){let i=await this.submitToolOutputs(e,t,r);return await this.poll(i.id,t,r)}submitToolOutputsStream(e,t,r){return sx.createToolAssistantStream(e,this._client.beta.threads.runs,t,r)}}sy.Steps=sg;class s_ extends iz{constructor(){super(...arguments),this.runs=new sy(this._client),this.messages=new sp(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(iW`/threads/${e}`,{...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(iW`/threads/${e}`,{body:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t){return this._client.delete(iW`/threads/${e}`,{...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){let r=await this.createAndRun(e,t);return await this.runs.poll(r.id,{thread_id:r.thread_id},t)}createAndRunStream(e,t){return sx.createThreadAssistantStream(e,this._client.beta.threads,t)}}s_.Runs=sy,s_.Messages=sp;class sv extends iz{constructor(){super(...arguments),this.realtime=new sf(this._client),this.assistants=new sc(this._client),this.threads=new s_(this._client)}}sv.Realtime=sf,sv.Assistants=sc,sv.Threads=s_;class sw extends iz{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class sk extends iz{retrieve(e,t,r){let{container_id:i}=t;return this._client.get(iW`/containers/${i}/files/${e}/content`,{...r,headers:ss([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}class sS extends iz{constructor(){super(...arguments),this.content=new sk(this._client)}create(e,t,r){return this._client.post(iW`/containers/${e}/files`,iP({body:t,...r},this._client))}retrieve(e,t,r){let{container_id:i}=t;return this._client.get(iW`/containers/${i}/files/${e}`,r)}list(e,t={},r){return this._client.getAPIList(iW`/containers/${e}/files`,iS,{query:t,...r})}delete(e,t,r){let{container_id:i}=t;return this._client.delete(iW`/containers/${i}/files/${e}`,{...r,headers:ss([{Accept:"*/*"},r?.headers])})}}sS.Content=sk;class sE extends iz{constructor(){super(...arguments),this.files=new sS(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(iW`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",iS,{query:e,...t})}delete(e,t){return this._client.delete(iW`/containers/${e}`,{...t,headers:ss([{Accept:"*/*"},t?.headers])})}}sE.Files=sS;class sR extends iz{create(e,t){let r=!!e.encoding_format,i=r?e.encoding_format:"base64";r&&ih(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);let s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...t});return r?s:(ih(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{let t=e.embedding;e.embedding=sm(t)}),e)))}}class sA extends iz{retrieve(e,t,r){let{eval_id:i,run_id:s}=t;return this._client.get(iW`/evals/${i}/runs/${s}/output_items/${e}`,r)}list(e,t,r){let{eval_id:i,...s}=t;return this._client.getAPIList(iW`/evals/${i}/runs/${e}/output_items`,iS,{query:s,...r})}}class sO extends iz{constructor(){super(...arguments),this.outputItems=new sA(this._client)}create(e,t,r){return this._client.post(iW`/evals/${e}/runs`,{body:t,...r})}retrieve(e,t,r){let{eval_id:i}=t;return this._client.get(iW`/evals/${i}/runs/${e}`,r)}list(e,t={},r){return this._client.getAPIList(iW`/evals/${e}/runs`,iS,{query:t,...r})}delete(e,t,r){let{eval_id:i}=t;return this._client.delete(iW`/evals/${i}/runs/${e}`,r)}cancel(e,t,r){let{eval_id:i}=t;return this._client.post(iW`/evals/${i}/runs/${e}`,r)}}sO.OutputItems=sA;class sP extends iz{constructor(){super(...arguments),this.runs=new sO(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(iW`/evals/${e}`,t)}update(e,t,r){return this._client.post(iW`/evals/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/evals",iS,{query:e,...t})}delete(e,t){return this._client.delete(iW`/evals/${e}`,t)}}sP.Runs=sO;class sj extends iz{create(e,t){return this._client.post("/files",iP({body:e,...t},this._client))}retrieve(e,t){return this._client.get(iW`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",iS,{query:e,...t})}delete(e,t){return this._client.delete(iW`/files/${e}`,t)}content(e,t){return this._client.get(iW`/files/${e}/content`,{...t,headers:ss([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=18e5}={}){let i=new Set(["processed","error","deleted"]),s=Date.now(),n=await this.retrieve(e);for(;!n.status||!i.has(n.status);)if(await rH(t),n=await this.retrieve(e),Date.now()-s>r)throw new rS({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return n}}class sM extends iz{}class sN extends iz{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}class sT extends iz{constructor(){super(...arguments),this.graders=new sN(this._client)}}sT.Graders=sN;class sC extends iz{create(e,t,r){return this._client.getAPIList(iW`/fine_tuning/checkpoints/${e}/permissions`,ik,{body:t,method:"post",...r})}retrieve(e,t={},r){return this._client.get(iW`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...r})}delete(e,t,r){let{fine_tuned_model_checkpoint:i}=t;return this._client.delete(iW`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}class sD extends iz{constructor(){super(...arguments),this.permissions=new sC(this._client)}}sD.Permissions=sC;class sI extends iz{list(e,t={},r){return this._client.getAPIList(iW`/fine_tuning/jobs/${e}/checkpoints`,iS,{query:t,...r})}}class sL extends iz{constructor(){super(...arguments),this.checkpoints=new sI(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(iW`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",iS,{query:e,...t})}cancel(e,t){return this._client.post(iW`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return this._client.getAPIList(iW`/fine_tuning/jobs/${e}/events`,iS,{query:t,...r})}pause(e,t){return this._client.post(iW`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(iW`/fine_tuning/jobs/${e}/resume`,t)}}sL.Checkpoints=sI;class sF extends iz{constructor(){super(...arguments),this.methods=new sM(this._client),this.jobs=new sL(this._client),this.checkpoints=new sD(this._client),this.alpha=new sT(this._client)}}sF.Methods=sM,sF.Jobs=sL,sF.Checkpoints=sD,sF.Alpha=sT;class s$ extends iz{}class sB extends iz{constructor(){super(...arguments),this.graderModels=new s$(this._client)}}sB.GraderModels=s$;class sz extends iz{createVariation(e,t){return this._client.post("/images/variations",iP({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",iP({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}class sU extends iz{retrieve(e,t){return this._client.get(iW`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",ik,e)}delete(e,t){return this._client.delete(iW`/models/${e}`,t)}}class sH extends iz{create(e,t){return this._client.post("/moderations",{body:e,...t})}}function sW(e,t){let r=e.output.map(e=>{if("function_call"===e.type)return{...e,parsed_arguments:function(e,t){let r=function(e,t){return e.find(e=>"function"===e.type&&e.name===t)}(e.tools??[],t.name);return{...t,...t,parsed_arguments:function(e){return e?.$brand==="auto-parseable-tool"}(r)?r.$parseRaw(t.arguments):r?.strict?JSON.parse(t.arguments):null}}(t,e)};if("message"===e.type){let r=e.content.map(e=>{var r,i;return"output_text"===e.type?{...e,parsed:(r=t,i=e.text,r.text?.format?.type!=="json_schema"?null:"$parseRaw"in r.text?.format?(r.text?.format).$parseRaw(i):JSON.parse(i))}:e});return{...e,content:r}}return e}),i=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||sV(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(let e of i.output)if("message"===e.type){for(let t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed}return null}}),i}function sV(e){let t=[];for(let r of e.output)if("message"===r.type)for(let e of r.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}class sq extends i0{constructor(e){super(),ep.add(this),eg.set(this,void 0),em.set(this,void 0),eb.set(this,void 0),rg(this,eg,e,"f")}static createResponse(e,t,r){let i=new sq(t);return i._run(()=>i._createOrRetrieveResponse(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,t,r){let i,s=r?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),rm(this,ep,"m",ex).call(this);let n=null;for await(let s of("response_id"in t?(i=await e.responses.retrieve(t.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),n=t.starting_after??null):i=await e.responses.create({...t,stream:!0},{...r,signal:this.controller.signal}),this._connected(),i))rm(this,ep,"m",ey).call(this,s,n);if(i.controller.signal?.aborted)throw new rw;return rm(this,ep,"m",e_).call(this)}[(eg=new WeakMap,em=new WeakMap,eb=new WeakMap,ep=new WeakSet,ex=function(){this.ended||rg(this,em,void 0,"f")},ey=function(e,t){if(this.ended)return;let r=(e,r)=>{(null==t||r.sequence_number>t)&&this._emit(e,r)},i=rm(this,ep,"m",ev).call(this,e);switch(r("event",e),e.type){case"response.output_text.delta":{let t=i.output[e.output_index];if(!t)throw new r_(`missing output at index ${e.output_index}`);if("message"===t.type){let i=t.content[e.content_index];if(!i)throw new r_(`missing content at index ${e.content_index}`);if("output_text"!==i.type)throw new r_(`expected content to be 'output_text', got ${i.type}`);r("response.output_text.delta",{...e,snapshot:i.text})}break}case"response.function_call_arguments.delta":{let t=i.output[e.output_index];if(!t)throw new r_(`missing output at index ${e.output_index}`);"function_call"===t.type&&r("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:r(e.type,e)}},e_=function(){if(this.ended)throw new r_("stream has ended, this shouldn't happen");let e=rm(this,em,"f");if(!e)throw new r_("request ended without sending any events");rg(this,em,void 0,"f");let t=function(e,t){var r;return t&&(r=t,iX(r.text?.format))?sW(e,t):{...e,output_parsed:null,output:e.output.map(e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map(e=>({...e,parsed:null}))}:e)}}(e,rm(this,eg,"f"));return rg(this,eb,t,"f"),t},ev=function(e){let t=rm(this,em,"f");if(!t){if("response.created"!==e.type)throw new r_(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return rg(this,em,e.response,"f")}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{let r=t.output[e.output_index];if(!r)throw new r_(`missing output at index ${e.output_index}`);"message"===r.type&&r.content.push(e.part);break}case"response.output_text.delta":{let r=t.output[e.output_index];if(!r)throw new r_(`missing output at index ${e.output_index}`);if("message"===r.type){let t=r.content[e.content_index];if(!t)throw new r_(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new r_(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{let r=t.output[e.output_index];if(!r)throw new r_(`missing output at index ${e.output_index}`);"function_call"===r.type&&(r.arguments+=e.delta);break}case"response.completed":rg(this,em,e.response,"f")}return t},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("event",r=>{let i=t.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),this.on("error",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=rm(this,eb,"f");if(!e)throw new r_("stream ended without producing a ChatCompletion");return e}}class sX extends iz{list(e,t={},r){return this._client.getAPIList(iW`/responses/${e}/input_items`,iS,{query:t,...r})}}class sK extends iz{constructor(){super(...arguments),this.inputItems=new sX(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&sV(e),e))}retrieve(e,t={},r){return this._client.get(iW`/responses/${e}`,{query:t,...r,stream:t?.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&sV(e),e))}delete(e,t){return this._client.delete(iW`/responses/${e}`,{...t,headers:ss([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>sW(t,e))}stream(e,t){return sq.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(iW`/responses/${e}/cancel`,t)}}sK.InputItems=sX;class sG extends iz{create(e,t,r){return this._client.post(iW`/uploads/${e}/parts`,iP({body:t,...r},this._client))}}class sY extends iz{constructor(){super(...arguments),this.parts=new sG(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(iW`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(iW`/uploads/${e}/complete`,{body:t,...r})}}sY.Parts=sG;let sJ=async e=>{let t=await Promise.allSettled(e),r=t.filter(e=>"rejected"===e.status);if(r.length){for(let e of r)console.error(e.reason);throw Error(`${r.length} promise(s) failed - see the above errors`)}let i=[];for(let e of t)"fulfilled"===e.status&&i.push(e.value);return i};class sQ extends iz{create(e,t,r){return this._client.post(iW`/vector_stores/${e}/file_batches`,{body:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){let{vector_store_id:i}=t;return this._client.get(iW`/vector_stores/${i}/file_batches/${e}`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){let{vector_store_id:i}=t;return this._client.post(iW`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){let i=await this.create(e,t);return await this.poll(e,i.id,r)}listFiles(e,t,r){let{vector_store_id:i,...s}=t;return this._client.getAPIList(iW`/vector_stores/${i}/file_batches/${e}/files`,iS,{query:s,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,t,r){let i=ss([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:s,response:n}=await this.retrieve(t,{vector_store_id:e},{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let e=n.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(a=t)}}await rH(a);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},i){if(null==t||0==t.length)throw Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let s=Math.min(i?.maxConcurrency??5,t.length),n=this._client,a=t.values(),o=[...r];async function l(e){for(let t of e){let e=await n.files.create({file:t,purpose:"assistants"},i);o.push(e.id)}}let d=Array(s).fill(a).map(l);return await sJ(d),await this.createAndPoll(e,{file_ids:o})}}class sZ extends iz{create(e,t,r){return this._client.post(iW`/vector_stores/${e}/files`,{body:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){let{vector_store_id:i}=t;return this._client.get(iW`/vector_stores/${i}/files/${e}`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){let{vector_store_id:i,...s}=t;return this._client.post(iW`/vector_stores/${i}/files/${e}`,{body:s,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(iW`/vector_stores/${e}/files`,iS,{query:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){let{vector_store_id:i}=t;return this._client.delete(iW`/vector_stores/${i}/files/${e}`,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){let i=await this.create(e,t,r);return await this.poll(e,i.id,r)}async poll(e,t,r){let i=ss([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let s=await this.retrieve(t,{vector_store_id:e},{...r,headers:i}).withResponse(),n=s.data;switch(n.status){case"in_progress":let a=5e3;if(r?.pollIntervalMs)a=r.pollIntervalMs;else{let e=s.response.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(a=t)}}await rH(a);break;case"failed":case"completed":return n}}}async upload(e,t,r){let i=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,t,r){let i=await this.upload(e,t,r);return await this.poll(e,i.id,r)}content(e,t,r){let{vector_store_id:i}=t;return this._client.getAPIList(iW`/vector_stores/${i}/files/${e}/content`,ik,{...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class s0 extends iz{constructor(){super(...arguments),this.files=new sZ(this._client),this.fileBatches=new sQ(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(iW`/vector_stores/${e}`,{...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(iW`/vector_stores/${e}`,{body:t,...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",iS,{query:e,...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(iW`/vector_stores/${e}`,{...t,headers:ss([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,r){return this._client.getAPIList(iW`/vector_stores/${e}/search`,ik,{body:t,method:"post",...r,headers:ss([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}s0.Files=sZ,s0.FileBatches=sQ;class s1 extends iz{constructor(){super(...arguments),ew.add(this)}async unwrap(e,t,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,t,r,i),JSON.parse(e)}async verifySignature(e,t,r=this._client.webhookSecret,i=300){if("undefined"==typeof crypto||"function"!=typeof crypto.subtle.importKey||"function"!=typeof crypto.subtle.verify)throw Error("Webhook signature verification is only supported when the `crypto` global is defined");rm(this,ew,"m",ek).call(this,r);let s=ss([t]).values,n=rm(this,ew,"m",eS).call(this,s,"webhook-signature"),a=rm(this,ew,"m",eS).call(this,s,"webhook-timestamp"),o=rm(this,ew,"m",eS).call(this,s,"webhook-id"),l=parseInt(a,10);if(isNaN(l))throw new rD("Invalid webhook timestamp format");let d=Math.floor(Date.now()/1e3);if(d-l>i)throw new rD("Webhook timestamp is too old");if(l>d+i)throw new rD("Webhook timestamp is too new");let c=n.split(" ").map(e=>e.startsWith("v1,")?e.substring(3):e),h=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),u=o?`${o}.${a}.${e}`:`${a}.${e}`,f=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let e of c)try{let t=Buffer.from(e,"base64");if(await crypto.subtle.verify("HMAC",f,t,new TextEncoder().encode(u)))return}catch{continue}throw new rD("The given webhook signature does not match the expected signature")}}ew=new WeakSet,ek=function(e){if("string"!=typeof e||0===e.length)throw Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},eS=function(e,t){if(!e)throw Error("Headers are required");let r=e.get(t);if(null==r)throw Error(`Missing required header: ${t}`);return r};class s2{constructor({baseURL:e=sb("OPENAI_BASE_URL"),apiKey:t=sb("OPENAI_API_KEY"),organization:r=sb("OPENAI_ORG_ID")??null,project:i=sb("OPENAI_PROJECT_ID")??null,webhookSecret:s=sb("OPENAI_WEBHOOK_SECRET")??null,...n}={}){if(eE.add(this),eA.set(this,void 0),this.completions=new sw(this),this.chat=new sr(this),this.embeddings=new sR(this),this.files=new sj(this),this.images=new sz(this),this.audio=new sl(this),this.moderations=new sH(this),this.models=new sU(this),this.fineTuning=new sF(this),this.graders=new sB(this),this.vectorStores=new s0(this),this.webhooks=new s1(this),this.beta=new sv(this),this.batches=new sd(this),this.uploads=new sY(this),this.responses=new sK(this),this.evals=new sP(this),this.containers=new sE(this),void 0===t)throw new r_("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let a={apiKey:t,organization:r,project:i,webhookSecret:s,...n,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&rV())throw new r_("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=a.baseURL,this.timeout=a.timeout??eR.DEFAULT_TIMEOUT,this.logger=a.logger??console;let o="warn";this.logLevel=o,this.logLevel=ia(a.logLevel,"ClientOptions.logLevel",this)??ia(sb("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??o,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??function(){if("undefined"!=typeof fetch)return fetch;throw Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),rg(this,eA,r0,"f"),this._options=a,this.apiKey=t,this.organization=r,this.project=i,this.webhookSecret=s}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return ss([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return function(e,t={}){let r,i,s=e,n=function(e=r9){let t;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");let r=e.charset||r9.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let i=r1;if(void 0!==e.format){if(!r4(r5,e.format))throw TypeError("Unknown format option provided.");i=e.format}let s=r5[i],n=r9.filter;if(("function"==typeof e.filter||rF(e.filter))&&(n=e.filter),t=e.arrayFormat&&e.arrayFormat in r6?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":r9.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");let a=void 0===e.allowDots?!0==!!e.encodeDotInKeys||r9.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:r9.addQueryPrefix,allowDots:a,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:r9.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:r9.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?r9.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:r9.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:r9.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:r9.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:r9.encodeValuesOnly,filter:n,format:i,formatter:s,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:r9.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:r9.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:r9.strictNullHandling}}(t);"function"==typeof n.filter?s=(0,n.filter)("",s):rF(n.filter)&&(r=n.filter);let a=[];if("object"!=typeof s||null===s)return"";let o=r6[n.arrayFormat],l="comma"===o&&n.commaRoundTrip;r||(r=Object.keys(s)),n.sort&&r.sort(n.sort);let d=new WeakMap;for(let e=0;e<r.length;++e){let t=r[e];n.skipNulls&&null===s[t]||r7(a,function e(t,r,i,s,n,a,o,l,d,c,h,u,f,p,g,m,b,x){var y,_;let v,w=t,k=x,S=0,E=!1;for(;void 0!==(k=k.get(ie))&&!E;){let e=k.get(t);if(S+=1,void 0!==e)if(e===S)throw RangeError("Cyclic object value");else E=!0;void 0===k.get(ie)&&(S=0)}if("function"==typeof c?w=c(r,w):w instanceof Date?w=f?.(w):"comma"===i&&rF(w)&&(w=r8(w,function(e){return e instanceof Date?f?.(e):e})),null===w){if(a)return d&&!m?d(r,r9.encoder,b,"key",p):r;w=""}if("string"==typeof(y=w)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||(_=w)&&"object"==typeof _&&_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_)){if(d){let e=m?r:d(r,r9.encoder,b,"key",p);return[g?.(e)+"="+g?.(d(w,r9.encoder,b,"value",p))]}return[g?.(r)+"="+g?.(String(w))]}let R=[];if(void 0===w)return R;if("comma"===i&&rF(w))m&&d&&(w=r8(w,d)),v=[{value:w.length>0?w.join(",")||null:void 0}];else if(rF(c))v=c;else{let e=Object.keys(w);v=h?e.sort(h):e}let A=l?String(r).replace(/\./g,"%2E"):String(r),O=s&&rF(w)&&1===w.length?A+"[]":A;if(n&&rF(w)&&0===w.length)return O+"[]";for(let r=0;r<v.length;++r){let y=v[r],_="object"==typeof y&&void 0!==y.value?y.value:w[y];if(o&&null===_)continue;let k=u&&l?y.replace(/\./g,"%2E"):y,E=rF(w)?"function"==typeof i?i(O,k):O:O+(u?"."+k:"["+k+"]");x.set(t,S);let A=new WeakMap;A.set(ie,x),r7(R,e(_,E,i,s,n,a,o,l,"comma"===i&&m&&rF(w)?null:d,c,h,u,f,p,g,m,b,A))}return R}(s[t],t,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}let c=a.join(n.delimiter),h=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),c.length>0?h+c:""}(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${rW}`}defaultIdempotencyKey(){return`stainless-node-retry-${rb()}`}makeStatusError(e,t,r,i){return rv.generate(e,t,r,i)}buildURL(e,t,r){let i=!rm(this,eE,"m",eO).call(this)&&r||this.baseURL,s=new URL(rL(e)?e:i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return!function(e){if(!e)return!0;for(let t in e)return!1;return!0}(n)&&(t={...n,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(r=>({method:e,path:t,...r})))}request(e,t=null){return new i_(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){let i=await e,s=i.maxRetries??this.maxRetries;null==t&&(t=s),await this.prepareOptions(i);let{req:n,url:a,timeout:o}=await this.buildRequest(i,{retryCount:s-t});await this.prepareRequest(n,{url:a,options:i});let l="log_"+(0x1000000*Math.random()|0).toString(16).padStart(6,"0"),d=void 0===r?"":`, retryOf: ${r}`,c=Date.now();if(ih(this).debug(`[${l}] sending request`,iu({retryOfRequestLogID:r,method:i.method,url:a,options:i,headers:n.headers})),i.signal?.aborted)throw new rw;let h=new AbortController,u=await this.fetchWithTimeout(a,n,o,h).catch(ry),f=Date.now();if(u instanceof Error){let e=`retrying, ${t} attempts remaining`;if(i.signal?.aborted)throw new rw;let s=rx(u)||/timed? ?out/i.test(String(u)+("cause"in u?String(u.cause):""));if(t)return ih(this).info(`[${l}] connection ${s?"timed out":"failed"} - ${e}`),ih(this).debug(`[${l}] connection ${s?"timed out":"failed"} (${e})`,iu({retryOfRequestLogID:r,url:a,durationMs:f-c,message:u.message})),this.retryRequest(i,t,r??l);if(ih(this).info(`[${l}] connection ${s?"timed out":"failed"} - error; no more retries left`),ih(this).debug(`[${l}] connection ${s?"timed out":"failed"} (error; no more retries left)`,iu({retryOfRequestLogID:r,url:a,durationMs:f-c,message:u.message})),s)throw new rS;throw new rk({cause:u})}let p=[...u.headers.entries()].filter(([e])=>"x-request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join(""),g=`[${l}${d}${p}] ${n.method} ${a} ${u.ok?"succeeded":"failed"} with status ${u.status} in ${f-c}ms`;if(!u.ok){let e=await this.shouldRetry(u);if(t&&e){let e=`retrying, ${t} attempts remaining`;return await rZ(u.body),ih(this).info(`${g} - ${e}`),ih(this).debug(`[${l}] response error (${e})`,iu({retryOfRequestLogID:r,url:u.url,status:u.status,headers:u.headers,durationMs:f-c})),this.retryRequest(i,t,r??l,u.headers)}let s=e?"error; no more retries left":"error; not retryable";ih(this).info(`${g} - ${s}`);let n=await u.text().catch(e=>ry(e).message),a=rU(n),o=a?void 0:n;throw ih(this).debug(`[${l}] response error (${s})`,iu({retryOfRequestLogID:r,url:u.url,status:u.status,headers:u.headers,message:o,durationMs:Date.now()-c})),this.makeStatusError(u.status,a,o,u.headers)}return ih(this).info(g),ih(this).debug(`[${l}] response start`,iu({retryOfRequestLogID:r,url:u.url,status:u.status,headers:u.headers,durationMs:f-c})),{response:u,options:i,controller:h,requestLogID:l,retryOfRequestLogID:r,startTime:c}}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}requestAPIList(e,t){return new iw(this,this.makeRequest(t,null,void 0),e)}async fetchWithTimeout(e,t,r,i){let{signal:s,method:n,...a}=t||{};s&&s.addEventListener("abort",()=>i.abort());let o=setTimeout(()=>i.abort(),r),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,d={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...a};n&&(d.method=n.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(o)}}async shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,r,i){let s,n=i?.get("retry-after-ms");if(n){let e=parseFloat(n);Number.isNaN(e)||(s=e)}let a=i?.get("retry-after");if(a&&!s){let e=parseFloat(a);s=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(s&&0<=s&&s<6e4)){let r=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(t,r)}return await rH(s),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){let r={...e},{method:i,path:s,query:n,defaultBaseURL:a}=r,o=this.buildURL(s,n,a);"timeout"in r&&rz("timeout",r.timeout),r.timeout=r.timeout??this.timeout;let{bodyHeaders:l,body:d}=this.buildBody({options:r}),c=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:t});return{req:{method:i,headers:c,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...r.fetchOptions??{}},url:o,timeout:r.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);let n=ss([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...rG(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(n),n.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};let r=ss([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&r.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:rJ(e)}:rm(this,eA,"f").call(this,{body:e,headers:r})}}eR=s2,eA=new WeakMap,eE=new WeakSet,eO=function(){return"https://api.openai.com/v1"!==this.baseURL},s2.OpenAI=eR,s2.DEFAULT_TIMEOUT=6e5,s2.OpenAIError=r_,s2.APIError=rv,s2.APIConnectionError=rk,s2.APIConnectionTimeoutError=rS,s2.APIUserAbortError=rw,s2.NotFoundError=rO,s2.ConflictError=rP,s2.RateLimitError=rM,s2.BadRequestError=rE,s2.AuthenticationError=rR,s2.InternalServerError=rN,s2.PermissionDeniedError=rA,s2.UnprocessableEntityError=rj,s2.InvalidWebhookSignatureError=rD,s2.toFile=i$,s2.Completions=sw,s2.Chat=sr,s2.Embeddings=sR,s2.Files=sj,s2.Images=sz,s2.Audio=sl,s2.Moderations=sH,s2.Models=sU,s2.FineTuning=sF,s2.Graders=sB,s2.VectorStores=s0,s2.Webhooks=s1,s2.Beta=sv,s2.Batches=sd,s2.Uploads=sY,s2.Responses=sK,s2.Evals=sP,s2.Containers=sE;let s5=new s2({baseURL:"https://openrouter.ai/api/v1",apiKey:process.env.OPENROUTER_API_KEY||process.env.OPENAI_API_KEY,defaultHeaders:{"HTTP-Referer":process.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000","X-Title":"ExpenseTracker AI"}});async function s4(e){try{let t=e.map(e=>({amount:e.amount,category:e.category,description:e.description,date:e.date})),r=`Analyze the following expense data and provide 3-4 actionable financial insights. 
    Return a JSON array of insights with this structure:
    {
      "type": "warning|info|success|tip",
      "title": "Brief title",
      "message": "Detailed insight message with specific numbers when possible",
      "action": "Actionable suggestion",
      "confidence": 0.8
    }

    Expense Data:
    ${JSON.stringify(t,null,2)}

    Focus on:
    1. Spending patterns (day of week, categories)
    2. Budget alerts (high spending areas)
    3. Money-saving opportunities
    4. Positive reinforcement for good habits

    Return only valid JSON array, no additional text.`,i=(await s5.chat.completions.create({model:"deepseek/deepseek-chat-v3-0324:free",messages:[{role:"system",content:"You are a financial advisor AI that analyzes spending patterns and provides actionable insights. Always respond with valid JSON only."},{role:"user",content:r}],temperature:.7,max_tokens:1e3})).choices[0].message.content;if(!i)throw Error("No response from AI");let s=i.trim();return s.startsWith("```json")?s=s.replace(/^```json\s*/,"").replace(/\s*```$/,""):s.startsWith("```")&&(s=s.replace(/^```\s*/,"").replace(/\s*```$/,"")),JSON.parse(s).map((e,t)=>({id:`ai-${Date.now()}-${t}`,type:e.type||"info",title:e.title||"AI Insight",message:e.message||"Analysis complete",action:e.action,confidence:e.confidence||.8}))}catch(e){return console.error("❌ Error generating AI insights:",e),[{id:"fallback-1",type:"info",title:"AI Analysis Unavailable",message:"Unable to generate personalized insights at this time. Please try again later.",action:"Refresh insights",confidence:.5}]}}async function s3(e){try{let t=await s5.chat.completions.create({model:"deepseek/deepseek-chat-v3-0324:free",messages:[{role:"system",content:"You are an expense categorization AI. Categorize expenses into one of these categories: Food, Transportation, Entertainment, Shopping, Bills, Healthcare, Other. Respond with only the category name."},{role:"user",content:`Categorize this expense: "${e}"`}],temperature:.1,max_tokens:20}),r=t.choices[0].message.content?.trim();return["Food","Transportation","Entertainment","Shopping","Bills","Healthcare","Other"].includes(r||"")?r:"Other"}catch(e){return console.error("❌ Error categorizing expense:",e),"Other"}}async function s8(e,t){try{let r=t.map(e=>({amount:e.amount,category:e.category,description:e.description,date:e.date})),i=`Based on the following expense data, provide a detailed and actionable answer to this question: "${e}"

    Expense Data:
    ${JSON.stringify(r,null,2)}

    Provide a comprehensive answer that:
    1. Addresses the specific question directly
    2. Uses concrete data from the expenses when possible
    3. Offers actionable advice
    4. Keeps the response concise but informative (2-3 sentences)
    
    Return only the answer text, no additional formatting.`,s=(await s5.chat.completions.create({model:"deepseek/deepseek-chat-v3-0324:free",messages:[{role:"system",content:"You are a helpful financial advisor AI that provides specific, actionable answers based on expense data. Be concise but thorough."},{role:"user",content:i}],temperature:.7,max_tokens:200})).choices[0].message.content;if(!s)throw Error("No response from AI");return s.trim()}catch(e){return console.error("❌ Error generating AI answer:",e),"I'm unable to provide a detailed answer at the moment. Please try refreshing the insights or check your connection."}}async function s6(e){try{if(!e||e.trim().length<2)return{category:"Other",error:"Description too short for AI analysis"};return{category:await s3(e.trim())}}catch(e){return console.error("❌ Error in suggestCategory server action:",e),{category:"Other",error:"Unable to suggest category at this time"}}}(0,ru.D)([s6]),(0,ej.A)(s6,"401dbd97df416283b554f1b20ba88253fed7fabc30",null);var s7=r(67517);let s9=new(r(16698)).AsyncLocalStorage,ne=async()=>{var e,t;let r;try{let e=await ro(),t=(0,eX._b)(e,eM.AA.Headers.ClerkRequestData);r=tK(t)}catch(e){if(e&&ra(e))throw e}let i=null!=(t=null==(e=s9.getStore())?void 0:e.get("requestData"))?t:r;return(null==i?void 0:i.secretKey)||(null==i?void 0:i.publishableKey)?(0,s7.n)(i):(0,s7.n)({})};async function nt(){r(54387);let{userId:e}=await rl();return e?(await ne()).users.getUser(e):null}let nr=async()=>{let e=await nt();if(!e)return null;let t=await rc.user.findUnique({where:{clerkUserId:e.id}});return t||await rc.user.create({data:{clerkUserId:e.id,name:`${e.firstName} ${e.lastName}`,imageUrl:e.imageUrl,email:e.emailAddresses[0]?.emailAddress}})};async function ni(){try{let e=await nr();if(!e)throw Error("User not authenticated");let t=new Date;t.setDate(t.getDate()-30);let r=await rc.record.findMany({where:{userId:e.clerkUserId,createdAt:{gte:t}},orderBy:{createdAt:"desc"},take:50});if(0===r.length)return[{id:"welcome-1",type:"info",title:"Welcome to ExpenseTracker AI!",message:"Start adding your expenses to get personalized AI insights about your spending patterns.",action:"Add your first expense",confidence:1},{id:"welcome-2",type:"tip",title:"Track Regularly",message:"For best results, try to log expenses daily. This helps our AI provide more accurate insights.",action:"Set daily reminders",confidence:1}];let i=r.map(e=>({id:e.id,amount:e.amount,category:e.category??"Other",description:e.text,date:e.createdAt.toISOString()}));return await s4(i)}catch(e){return console.error("Error getting AI insights:",e),[{id:"error-1",type:"warning",title:"Insights Temporarily Unavailable",message:"We're having trouble analyzing your expenses right now. Please try again in a few minutes.",action:"Retry analysis",confidence:.5}]}}async function ns(e){try{let t=await nr();if(!t)throw Error("User not authenticated");let r=new Date;r.setDate(r.getDate()-30);let i=(await rc.record.findMany({where:{userId:t.clerkUserId,createdAt:{gte:r}},orderBy:{createdAt:"desc"},take:50})).map(e=>({id:e.id,amount:e.amount,category:e.category??"Other",description:e.text,date:e.createdAt.toISOString()}));return await s8(e,i)}catch(e){return console.error("Error generating insight answer:",e),"I'm unable to provide a detailed answer at the moment. Please try refreshing the insights or check your connection."}}async function nn(e){let{userId:t}=await rl();if(!t)return{error:"User not found"};try{return await rc.record.delete({where:{id:e,userId:t}}),(0,rh.revalidatePath)("/"),{message:"Record deleted"}}catch(e){return console.error("Error deleting record:",e),{error:"Database error"}}}(0,ru.D)([ni]),(0,ej.A)(ni,"00cee5191d287a2a59166852fb2874d00031c899b9",null),(0,ru.D)([ns]),(0,ej.A)(ns,"40f5d97f0f3508a3e640e8b7b2cd69e5d5564caa38",null);let na=nn;(0,ru.D)([nn]),(0,ej.A)(nn,"7fdc9da79e3845f8a1dc55d972899000c2936e5c5f",null)},98485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupeFetch",{enumerable:!0,get:function(){return o}});let i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=s?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}(r(7153)),s=r(72150),n=r(23302);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e){let t=i.cache(e=>[]);return function(r,i){let a,o;if(i&&i.signal)return e(r,i);if("string"!=typeof r||i){let t="string"==typeof r||r instanceof URL?new Request(r,i):r;if("GET"!==t.method&&"HEAD"!==t.method||t.keepalive)return e(r,i);o=JSON.stringify([t.method,Array.from(t.headers.entries()),t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity]),a=t.url}else o='["GET",[],null,"follow",null,null,null,null]',a=r;let l=t(a);for(let e=0,t=l.length;e<t;e+=1){let[t,r]=l[e];if(t===o)return r.then(()=>{let t=l[e][2];if(!t)throw Object.defineProperty(new n.InvariantError("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,i]=(0,s.cloneResponse)(t);return l[e][2]=i,r})}let d=e(r,i),c=[o,d,null];return l.push(c),d.then(e=>{let[t,r]=(0,s.cloneResponse)(e);return c[2]=r,t})}}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[447,760,658,763,31,190,915],()=>r(48556));module.exports=i})();